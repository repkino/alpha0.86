{
	"name": "_guard",
	"events": [
		{
			"eventType": "comment",
			"text": "\n\n\n\n\n   Стражи - неподвижные юниты, охраняющие важные объекты, обычно достижение миссии.\nСтражи охранники охраняют область вокруг одного ближайшего достижения, стражи ронины охраняют область вокруг себя.\nСтражи супер-охранники охраняют все достижения в своём кластере.\nДля подавления стражей нужно найти ключевую для каждого стража энергосферу и бросить ядро в стража.\n\nДостижения соответственно имеют флаги Охраняемый и Супер-охраняемый - действителен может быть только один, или ни одного.\n\n",
			"background-color": [
				0.7372549019607844,
				0.7568627450980392,
				0.8431372549019608,
				1
			]
		},
		{
			"eventType": "comment",
			"text": "регистрируем стражей на макете",
			"background-color": [
				0.7372549019607844,
				0.7568627450980392,
				0.8431372549019608,
				1
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 606957212673210
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "aTools",
					"sid": 892925822698150,
					"parameters": {
						"instance-variable": "n",
						"comparison": 0,
						"value": "frame.n"
					}
				}
			],
			"actions": [],
			"sid": 528935901050295,
			"children": [
				{
					"eventType": "comment",
					"text": "на макете есть стражи",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-outside-layout",
							"objectClass": "tGuard",
							"sid": 579179369270212,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "aMico",
							"sid": 518183992202191,
							"disabled": true,
							"parameters": {
								"instance-variable": "BitSpiky",
								"value": "0"
							}
						},
						{
							"callFunction": "getSpikes",
							"sid": 250223797788510,
							"disabled": true,
							"parameters": [
								"26"
							]
						},
						{
							"id": "set-time-scale",
							"objectClass": "System",
							"sid": 964921935631486,
							"disabled": true,
							"parameters": {
								"time-scale": "0.3"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "tGuard",
							"sid": 706826712942300,
							"parameters": {
								"instance-variable": "on",
								"value": "true"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "tGuard",
							"sid": 741391662275698,
							"parameters": {
								"instance-variable": "grow",
								"value": "false"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "tGuard",
							"sid": 871316424155496,
							"behaviorType": "EasyIsometric",
							"parameters": {
								"newState_": "enabled"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "tGuard",
							"sid": 769888696558644,
							"parameters": {
								"animation": "\"sleep\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "tGuard",
							"sid": 102428915680903,
							"parameters": {
								"instance-variable": "status",
								"value": "\"sleep\""
							}
						}
					],
					"sid": 518118388193568,
					"isOrBlock": true
				},
				{
					"eventType": "comment",
					"text": "каждого стража-охранника-достижений закрепляем за близким к нему охраняемым достижением",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "achivments",
							"sid": 686286751124455,
							"parameters": {
								"instance-variable": "guarded"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "tGuard",
							"sid": 447774594262529,
							"parameters": {
								"instance-variable": "achivGuard"
							}
						},
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 513519771503303,
							"parameters": {
								"object": "tGuard"
							}
						}
					],
					"actions": [],
					"sid": 613483040755924,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nearestfurthest",
									"objectClass": "achivments",
									"sid": 985923979487776,
									"parameters": {
										"which": "nearest",
										"x": "tGuard.X",
										"y": "tGuard.Y"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 738171614703460,
									"parameters": {
										"instance-variable": "achivUID",
										"value": "achivments.UID"
									}
								}
							],
							"sid": 550686253120157
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-outside-layout",
							"objectClass": "ioEnergo",
							"sid": 514565385886220,
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "ioEnergo",
							"sid": 186905221173248,
							"parameters": {
								"instance-variable": "icon",
								"comparison": 1,
								"value": "\"zero\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 472001456876672,
							"parameters": {
								"group-name": "\"energoKeys\"",
								"state": "activated"
							}
						}
					],
					"sid": 165834244997359
				}
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "energoKeys",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "ioEnergo",
							"sid": 362267733875262,
							"parameters": {
								"instance-variable": "icon",
								"comparison": 1,
								"value": "\"zero\""
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 211812528627977
				}
			],
			"sid": 970682310032013
		},
		{
			"eventType": "comment",
			"text": "\n\nвключение пульса у стражей или у достижения, при приближении Бита. Вкл/выкл группы стражей",
			"background-color": [
				0.7372549019607844,
				0.7568627450980392,
				0.8431372549019608,
				1
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-x-seconds",
					"objectClass": "System",
					"sid": 299410201313408,
					"parameters": {
						"interval-seconds": "1.0"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "base",
					"sid": 169430408928590,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				}
			],
			"actions": [],
			"sid": 889829041510876,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 759108179510080,
							"parameters": {
								"object": "achivments"
							}
						}
					],
					"actions": [],
					"sid": 768203245140977,
					"children": [
						{
							"eventType": "comment",
							"text": "\nдостижения",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "achivments",
									"sid": 318318506965972,
									"parameters": {
										"instance-variable": "guarded"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "achivments",
									"sid": 322762083137848,
									"parameters": {
										"instance-variable": "superGuarded"
									}
								}
							],
							"actions": [],
							"sid": 727648473706195,
							"children": [
								{
									"eventType": "comment",
									"text": "активация достижений",
									"background-color": [
										0.7372549019607844,
										0.7568627450980392,
										0.8431372549019608,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-los-to-object",
											"objectClass": "achivments",
											"sid": 499057051763124,
											"behaviorType": "los",
											"parameters": {
												"object": "base",
												"image-point": "0"
											}
										},
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 505788554422078,
											"disabled": true,
											"parameters": {
												"first-value": "Functions.getIsoDist(achivments.X, achivments.Y, base.X, base.Y)",
												"comparison": 2,
												"second-value": "achivments.senseDist"
											}
										}
									],
									"actions": [],
									"sid": 193458956196565,
									"children": [
										{
											"eventType": "comment",
											"text": "включение группы guard",
											"background-color": [
												0.7372549019607844,
												0.7568627450980392,
												0.8431372549019608,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-group-active",
													"objectClass": "System",
													"sid": 179497461333819,
													"parameters": {
														"group-name": "\"guard\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 353696391801360,
													"parameters": {
														"group-name": "\"guard\"",
														"state": "activated"
													}
												}
											],
											"sid": 408810125298043
										},
										{
											"eventType": "comment",
											"text": "включение пульса",
											"background-color": [
												0.7372549019607844,
												0.7568627450980392,
												0.8431372549019608,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 939739096913318,
													"parameters": {
														"object": "achivments"
													}
												}
											],
											"actions": [],
											"sid": 904805165123832,
											"children": [
												{
													"eventType": "comment",
													"text": "пульс достижений с обычными охранниками",
													"background-color": [
														0.7372549019607844,
														0.7568627450980392,
														0.8431372549019608,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "achivments",
															"sid": 847850216575816,
															"parameters": {
																"instance-variable": "guarded"
															}
														}
													],
													"actions": [],
													"sid": 805312842849684,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-group-active",
																	"objectClass": "System",
																	"sid": 573415006876942,
																	"parameters": {
																		"group-name": "\"achivGuard\""
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-group-active",
																	"objectClass": "System",
																	"sid": 835634097657275,
																	"parameters": {
																		"group-name": "\"achivGuard\"",
																		"state": "activated"
																	}
																}
															],
															"sid": 945737000005052
														},
														{
															"eventType": "comment",
															"text": "1. Изменяем триггер активации достижений (Событие №10). Используем изометрическую дистанцию и гистерезис."
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 790270677807739,
																	"parameters": {
																		"first-value": "Functions.getIsoDist(achivments.X, achivments.Y, base.X, base.Y)",
																		"comparison": 2,
																		"second-value": "achivments.senseDist"
																	}
																},
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "achivments",
																	"sid": 448829575628234,
																	"parameters": {
																		"instance-variable": "alert"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "achivments",
																	"sid": 982828698700462,
																	"parameters": {
																		"instance-variable": "alert",
																		"value": "true"
																	}
																},
																{
																	"callFunction": "distGuard",
																	"sid": 605482120445673,
																	"parameters": [
																		"achivments.UID",
																		"\"up\""
																	]
																}
															],
															"sid": 149981401185833
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 425217360200357,
																	"parameters": {
																		"first-value": "Functions.getIsoDist(achivments.X, achivments.Y, base.X, base.Y)",
																		"comparison": 4,
																		"second-value": "achivments.senseDist + 100"
																	}
																},
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "achivments",
																	"sid": 268698961353901,
																	"parameters": {
																		"instance-variable": "alert"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "achivments",
																	"sid": 520473727506381,
																	"parameters": {
																		"instance-variable": "alert",
																		"value": "false"
																	}
																},
																{
																	"callFunction": "distGuard",
																	"sid": 572280101134356,
																	"parameters": [
																		"achivments.UID",
																		"\"down\""
																	]
																}
															],
															"sid": 989246947487807
														}
													]
												},
												{
													"eventType": "comment",
													"text": "супер-охранники могут охранять больше одного достижения в своём кластере",
													"background-color": [
														0.7176470588235294,
														0.7372549019607844,
														0.8235294117647058,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "achivments",
															"sid": 194351658398837,
															"parameters": {
																"instance-variable": "superGuarded"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 792742242048613,
															"parameters": {
																"instance-variable": "SGClaster",
																"comparison": 0,
																"value": "achivments.SGClaster"
															}
														}
													],
													"actions": [],
													"sid": 958680661708765,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-group-active",
																	"objectClass": "System",
																	"sid": 845620121398436,
																	"parameters": {
																		"group-name": "\"superGuard\""
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-group-active",
																	"objectClass": "System",
																	"sid": 993965505344476,
																	"parameters": {
																		"group-name": "\"superGuard\"",
																		"state": "activated"
																	}
																}
															],
															"sid": 928571392820948
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "achivments",
																	"sid": 354196909780279,
																	"parameters": {
																		"instance-variable": "alert"
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "achivments",
																	"sid": 663725034566094,
																	"parameters": {
																		"instance-variable": "alert",
																		"value": "true"
																	}
																}
															],
															"sid": 241654280423488
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "for-each",
																	"objectClass": "System",
																	"sid": 233838072051458,
																	"parameters": {
																		"object": "tGuard"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "tGuard",
																	"sid": 591836509759884,
																	"parameters": {
																		"instance-variable": "compDist",
																		"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
																	}
																}
															],
															"sid": 393043850466283
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-highestlowest",
																	"objectClass": "tGuard",
																	"sid": 426063891201858,
																	"disabled": true,
																	"parameters": {
																		"which": "lowest",
																		"instance-variable": "compDist"
																	}
																}
															],
															"actions": [],
															"sid": 795619825270979,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-timer-running",
																			"objectClass": "tGuard",
																			"sid": 746018099070993,
																			"behaviorType": "Timer",
																			"parameters": {
																				"tag": "\"puls\""
																			},
																			"isInverted": true
																		}
																	],
																	"actions": [
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "tGuard",
																			"sid": 901409925682494,
																			"parameters": {
																				"instance-variable": "alert",
																				"value": "true"
																			}
																		},
																		{
																			"id": "start-timer",
																			"objectClass": "tGuard",
																			"sid": 163124364245476,
																			"behaviorType": "Timer",
																			"parameters": {
																				"duration": "random(0.1,0.2)",
																				"type": "regular",
																				"tag": "\"puls\""
																			}
																		}
																	],
																	"sid": 154391396189388
																}
															]
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "деактивация достижений",
									"background-color": [
										0.7372549019607844,
										0.7568627450980392,
										0.8431372549019608,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-los-to-object",
											"objectClass": "achivments",
											"sid": 420337051548257,
											"behaviorType": "los",
											"parameters": {
												"object": "base",
												"image-point": "0"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "achivments",
											"sid": 489334979688631,
											"parameters": {
												"instance-variable": "alert",
												"value": "false"
											}
										},
										{
											"id": "stop-timer",
											"objectClass": "achivments",
											"sid": 829679466985561,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"puls\""
											}
										}
									],
									"sid": 273089837945310,
									"children": [
										{
											"eventType": "comment",
											"text": "отключение группы guard",
											"background-color": [
												0.7372549019607844,
												0.7568627450980392,
												0.8431372549019608,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 241120822990936,
													"parameters": {
														"object": "tGuard"
													}
												}
											],
											"actions": [],
											"sid": 659586508510840,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 201839772022307,
															"parameters": {
																"instance-variable": "alert"
															}
														}
													],
													"actions": [],
													"sid": 411464493454421
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 352244689073140
														}
													],
													"actions": [
														{
															"id": "set-group-active",
															"objectClass": "System",
															"sid": 738163535365924,
															"parameters": {
																"group-name": "\"guard\"",
																"state": "deactivated"
															}
														}
													],
													"sid": 665105930610855
												}
											]
										}
									]
								}
							],
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "comment",
					"text": "\nстражи-ронины",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "tGuard",
							"sid": 721557717536520,
							"parameters": {
								"instance-variable": "on"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "tGuard",
							"sid": 318166355848067,
							"parameters": {
								"instance-variable": "achivGuard"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 402931452291051,
					"children": [
						{
							"eventType": "comment",
							"text": "активация ронинов",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-los-to-object",
									"objectClass": "tGuard",
									"sid": 631876015088804,
									"behaviorType": "los",
									"parameters": {
										"object": "base",
										"image-point": "0"
									}
								}
							],
							"actions": [],
							"sid": 387668372096945,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 574281189995585,
											"parameters": {
												"instance-variable": "alert"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "tGuard",
											"sid": 363791817166381,
											"parameters": {
												"instance-variable": "alert",
												"value": "true"
											}
										}
									],
									"sid": 488727365378913
								},
								{
									"eventType": "comment",
									"text": "включение группы guard",
									"background-color": [
										0.7372549019607844,
										0.7568627450980392,
										0.8431372549019608,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-group-active",
											"objectClass": "System",
											"sid": 727402741520596,
											"parameters": {
												"group-name": "\"guard\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 221664750693866,
											"parameters": {
												"group-name": "\"guard\"",
												"state": "activated"
											}
										}
									],
									"sid": 810781635026928
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 124913258390895,
											"parameters": {
												"object": "tGuard"
											}
										},
										{
											"id": "is-timer-running",
											"objectClass": "tGuard",
											"sid": 869416404645542,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"puls\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "start-timer",
											"objectClass": "tGuard",
											"sid": 160124753597583,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "random(0.08,0.2)",
												"type": "regular",
												"tag": "\"puls\""
											}
										}
									],
									"sid": 154924323840610
								}
							]
						},
						{
							"eventType": "comment",
							"text": "деактивация ронинов",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "has-los-to-object",
									"objectClass": "tGuard",
									"sid": 664140592927687,
									"behaviorType": "los",
									"parameters": {
										"object": "base",
										"image-point": "0"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "tGuard",
									"sid": 469281102734106,
									"parameters": {
										"instance-variable": "alert"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "tGuard",
									"sid": 751223007767474,
									"parameters": {
										"instance-variable": "nut"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "tGuard",
									"sid": 444920135561138,
									"parameters": {
										"instance-variable": "alert",
										"value": "false"
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "tGuard",
									"sid": 196040231097805,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"puls\""
									}
								}
							],
							"sid": 655293773981521,
							"children": [
								{
									"eventType": "comment",
									"text": "отключение группы guard",
									"background-color": [
										0.7372549019607844,
										0.7568627450980392,
										0.8431372549019608,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 772155818412813,
											"parameters": {
												"object": "tGuard"
											}
										}
									],
									"actions": [],
									"sid": 174704046649051,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 832332940256113,
													"parameters": {
														"instance-variable": "alert"
													}
												}
											],
											"actions": [],
											"sid": 458711172402228
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 885508049233658
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 275408452451300,
													"parameters": {
														"group-name": "\"guard\"",
														"state": "deactivated"
													}
												}
											],
											"sid": 911179089902647
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "круг шипов - временный или постоянный",
			"background-color": [
				0.7372549019607844,
				0.7568627450980392,
				0.8431372549019608,
				1
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-animation-finished",
					"objectClass": "spike",
					"sid": 826534558496628,
					"parameters": {
						"animation": "\"spike\""
					}
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "spike",
					"sid": 368976392491257,
					"disabled": true,
					"parameters": {
						"x": "-4444",
						"y": "-3333"
					}
				},
				{
					"id": "start-animation",
					"objectClass": "spike",
					"sid": 670911500815868,
					"parameters": {
						"from": "beginning"
					}
				}
			],
			"sid": 295563667697636
		},
		{
			"eventType": "comment",
			"text": "\n\n",
			"background-color": [
				0.7372549019607844,
				0.7568627450980392,
				0.8431372549019608,
				1
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "guard",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "comment",
					"text": "страж полностью вырос или уменьшился",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "tGuard",
							"sid": 398064272620736,
							"parameters": {
								"animation": "\"grow\""
							}
						}
					],
					"actions": [],
					"sid": 131940187332861,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 902489906528512,
									"disabled": true,
									"parameters": {
										"instance-variable": "status",
										"comparison": 0,
										"value": "\"growUp\""
									}
								},
								{
									"id": "compare-animation-speed",
									"objectClass": "tGuard",
									"sid": 224546832831462,
									"parameters": {
										"comparison": 4,
										"number": "0"
									}
								},
								{
									"id": "compare-animation-frame",
									"objectClass": "tGuard",
									"sid": 390317866124940,
									"parameters": {
										"comparison": 4,
										"number": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 821972935197913,
									"disabled": true,
									"parameters": {
										"instance-variable": "step",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "tGuard",
									"sid": 363070769191088,
									"parameters": {
										"instance-variable": "grown",
										"value": "true"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "tGuard",
									"sid": 935286588381285,
									"parameters": {
										"instance-variable": "grow",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 248062894340579,
									"parameters": {
										"instance-variable": "status",
										"value": "\"guard\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 467098770411483,
									"parameters": {
										"instance-variable": "oldDir",
										"value": "99"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 451645927947964,
									"disabled": true,
									"parameters": {
										"instance-variable": "step",
										"value": "3"
									}
								}
							],
							"sid": 725607950420631,
							"children": [
								{
									"eventType": "comment",
									"text": "специальные охранники получают иконки",
									"background-color": [
										0.7372549019607844,
										0.7568627450980392,
										0.8431372549019608,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "tGuard",
											"sid": 197857061535719,
											"parameters": {
												"instance-variable": "icon",
												"comparison": 1,
												"value": "\"zero\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "tGuard",
											"sid": 578620759362055,
											"parameters": {
												"instance-variable": "iconUID",
												"comparison": 0,
												"value": "-1"
											}
										},
										{
											"id": "is-outside-layout",
											"objectClass": "icon",
											"sid": 389333585404689
										}
									],
									"actions": [],
									"sid": 203003579923257,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 103418919422042,
													"parameters": {
														"object": "icon"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "icon",
													"sid": 316369652949004,
													"parameters": {
														"animation": "tGuard.icon",
														"from": "beginning"
													}
												},
												{
													"id": "set-position",
													"objectClass": "icon",
													"sid": 734553234698198,
													"parameters": {
														"x": "tGuard.X",
														"y": "tGuard.Y+1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "icon",
													"sid": 655430609545306,
													"parameters": {
														"instance-variable": "hostUID",
														"value": "tGuard.UID"
													}
												},
												{
													"id": "set-enabled",
													"objectClass": "icon",
													"sid": 252007856021972,
													"behaviorType": "EasyIsometric",
													"parameters": {
														"newState_": "enabled"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 438607145855931,
													"parameters": {
														"instance-variable": "iconUID",
														"value": "icon.UID"
													}
												}
											],
											"sid": 132394674116854
										}
									]
								},
								{
									"eventType": "comment",
									"text": "первый выросший охранник запускает пульс достижения",
									"background-color": [
										0.7372549019607844,
										0.7568627450980392,
										0.8431372549019608,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 172781545882135,
											"parameters": {
												"instance-variable": "achivGuard"
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "achivments",
											"sid": 952587163677957,
											"parameters": {
												"unique-id": "tGuard.achivUID"
											}
										}
									],
									"actions": [],
									"sid": 737286961113258,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "achivments",
													"sid": 921454201205860,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"pulsAG\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "start-timer",
													"objectClass": "achivments",
													"sid": 325352109422852,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "random(0.1)",
														"type": "regular",
														"tag": "\"pulsAG\""
													}
												}
											],
											"sid": 582262446682261
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "полностью уменьшившись, засыпает",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 617499213705942
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 309854943141675,
									"disabled": true,
									"parameters": {
										"instance-variable": "status",
										"comparison": 0,
										"value": "\"growDown\""
									}
								},
								{
									"id": "compare-animation-frame",
									"objectClass": "tGuard",
									"sid": 664428402584038,
									"parameters": {
										"comparison": 0,
										"number": "0"
									}
								},
								{
									"id": "compare-animation-speed",
									"objectClass": "tGuard",
									"sid": 828576198529931,
									"parameters": {
										"comparison": 2,
										"number": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 229513557010319,
									"disabled": true,
									"parameters": {
										"instance-variable": "step",
										"comparison": 0,
										"value": "2"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 798025966497404,
									"parameters": {
										"instance-variable": "status",
										"value": "\"sleep\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "tGuard",
									"sid": 180351296073731,
									"parameters": {
										"instance-variable": "grow",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "tGuard",
									"sid": 328769227727092,
									"parameters": {
										"animation": "\"sleep\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 130761067619889,
									"disabled": true,
									"parameters": {
										"instance-variable": "step",
										"value": "0"
									}
								}
							],
							"sid": 110432833317537
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "superGuard",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "пульс ронинов и супер-охранников",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "tGuard",
									"sid": 390135512557999,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"puls\""
									}
								}
							],
							"actions": [
								{
									"id": "instance-signal",
									"objectClass": "tGuard",
									"sid": 714513836282350,
									"parameters": {
										"tag": "\"puls\""
									}
								}
							],
							"sid": 887666567312202
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "tGuard",
									"sid": 403334202406006,
									"parameters": {
										"tag": "\"puls\""
									}
								}
							],
							"actions": [],
							"sid": 300464234255816,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 328173380319064,
											"parameters": {
												"instance-variable": "superGuard"
											}
										}
									],
									"actions": [
										{
											"callFunction": "distAchiv",
											"sid": 987551876680670,
											"parameters": [
												"tGuard.UID"
											]
										}
									],
									"sid": 180291481876187
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 588132105589334
										}
									],
									"actions": [
										{
											"callFunction": "actGuard",
											"sid": 925841462305670,
											"parameters": [
												"tGuard.UID"
											]
										}
									],
									"sid": 185580356379395
								}
							]
						},
						{
							"eventType": "comment",
							"text": "контроль пульса супер-охранников",
							"background-color": [
								0.7176470588235294,
								0.7372549019607844,
								0.8235294117647058,
								1
							]
						},
						{
							"functionName": "distAchiv",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "uid",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 851924198300011
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 206254131645391,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "achivments",
									"sid": 199965693001337,
									"parameters": {
										"instance-variable": "superGuarded"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "tGuard",
									"sid": 358574059011279,
									"parameters": {
										"unique-id": "uid"
									}
								}
							],
							"actions": [],
							"sid": 772033648973495,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 231351130117543,
											"parameters": {
												"instance-variable": "SGClaster",
												"comparison": 0,
												"value": "tGuard.SGClaster"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "achivments",
											"sid": 890628836624522,
											"parameters": {
												"instance-variable": "heroDist",
												"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
											}
										}
									],
									"sid": 389860407268192,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-highestlowest",
													"objectClass": "achivments",
													"sid": 245360466764736,
													"parameters": {
														"which": "lowest",
														"instance-variable": "heroDist"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 714734373316247,
													"parameters": {
														"instance-variable": "heroDist",
														"value": "Functions.getIsoDist(achivments.X,achivments.Y,base.X,base.Y)"
													}
												}
											],
											"sid": 658680787725479,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "achivments",
															"sid": 323792115399720,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "tGuard.closeDist+100"
															}
														}
													],
													"actions": [
														{
															"callFunction": "actGuard",
															"sid": 640361187366641,
															"parameters": [
																"tGuard.UID"
															]
														}
													],
													"sid": 316678843729537
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 782279253946505
														},
														{
															"id": "has-los-to-object",
															"objectClass": "achivments",
															"sid": 621251692850780,
															"behaviorType": "los",
															"parameters": {
																"object": "base",
																"image-point": "0"
															},
															"isInverted": true
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "achivments",
															"sid": 222066204591922,
															"disabled": true,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 4,
																"value": "tGuard.closeDist+100"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "tGuard",
															"sid": 470864587752566,
															"parameters": {
																"instance-variable": "alert",
																"value": "false"
															}
														},
														{
															"id": "stop-timer",
															"objectClass": "tGuard",
															"sid": 958138046310986,
															"behaviorType": "Timer",
															"parameters": {
																"tag": "\"puls\""
															}
														}
													],
													"sid": 946718456964901
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "проверка кластера на не очерченные достижения",
							"background-color": [
								0.6039215686274509,
								0.7803921568627451,
								0.8392156862745098,
								1
							]
						},
						{
							"functionName": "checkPerim",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "number",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "clast",
									"type": "number",
									"initialValue": "1",
									"comment": "",
									"sid": 721930811403803
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "achivments",
									"sid": 134330254933639,
									"parameters": {
										"instance-variable": "SGClaster",
										"comparison": 0,
										"value": "clast"
									}
								}
							],
							"actions": [],
							"sid": 492513882797512,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 797952990902069,
											"parameters": {
												"instance-variable": "outlined",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-function-return-value",
											"objectClass": "Functions",
											"sid": 153960789284790,
											"parameters": {
												"value": "achivments.PickedCount"
											}
										}
									],
									"sid": 449385331750724
								}
							]
						}
					],
					"sid": 200332531130062
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "achivGuard",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\n\nдистанция для охранников и выбор реагирующего",
							"background-color": [
								0.7176470588235294,
								0.7372549019607844,
								0.8235294117647058,
								1
							]
						},
						{
							"functionName": "distGuard",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "uid",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 757371776325146
								},
								{
									"name": "mode",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 712052552806304
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 923412130172052,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "achivments",
									"sid": 288111123291328,
									"parameters": {
										"unique-id": "uid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 138946829043220,
									"parameters": {
										"instance-variable": "achivUID",
										"comparison": 0,
										"value": "achivments.UID"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "achivments",
									"sid": 678143571441515,
									"parameters": {
										"instance-variable": "heroDist",
										"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
									}
								}
							],
							"sid": 244502157408979,
							"children": [
								{
									"eventType": "comment",
									"text": "Обновляем дистанцию для каждого охранника достижения индивидуально",
									"background-color": [
										0.6745098039215687,
										0.8470588235294118,
										0.611764705882353,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 714823886436402,
											"parameters": {
												"object": "tGuard"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 140032897723460,
											"parameters": {
												"instance-variable": "compDist",
												"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 803014757320809,
											"parameters": {
												"instance-variable": "heroDist",
												"value": "achivments.heroDist"
											}
										},
										{
											"id": "start-timer",
											"objectClass": "tGuard",
											"sid": 968085861943256,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.15 * (loopindex + 1)",
												"type": "once",
												"tag": "\"staggeredGrow\""
											}
										}
									],
									"sid": 278980226577036
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 735364711401706,
											"parameters": {
												"variable": "mode",
												"comparison": 0,
												"value": "\"up\""
											}
										}
									],
									"actions": [],
									"sid": 742807973125077,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-highestlowest",
													"objectClass": "tGuard",
													"sid": 989236611356754,
													"parameters": {
														"which": "lowest",
														"instance-variable": "compDist"
													}
												}
											],
											"actions": [],
											"sid": 953156038635904,
											"children": [
												{
													"eventType": "comment",
													"text": "спящий начинает расти",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 974238498404741,
															"parameters": {
																"instance-variable": "status",
																"comparison": 0,
																"value": "\"sleep\""
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "tGuard",
															"sid": 409391208645641,
															"parameters": {
																"instance-variable": "grow",
																"value": "true"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "tGuard",
															"sid": 592942291373487,
															"parameters": {
																"instance-variable": "status",
																"value": "\"growUp\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "tGuard",
															"sid": 201370740880581,
															"parameters": {
																"animation": "\"grow\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-animation-speed",
															"objectClass": "tGuard",
															"sid": 409316466807596,
															"parameters": {
																"speed": "12"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "tGuard",
															"sid": 468788419839345,
															"parameters": {
																"from": "beginning"
															}
														},
														{
															"id": "stop-timer",
															"objectClass": "tGuard",
															"sid": 146464760876743,
															"behaviorType": "Timer",
															"parameters": {
																"tag": "\"staggeredGrow\""
															}
														}
													],
													"sid": 107410455974388
												},
												{
													"eventType": "comment",
													"text": "растущий",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 383870459009899
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 134982209600379,
															"parameters": {
																"instance-variable": "grow"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 792291268203618,
															"parameters": {
																"instance-variable": "grown"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "tGuard",
															"sid": 469284139405785,
															"parameters": {
																"instance-variable": "status",
																"value": "\"growUp\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "tGuard",
															"sid": 316562710131952,
															"parameters": {
																"animation": "\"grow\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-animation-speed",
															"objectClass": "tGuard",
															"sid": 313776419742238,
															"parameters": {
																"speed": "12"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "tGuard",
															"sid": 911613125404248,
															"parameters": {
																"from": "current-frame"
															}
														}
													],
													"sid": 479318207633185
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 728369040169130
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 370294491658726,
											"parameters": {
												"variable": "mode",
												"comparison": 0,
												"value": "\"down\""
											}
										}
									],
									"actions": [],
									"sid": 998632892848161,
									"children": [
										{
											"eventType": "comment",
											"text": "полностью выросший уменьшается",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 474850232214079,
													"parameters": {
														"instance-variable": "grown"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 594656556380559,
													"parameters": {
														"instance-variable": "grown",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 475075707956246,
													"parameters": {
														"instance-variable": "grow",
														"value": "true"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 284606227907226,
													"parameters": {
														"instance-variable": "nut",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 193787348761674,
													"parameters": {
														"instance-variable": "seal",
														"value": "false"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 189436348573569,
													"parameters": {
														"instance-variable": "status",
														"value": "\"growDown\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "tGuard",
													"sid": 527248570172980,
													"parameters": {
														"animation": "\"grow\"",
														"from": "current-frame"
													}
												},
												{
													"type": "comment",
													"text": "!!! конечный кадр"
												},
												{
													"id": "set-animation-frame",
													"objectClass": "tGuard",
													"sid": 700467111544038,
													"parameters": {
														"frame-number": "4"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "tGuard",
													"sid": 780692685937861,
													"parameters": {
														"speed": "-12"
													}
												},
												{
													"id": "start-animation",
													"objectClass": "tGuard",
													"sid": 448554584173974,
													"parameters": {
														"from": "current-frame"
													}
												}
											],
											"sid": 375927935715301,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 968363445236877,
															"parameters": {
																"instance-variable": "icon",
																"comparison": 1,
																"value": "\"zero\""
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "icon",
															"sid": 537267092300125,
															"parameters": {
																"instance-variable": "hostUID",
																"comparison": 0,
																"value": "tGuard.UID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "icon",
															"sid": 341871829705974,
															"parameters": {
																"x": "-5372",
																"y": "-5327"
															}
														},
														{
															"id": "set-enabled",
															"objectClass": "icon",
															"sid": 338265775250894,
															"behaviorType": "EasyIsometric",
															"parameters": {
																"newState_": "disabled"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "icon",
															"sid": 993891930028166,
															"parameters": {
																"instance-variable": "hostUID",
																"value": "-1"
															}
														}
													],
													"sid": 195413380348881
												}
											]
										},
										{
											"eventType": "comment",
											"text": "уменьшающийся",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 417867602824915
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 599764924907536,
													"parameters": {
														"instance-variable": "status",
														"value": "\"growDown\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "tGuard",
													"sid": 486877166357106,
													"parameters": {
														"animation": "\"grow\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "tGuard",
													"sid": 640388137850854,
													"parameters": {
														"speed": "-12"
													}
												},
												{
													"id": "start-animation",
													"objectClass": "tGuard",
													"sid": 641609424121738,
													"parameters": {
														"from": "current-frame"
													}
												}
											],
											"sid": 894403122799953
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "запуск роста охранников",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "tGuard",
									"sid": 438479343883609,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"staggeredGrow\""
									}
								}
							],
							"actions": [],
							"sid": 426964929904914,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 813645047034692,
											"parameters": {
												"instance-variable": "grow"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 893129519250902,
											"parameters": {
												"instance-variable": "status",
												"value": "\"growUp\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "tGuard",
											"sid": 186723119294505,
											"parameters": {
												"animation": "\"grow\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "tGuard",
											"sid": 744888924584867,
											"parameters": {
												"speed": "12"
											}
										},
										{
											"id": "start-animation",
											"objectClass": "tGuard",
											"sid": 113184012801331,
											"parameters": {
												"from": "current-frame"
											}
										}
									],
									"sid": 804332879895003
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 689402254648164
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "tGuard",
											"sid": 455388019899421,
											"parameters": {
												"instance-variable": "grow",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 365761529537071,
											"parameters": {
												"instance-variable": "status",
												"value": "\"growUp\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "tGuard",
											"sid": 231816685334668,
											"parameters": {
												"animation": "\"grow\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "tGuard",
											"sid": 702780742807772,
											"parameters": {
												"speed": "12"
											}
										},
										{
											"id": "start-animation",
											"objectClass": "tGuard",
											"sid": 372139965607891,
											"parameters": {
												"from": "beginning"
											}
										}
									],
									"sid": 443126844599108
								}
							]
						},
						{
							"eventType": "comment",
							"text": "пульс",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "achivments",
									"sid": 391977986618912,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"pulsAG\""
									}
								}
							],
							"actions": [
								{
									"id": "instance-signal",
									"objectClass": "achivments",
									"sid": 335837335508454,
									"parameters": {
										"tag": "\"puls\""
									}
								}
							],
							"sid": 535580436432529
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "achivments",
									"sid": 878628056782825,
									"parameters": {
										"tag": "\"puls\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "growGuard",
									"sid": 416574356130853,
									"parameters": [
										"achivments.UID",
										"1"
									]
								}
							],
							"sid": 200145800542347
						},
						{
							"eventType": "comment",
							"text": "выбор одного или всех выросших охранников для действий",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"functionName": "growGuard",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "uid",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 999849033986774
								},
								{
									"name": "mode",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 859930482503885
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 517718504812427,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "achivments",
									"sid": 737112522637543,
									"parameters": {
										"unique-id": "uid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 899709329965935,
									"parameters": {
										"instance-variable": "achivUID",
										"comparison": 0,
										"value": "achivments.UID"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "achivments",
									"sid": 742328878995601,
									"parameters": {
										"instance-variable": "heroDist",
										"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
									}
								}
							],
							"sid": 844216150564898,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 274947938749486,
											"parameters": {
												"object": "tGuard"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 878787003719558,
											"parameters": {
												"instance-variable": "compDist",
												"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 998099654066009,
											"parameters": {
												"instance-variable": "heroDist",
												"value": "achivments.heroDist"
											}
										}
									],
									"sid": 450872979827836
								},
								{
									"eventType": "comment",
									"text": "Теперь выбираем ближайшего из обновленных для реакции на героя",
									"background-color": [
										0.6745098039215687,
										0.8470588235294118,
										0.611764705882353,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 486272654620107,
											"parameters": {
												"instance-variable": "angryMod",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 794372618726758,
											"parameters": {
												"instance-variable": "index",
												"value": "0"
											}
										}
									],
									"sid": 166558727509041,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 598363799842151,
													"disabled": true,
													"parameters": {
														"instance-variable": "nut"
													},
													"isInverted": true
												},
												{
													"id": "pick-highestlowest",
													"objectClass": "tGuard",
													"sid": 246669263367617,
													"parameters": {
														"which": "lowest",
														"instance-variable": "compDist"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 164577917534195,
													"parameters": {
														"instance-variable": "index",
														"value": "1"
													}
												},
												{
													"callFunction": "actGuard",
													"sid": 956402595062698,
													"parameters": [
														"tGuard.UID"
													]
												}
											],
											"sid": 327564696588332
										}
									]
								},
								{
									"eventType": "comment",
									"text": "режим когда реагируют все",
									"background-color": [
										0.6745098039215687,
										0.8470588235294118,
										0.611764705882353,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 268346787348997
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 887504503380851,
											"parameters": {
												"instance-variable": "angryMod",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 938155043387174,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 247198936981556,
													"parameters": {
														"object": "tGuard"
													}
												}
											],
											"actions": [
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 943818908233559,
													"parameters": {
														"seconds": "0.11*(loopindex)",
														"use-timescale": true
													}
												},
												{
													"callFunction": "actGuard",
													"sid": 215704970697018,
													"parameters": [
														"tGuard.UID"
													]
												}
											],
											"sid": 210359505605272
										}
									]
								}
							]
						}
					],
					"sid": 458754461570004
				},
				{
					"eventType": "comment",
					"text": "\n\n\nменеджмент реагирования - атака для всех и рост кроме охранников",
					"background-color": [
						0.6039215686274509,
						0.7803921568627451,
						0.8392156862745098,
						1
					]
				},
				{
					"functionName": "actGuard",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 478958331792418
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "tGuard",
							"sid": 574981446924130,
							"parameters": {
								"unique-id": "uid"
							}
						}
					],
					"actions": [],
					"sid": 561629468374180,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 248389181057602,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								}
							],
							"actions": [],
							"sid": 553290402516502,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 636169042175750,
											"parameters": {
												"instance-variable": "achivGuard"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 904881018852500,
											"parameters": {
												"instance-variable": "superGuard"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 440014839813012,
											"parameters": {
												"instance-variable": "heroDist",
												"value": "Functions.getIsoDist(Self.X,Self.Y,base.X,base.Y)"
											}
										}
									],
									"sid": 479130241943484
								},
								{
									"eventType": "comment",
									"text": "условия реагирования",
									"background-color": [
										0.6039215686274509,
										0.7803921568627451,
										0.8392156862745098,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 718481033044846,
											"disabled": true,
											"parameters": {
												"instance-variable": "serpentTarget"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 809692485153100,
											"disabled": true,
											"parameters": {
												"instance-variable": "hi",
												"comparison": 3,
												"value": "30"
											}
										},
										{
											"id": "is-outside-layout",
											"objectClass": "base",
											"sid": 152957682340648,
											"isInverted": true
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "base",
											"sid": 215007761812487,
											"disabled": true,
											"parameters": {
												"object": "zoneStopTh"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 479700059932992,
											"disabled": true,
											"parameters": {
												"instance-variable": "serpGetMeUID",
												"comparison": 3,
												"value": "0"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 396321196079869,
											"parameters": {
												"instance-variable": "respawn"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aBit",
											"sid": 550563600240848,
											"parameters": {
												"instance-variable": "respawn"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aBit",
											"sid": 161063237020092,
											"disabled": true,
											"parameters": {
												"instance-variable": "intersept"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aMico",
											"sid": 821102662532718,
											"disabled": true,
											"parameters": {
												"instance-variable": "BitHide"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 191658172496765,
									"children": [
										{
											"eventType": "comment",
											"text": "полностью выросший атакует",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 113000000512106,
													"parameters": {
														"instance-variable": "grown"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "tGuard",
													"sid": 421019891227520,
													"parameters": {
														"instance-variable": "heroDist",
														"comparison": 2,
														"value": "Self.closeDist"
													}
												}
											],
											"actions": [],
											"sid": 674549134553112,
											"children": [
												{
													"eventType": "comment",
													"text": "атака запечатыванием",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 972788463783937,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "Self.attackDist"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 431331270960327,
															"parameters": {
																"instance-variable": "seal"
															},
															"isInverted": true
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "aBit",
															"sid": 754671952375698,
															"parameters": {
																"instance-variable": "interseptor",
																"comparison": 1,
																"value": "\"seal\""
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "aBit",
															"sid": 726688091650613,
															"parameters": {
																"instance-variable": "interseptor",
																"comparison": 1,
																"value": "\"octo\""
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "aBit",
															"sid": 228436322543241,
															"parameters": {
																"instance-variable": "interseptor",
																"comparison": 1,
																"value": "\"shoko\""
															}
														}
													],
													"actions": [],
													"sid": 778873041296669,
													"children": [
														{
															"eventType": "comment",
															"text": "аборт атаки каштаном ? - если герой подошел на дистанцию запечатывания",
															"background-color": [
																0.6039215686274509,
																0.7803921568627451,
																0.8392156862745098,
																1
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "tGuard",
																	"sid": 109881177572803,
																	"parameters": {
																		"instance-variable": "nut"
																	}
																},
																{
																	"id": "pick-all",
																	"objectClass": "System",
																	"sid": 579846975732902,
																	"parameters": {
																		"object": "seedNut"
																	}
																},
																{
																	"id": "compare-instance-variable",
																	"objectClass": "seedNut",
																	"sid": 699891962963786,
																	"parameters": {
																		"instance-variable": "hostUID",
																		"comparison": 0,
																		"value": "tGuard.UID"
																	}
																},
																{
																	"id": "is-animation-playing",
																	"objectClass": "seedNut",
																	"sid": 230412678432810,
																	"parameters": {
																		"animation": "\"guard\""
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "tGuard",
																	"sid": 674505568109067,
																	"parameters": {
																		"instance-variable": "nut",
																		"value": "false"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "seedNut",
																	"sid": 730586255982331,
																	"parameters": {
																		"animation": "\"out\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "unpin",
																	"objectClass": "seedNut",
																	"sid": 561809828230833,
																	"behaviorType": "Pin"
																}
															],
															"sid": 978204572253247
														},
														{
															"eventType": "comment",
															"text": "атака запечатыванием",
															"background-color": [
																0.6039215686274509,
																0.7803921568627451,
																0.8392156862745098,
																1
															]
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "aBit",
																	"sid": 639923554640961,
																	"parameters": {
																		"instance-variable": "intersept",
																		"value": "true"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aBit",
																	"sid": 841948920515438,
																	"parameters": {
																		"instance-variable": "interseptor",
																		"value": "\"seal\""
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "tGuard",
																	"sid": 537631114342879,
																	"parameters": {
																		"instance-variable": "seal",
																		"value": "true"
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "luch",
																	"sid": 212566017753770,
																	"parameters": {
																		"x": "tGuard.ImagePointX(3)",
																		"y": "tGuard.ImagePointY(3)"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "luch",
																	"sid": 587897250091628,
																	"parameters": {
																		"instance-variable": "hostUID",
																		"value": "tGuard.UID"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "luch",
																	"sid": 347481569477268,
																	"parameters": {
																		"animation": "\"luch\"",
																		"from": "beginning"
																	}
																},
																{
																	"callFunction": "baseStop",
																	"sid": 424348511538086
																},
																{
																	"callFunction": "respawn",
																	"sid": 353290604720993,
																	"parameters": [
																		true,
																		"0",
																		"3"
																	]
																},
																{
																	"id": "set-position",
																	"objectClass": "seal",
																	"sid": 260933986079258,
																	"parameters": {
																		"x": "Bit.ImagePointX(\"center\")",
																		"y": "Bit.ImagePointY(\"center\")"
																	}
																},
																{
																	"id": "pin-to-object-properties",
																	"objectClass": "seal",
																	"sid": 364523602993595,
																	"behaviorType": "Pin",
																	"parameters": {
																		"pin-to": "Bit",
																		"x": true,
																		"y": true,
																		"angle": false,
																		"width-type": "no",
																		"height-type": "no",
																		"z": false
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "seal",
																	"sid": 772580091225136,
																	"parameters": {
																		"animation": "\"seal\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "sealShad",
																	"sid": 393304348664171,
																	"parameters": {
																		"x": "base.X",
																		"y": "base.Y"
																	}
																}
															],
															"sid": 525442960794140
														}
													]
												},
												{
													"eventType": "comment",
													"text": "обозначение охраняемого периметра",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 597113855069733
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 947458739534018,
															"parameters": {
																"instance-variable": "superGuard"
															},
															"isInverted": true
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 970343431824973,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "Self.nutDist"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 928996051579141,
															"parameters": {
																"instance-variable": "seal"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 281702923027354,
															"parameters": {
																"instance-variable": "perimeter"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 760332836508299,
															"parameters": {
																"instance-variable": "onPerimeter"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 208467417974720,
															"parameters": {
																"instance-variable": "nut"
															},
															"isInverted": true
														}
													],
													"actions": [],
													"sid": 908834439912493,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-group-active",
																	"objectClass": "System",
																	"sid": 106809450694714,
																	"parameters": {
																		"group-name": "\"perimeter\""
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-group-active",
																	"objectClass": "System",
																	"sid": 777541466102497,
																	"parameters": {
																		"group-name": "\"perimeter\"",
																		"state": "activated"
																	}
																}
															],
															"sid": 639527760306628
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "instance-signal",
																	"objectClass": "tGuard",
																	"sid": 700723806578306,
																	"parameters": {
																		"tag": "\"perimeter\""
																	}
																}
															],
															"sid": 335208858391636
														}
													]
												},
												{
													"eventType": "comment",
													"text": "для супер-охранников",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 385789088006279
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 811836521903509,
															"parameters": {
																"instance-variable": "superGuard"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 249623970989468,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "Self.nutDist"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 178916715963243,
															"parameters": {
																"instance-variable": "seal"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 210732080205906,
															"parameters": {
																"instance-variable": "onPerimeter"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 546719985480288,
															"parameters": {
																"instance-variable": "nut"
															},
															"isInverted": true
														},
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 169342720183135,
															"parameters": {
																"first-value": "Functions.checkPerim(tGuard.SGClaster)",
																"comparison": 1,
																"second-value": "0"
															}
														}
													],
													"actions": [],
													"sid": 130877976437851,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-group-active",
																	"objectClass": "System",
																	"sid": 717281996701463,
																	"parameters": {
																		"group-name": "\"perimeter\""
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-group-active",
																	"objectClass": "System",
																	"sid": 807007879678822,
																	"parameters": {
																		"group-name": "\"perimeter\"",
																		"state": "activated"
																	}
																}
															],
															"sid": 558218490855513
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "tGuard",
																	"sid": 790627464866744,
																	"parameters": {
																		"instance-variable": "perimeter",
																		"value": "false"
																	}
																},
																{
																	"id": "instance-signal",
																	"objectClass": "tGuard",
																	"sid": 274683621626245,
																	"parameters": {
																		"tag": "\"perimeter\""
																	}
																}
															],
															"sid": 532436135835102
														}
													]
												},
												{
													"eventType": "comment",
													"text": "атака каштаном",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 206864732792333
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 148268493210070,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "Self.nutDist-50"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 283513025339077,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 4,
																"value": "Self.attackDist"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 751801638653370,
															"parameters": {
																"instance-variable": "nut"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 269571100813404,
															"parameters": {
																"instance-variable": "seal"
															},
															"isInverted": true
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 914394007835529,
															"parameters": {
																"instance-variable": "onPerimeter"
															},
															"isInverted": true
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "aBit",
															"sid": 550648461931252,
															"parameters": {
																"instance-variable": "interseptor",
																"comparison": 1,
																"value": "\"seal\""
															}
														}
													],
													"actions": [
														{
															"customAction": "guardNut",
															"objectClass": "ati",
															"sid": 547050178629804,
															"parameters": [
																"tGuard.UID"
															]
														}
													],
													"sid": 114619977653255
												}
											]
										},
										{
											"eventType": "comment",
											"text": "проснувшиеся стражи растут при приближении Бита и наоборот",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "comment",
											"text": "полностью выросший уменьшается",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 884454728898259
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 550001562868103,
													"parameters": {
														"instance-variable": "achivGuard"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 651918073730626,
													"parameters": {
														"instance-variable": "grown"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "tGuard",
													"sid": 396107059757866,
													"parameters": {
														"instance-variable": "heroDist",
														"comparison": 4,
														"value": "Self.closeDist+50"
													}
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "base",
													"sid": 556693648578449,
													"disabled": true,
													"parameters": {
														"object": "zoneStopTh"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 173842171386553,
													"disabled": true,
													"parameters": {
														"instance-variable": "nut"
													},
													"isInverted": true
												},
												{
													"id": "compare-animation-speed",
													"objectClass": "tGuard",
													"sid": 518225750297811,
													"disabled": true,
													"parameters": {
														"comparison": 1,
														"number": "-12"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 400123175665396,
													"parameters": {
														"instance-variable": "grown",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 976386992784862,
													"parameters": {
														"instance-variable": "grow",
														"value": "true"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 588472023366222,
													"parameters": {
														"instance-variable": "nut",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 584191639236467,
													"parameters": {
														"instance-variable": "seal",
														"value": "false"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 116441573814338,
													"parameters": {
														"instance-variable": "status",
														"value": "\"growDown\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "tGuard",
													"sid": 940086761551472,
													"parameters": {
														"animation": "\"grow\"",
														"from": "current-frame"
													}
												},
												{
													"type": "comment",
													"text": "!!! конечный кадр"
												},
												{
													"id": "set-animation-frame",
													"objectClass": "tGuard",
													"sid": 381371091934286,
													"parameters": {
														"frame-number": "4"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "tGuard",
													"sid": 126740713780392,
													"parameters": {
														"speed": "-12"
													}
												},
												{
													"id": "start-animation",
													"objectClass": "tGuard",
													"sid": 516502485197853,
													"parameters": {
														"from": "current-frame"
													}
												}
											],
											"sid": 525161528294578,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 436019335757407,
															"parameters": {
																"instance-variable": "icon",
																"comparison": 1,
																"value": "\"zero\""
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "icon",
															"sid": 831744394048305,
															"parameters": {
																"instance-variable": "hostUID",
																"comparison": 0,
																"value": "tGuard.UID"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "icon",
															"sid": 296368985758394,
															"parameters": {
																"x": "-5372",
																"y": "-5327"
															}
														},
														{
															"id": "set-enabled",
															"objectClass": "icon",
															"sid": 912709674301279,
															"behaviorType": "EasyIsometric",
															"parameters": {
																"newState_": "disabled"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "icon",
															"sid": 230364069458988,
															"parameters": {
																"instance-variable": "hostUID",
																"value": "-1"
															}
														}
													],
													"sid": 774717261042364
												}
											]
										},
										{
											"eventType": "comment",
											"text": "спящий начинает расти",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 796646919892003
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 251048814174925,
													"parameters": {
														"instance-variable": "achivGuard"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 648892878084213,
													"parameters": {
														"instance-variable": "grown"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 660336142440370,
													"parameters": {
														"instance-variable": "grow"
													},
													"isInverted": true
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "tGuard",
													"sid": 163918122256566,
													"parameters": {
														"instance-variable": "status",
														"comparison": 0,
														"value": "\"sleep\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "tGuard",
													"sid": 415889272977816,
													"parameters": {
														"instance-variable": "heroDist",
														"comparison": 2,
														"value": "Self.closeDist"
													}
												},
												{
													"id": "compare-animation-speed",
													"objectClass": "tGuard",
													"sid": 440224945957570,
													"disabled": true,
													"parameters": {
														"comparison": 1,
														"number": "12"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 831141350735131,
													"parameters": {
														"instance-variable": "grow",
														"value": "true"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 710173128801921,
													"parameters": {
														"instance-variable": "status",
														"value": "\"growUp\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "tGuard",
													"sid": 877585879741426,
													"parameters": {
														"animation": "\"grow\"",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "tGuard",
													"sid": 726438836671167,
													"parameters": {
														"speed": "12"
													}
												},
												{
													"id": "start-animation",
													"objectClass": "tGuard",
													"sid": 430285724334383,
													"parameters": {
														"from": "beginning"
													}
												}
											],
											"sid": 463902822816236
										},
										{
											"eventType": "comment",
											"text": "растущий",
											"background-color": [
												0.6039215686274509,
												0.7803921568627451,
												0.8392156862745098,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 802166837356480
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 544352107143058,
													"parameters": {
														"instance-variable": "achivGuard"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 222440465572936,
													"parameters": {
														"instance-variable": "grown"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "tGuard",
													"sid": 956659817091185,
													"parameters": {
														"instance-variable": "grow"
													}
												}
											],
											"actions": [],
											"sid": 702358975227486,
											"children": [
												{
													"eventType": "comment",
													"text": "если герой близко",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 197104656829007,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "Self.closeDist+10"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 553783770254300,
															"parameters": {
																"instance-variable": "status",
																"comparison": 1,
																"value": "\"growUp\""
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "tGuard",
															"sid": 923626062435010,
															"parameters": {
																"instance-variable": "status",
																"value": "\"growUp\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "tGuard",
															"sid": 777620875267467,
															"parameters": {
																"animation": "\"grow\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-animation-speed",
															"objectClass": "tGuard",
															"sid": 326935374076742,
															"parameters": {
																"speed": "12"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "tGuard",
															"sid": 316803435466273,
															"parameters": {
																"from": "current-frame"
															}
														}
													],
													"sid": 937081015422398
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 222318721061001,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 2,
																"value": "Self.closeDist+10"
															}
														},
														{
															"id": "compare-animation-speed",
															"objectClass": "tGuard",
															"sid": 934805541356621,
															"parameters": {
																"comparison": 2,
																"number": "0"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 594006421644576,
															"parameters": {
																"instance-variable": "status",
																"comparison": 1,
																"value": "\"growUp\""
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "tGuard",
															"sid": 873977459465438,
															"parameters": {
																"instance-variable": "status",
																"value": "\"growUp\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "tGuard",
															"sid": 106494289173126,
															"parameters": {
																"animation": "\"grow\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-animation-speed",
															"objectClass": "tGuard",
															"sid": 539697277252577,
															"parameters": {
																"speed": "12"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "tGuard",
															"sid": 914543624533279,
															"parameters": {
																"from": "current-frame"
															}
														}
													],
													"sid": 525162396903792
												},
												{
													"eventType": "comment",
													"text": "если герой далеко",
													"background-color": [
														0.6039215686274509,
														0.7803921568627451,
														0.8392156862745098,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 586324328474997
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 892094021582555,
															"parameters": {
																"instance-variable": "heroDist",
																"comparison": 4,
																"value": "Self.closeDist+30"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 365252517758939,
															"parameters": {
																"instance-variable": "status",
																"comparison": 1,
																"value": "\"growDown\""
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "tGuard",
															"sid": 896983685532835,
															"parameters": {
																"instance-variable": "status",
																"value": "\"growDown\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "tGuard",
															"sid": 227119734849817,
															"parameters": {
																"animation": "\"grow\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-animation-speed",
															"objectClass": "tGuard",
															"sid": 409776116101627,
															"parameters": {
																"speed": "-12"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "tGuard",
															"sid": 359928957487164,
															"parameters": {
																"from": "current-frame"
															}
														}
													],
													"sid": 734882620931829
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "выросшие стражи следят за героем",
					"background-color": [
						0.8980392156862745,
						0.6627450980392157,
						0.5607843137254902,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "tGuard",
							"sid": 424339101351625,
							"parameters": {
								"instance-variable": "grown"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "tGuard",
							"sid": 868804802921956,
							"parameters": {
								"instance-variable": "onPerimeter"
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 917522368125106,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "tGuard",
							"sid": 845633838076310,
							"parameters": {
								"instance-variable": "ang",
								"value": "angle(Self.X,Self.Y,base.X,base.Y)"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "tGuard",
							"sid": 343908217712964,
							"parameters": {
								"instance-variable": "dir",
								"value": "int(((Self.ang+360+22.5) %360)/45)"
							}
						}
					],
					"sid": 702559004397710,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 207124130640290,
									"parameters": {
										"instance-variable": "dir",
										"comparison": 1,
										"value": "Self.oldDir"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "tGuard",
									"sid": 362452262468651,
									"parameters": {
										"animation": "\"stop\"&(Self.dir=3 ? 1 : Self.dir=4 ? 0 : Self.dir=5 ? 7 : Self.dir)",
										"from": "current-frame"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 337495450377132,
									"parameters": {
										"instance-variable": "oldDir",
										"value": "Self.dir"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "tGuard",
									"sid": 993617219069249,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 722907904332973,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 339558580969633,
											"parameters": {
												"value": "tGuard.dir",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "tGuard",
											"sid": 561665493445224,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 396183396621470
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "\n\n\nСтраж рисует изометрическую окружность из шипов вокруг охраняемого объекта. Вокруг себя или Достижения.",
					"background-color": [
						0.7647058823529411,
						0.6862745098039216,
						0.8941176470588236,
						1
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "perimeter",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "Триггер начала отрисовки границы: герой пересек дальний радиус",
							"background-color": [
								0.7647058823529411,
								0.6862745098039216,
								0.8941176470588236,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "tGuard",
									"sid": 838361528996336,
									"parameters": {
										"tag": "\"perimeter\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "tGuard",
									"sid": 512524055527998,
									"parameters": {
										"instance-variable": "heroDist",
										"comparison": 2,
										"value": "Self.closeDist+50"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "tGuard",
									"sid": 463555703792883,
									"parameters": {
										"instance-variable": "perimeter"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 924955425050470,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "tGuard",
									"sid": 485629703845361,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"drawSpikes\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 310996923732371,
							"children": [
								{
									"eventType": "comment",
									"text": "Определение центра: Ронин (вокруг себя)",
									"background-color": [
										0.7647058823529411,
										0.6862745098039216,
										0.8941176470588236,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 962193869112544,
											"parameters": {
												"instance-variable": "achivGuard"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 486542646763270,
											"parameters": {
												"instance-variable": "superGuard"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 856206103407121,
											"parameters": {
												"instance-variable": "drawIndex",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 453826603723847,
											"parameters": {
												"instance-variable": "drawCX",
												"value": "Self.X"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 333552107274081,
											"parameters": {
												"instance-variable": "drawCY",
												"value": "Self.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 239041730079459,
											"parameters": {
												"instance-variable": "startAng",
												"value": "angle(Self.X, Self.Y, base.X, base.Y)-30"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "tGuard",
											"sid": 459601787773290,
											"parameters": {
												"instance-variable": "perimeter",
												"value": "true"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "tGuard",
											"sid": 899923622052706,
											"parameters": {
												"instance-variable": "onPerimeter",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 871103196344397,
											"parameters": {
												"instance-variable": "outlined",
												"value": "1"
											}
										},
										{
											"id": "start-timer",
											"objectClass": "tGuard",
											"sid": 364542817826295,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.05",
												"type": "regular",
												"tag": "\"drawSpikes\""
											}
										}
									],
									"sid": 114468981985801
								},
								{
									"eventType": "comment",
									"text": "Определение центра: Обычный охранник (вокруг охраняемого достижения)",
									"background-color": [
										0.7647058823529411,
										0.6862745098039216,
										0.8941176470588236,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 429191529931693,
											"parameters": {
												"instance-variable": "achivGuard"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 418249396722992,
											"parameters": {
												"instance-variable": "superGuard"
											},
											"isInverted": true
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "achivments",
											"sid": 146906897700053,
											"parameters": {
												"unique-id": "tGuard.achivUID"
											}
										}
									],
									"actions": [],
									"sid": 625537729832381,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "achivments",
													"sid": 875756082415762,
													"parameters": {
														"instance-variable": "outlined",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "achivments",
													"sid": 313034134356232,
													"parameters": {
														"instance-variable": "outlined",
														"value": "1"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 315513970451285,
													"parameters": {
														"instance-variable": "drawIndex",
														"value": "0"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 209746118794522,
													"parameters": {
														"instance-variable": "drawCX",
														"value": "achivments.X"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 219567055789335,
													"parameters": {
														"instance-variable": "drawCY",
														"value": "achivments.Y"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 280366741728712,
													"parameters": {
														"instance-variable": "startAng",
														"value": "angle(achivments.X, achivments.Y, base.X, base.Y)-30"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 329617941799124,
													"parameters": {
														"instance-variable": "perimeter",
														"value": "true"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "tGuard",
													"sid": 338080732903570,
													"parameters": {
														"instance-variable": "onPerimeter",
														"value": "true"
													}
												},
												{
													"id": "start-timer",
													"objectClass": "tGuard",
													"sid": 281864689919777,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.05",
														"type": "regular",
														"tag": "\"drawSpikes\""
													}
												}
											],
											"sid": 213991009403879,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-all",
															"objectClass": "System",
															"sid": 384807548779976,
															"parameters": {
																"object": "tGuard"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 209473412865223,
															"parameters": {
																"instance-variable": "achivUID",
																"comparison": 0,
																"value": "achivments.UID"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "tGuard",
															"sid": 309400151835316,
															"parameters": {
																"instance-variable": "perimeter",
																"value": "true"
															}
														}
													],
													"sid": 239140644980370
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "Определение центра: Супер-страж (вокруг ближайшего к герою достижения в кластере)",
									"background-color": [
										0.7647058823529411,
										0.6862745098039216,
										0.8941176470588236,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 707083728207465,
											"parameters": {
												"instance-variable": "superGuard"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 719997640750209,
											"parameters": {
												"instance-variable": "achivGuard"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 112233445566777,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [],
									"sid": 874056849904353,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-all",
													"objectClass": "System",
													"sid": 921452108809938,
													"parameters": {
														"object": "achivments"
													}
												}
											],
											"actions": [],
											"sid": 430695191410345,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "achivments",
															"sid": 111251064085773,
															"parameters": {
																"instance-variable": "SGClaster",
																"comparison": 0,
																"value": "tGuard.SGClaster"
															}
														}
													],
													"actions": [],
													"sid": 757236396423119,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "achivments",
																	"sid": 973570240004960,
																	"parameters": {
																		"instance-variable": "outlined",
																		"comparison": 0,
																		"value": "0"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "Обновляем дистанцию (с гарантированным base)"
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "achivments",
																	"sid": 341244168880647,
																	"parameters": {
																		"instance-variable": "heroDist",
																		"value": "Functions.getIsoDist(Self.X, Self.Y, base.X, base.Y)"
																	}
																}
															],
															"sid": 882804612773029,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "pick-highestlowest",
																			"objectClass": "achivments",
																			"sid": 707323812446252,
																			"parameters": {
																				"which": "lowest",
																				"instance-variable": "heroDist"
																			}
																		},
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "achivments",
																			"sid": 658286379382347,
																			"parameters": {
																				"instance-variable": "heroDist",
																				"comparison": 2,
																				"value": "tGuard.closeDist"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-instvar-value",
																			"objectClass": "tGuard",
																			"sid": 316166352462151,
																			"parameters": {
																				"instance-variable": "drawIndex",
																				"value": "0"
																			}
																		},
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "tGuard",
																			"sid": 134089013756595,
																			"parameters": {
																				"instance-variable": "perimeter",
																				"value": "true"
																			}
																		},
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "tGuard",
																			"sid": 212798301288670,
																			"parameters": {
																				"instance-variable": "onPerimeter",
																				"value": "true"
																			}
																		},
																		{
																			"id": "start-timer",
																			"objectClass": "tGuard",
																			"sid": 628218174137054,
																			"behaviorType": "Timer",
																			"parameters": {
																				"duration": "0.05",
																				"type": "regular",
																				"tag": "\"drawSpikes\""
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "tGuard",
																			"sid": 902602592509575,
																			"parameters": {
																				"instance-variable": "drawCX",
																				"value": "achivments.X"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "tGuard",
																			"sid": 942721350759570,
																			"parameters": {
																				"instance-variable": "drawCY",
																				"value": "achivments.Y"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "tGuard",
																			"sid": 832727856728709,
																			"parameters": {
																				"instance-variable": "startAng",
																				"value": "angle(achivments.X, achivments.Y, base.X, base.Y) - 30"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "achivments",
																			"sid": 962636047418584,
																			"parameters": {
																				"instance-variable": "outlined",
																				"value": "1"
																			}
																		}
																	],
																	"sid": 785192750448104
																}
															]
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-outside-layout",
											"objectClass": "luch1",
											"sid": 568712100872422
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "luch1",
											"sid": 309395051031767,
											"parameters": {
												"instance-variable": "hostUID",
												"comparison": 3,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 758493002397445,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 910297027439577,
													"parameters": {
														"object": "luch1"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "luch1",
													"sid": 248316386517153,
													"parameters": {
														"instance-variable": "hostUID",
														"value": "tGuard.UID"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "luch1",
													"sid": 978803907855067,
													"parameters": {
														"scale": "1"
													}
												}
											],
											"sid": 459172338800399
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "блок с переменными",
							"background-color": [
								0.7647058823529411,
								0.6862745098039216,
								0.8941176470588236,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "tGuard",
									"sid": 786832646489109,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"drawSpikes\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 727699014471490,
									"parameters": {
										"instance-variable": "drawX",
										"value": "Self.drawCX + cos(self.startAng + self.drawIndex * 10) * self.attackDist"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "tGuard",
									"sid": 520221525589241,
									"parameters": {
										"instance-variable": "drawY",
										"value": "Self.drawCY + sin(Self.startAng + Self.drawIndex * 10) * Self.attackDist * 0.5"
									}
								},
								{
									"id": "add-to-instvar",
									"objectClass": "tGuard",
									"sid": 228603708654592,
									"parameters": {
										"instance-variable": "drawIndex",
										"value": "1"
									}
								}
							],
							"sid": 895864902166150,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-outside-layout",
											"objectClass": "spike",
											"sid": 666907312528351
										}
									],
									"actions": [],
									"sid": 566316987417886,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 936751562692435,
													"parameters": {
														"object": "spike"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "spike",
													"sid": 392036158990679,
													"parameters": {
														"x": "tGuard.drawX",
														"y": "tGuard.drawY"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "spike",
													"sid": 993024655349055,
													"parameters": {
														"animation": "\"spike\"",
														"from": "beginning"
													}
												}
											],
											"sid": 165822533942087
										},
										{
											"eventType": "comment",
											"text": "Поворот стража к точке установки шипа",
											"background-color": [
												0.7647058823529411,
												0.6862745098039216,
												0.8941176470588236,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 564646460032125,
													"parameters": {
														"instance-variable": "ang",
														"value": "angle(Self.X,Self.Y,Self.drawX,Self.drawY)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "tGuard",
													"sid": 123743107760624,
													"parameters": {
														"instance-variable": "dir",
														"value": "int(((Self.ang+360+22.5) %360)/45)"
													}
												}
											],
											"sid": 858830332678743,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "tGuard",
															"sid": 204142690691872,
															"parameters": {
																"instance-variable": "dir",
																"comparison": 1,
																"value": "Self.oldDir"
															}
														}
													],
													"actions": [
														{
															"id": "set-animation",
															"objectClass": "tGuard",
															"sid": 741094253767547,
															"parameters": {
																"animation": "\"stop\"&(Self.dir=3 ? 1 : Self.dir=4 ? 0 : Self.dir=5 ? 7 : Self.dir)",
																"from": "current-frame"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "tGuard",
															"sid": 784999784763104,
															"parameters": {
																"instance-variable": "oldDir",
																"value": "Self.dir"
															}
														},
														{
															"id": "set-mirrored",
															"objectClass": "tGuard",
															"sid": 858978789794397,
															"parameters": {
																"state": "not-mirrored"
															}
														}
													],
													"sid": 534529591878648
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-between-values",
															"objectClass": "System",
															"sid": 616057045360591,
															"parameters": {
																"value": "tGuard.dir",
																"lower-bound": "3",
																"upper-bound": "5"
															}
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "tGuard",
															"sid": 960078412802573,
															"parameters": {
																"state": "mirrored"
															}
														}
													],
													"sid": 930954733018050
												}
											]
										},
										{
											"eventType": "comment",
											"text": "Луч: выбор по hostUID и импульс через Fade",
											"background-color": [
												0.7647058823529411,
												0.6862745098039216,
												0.8941176470588236,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-comparison",
													"objectClass": "System",
													"sid": 207129074327242,
													"disabled": true,
													"parameters": {
														"object": "luch1",
														"expression": "luch1.hostUID",
														"comparison": 0,
														"value": "tGuard.UID"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "luch1",
													"sid": 574166769200673,
													"parameters": {
														"instance-variable": "hostUID",
														"comparison": 0,
														"value": "tGuard.UID"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "luch1",
													"sid": 861688307955881,
													"parameters": {
														"x": "tGuard.ImagePointX(3)",
														"y": "tGuard.ImagePointY(3)"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "luch1",
													"sid": 345917125979501,
													"parameters": {
														"angle": "angle(Self.X, Self.Y, tGuard.drawX, tGuard.drawY)"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "luch1",
													"sid": 365977717474247,
													"parameters": {
														"animation": "\"luch\"",
														"from": "beginning"
													}
												},
												{
													"id": "set-visible",
													"objectClass": "luch1",
													"sid": 484001503887183,
													"parameters": {
														"visibility": "visible"
													}
												},
												{
													"id": "set-opacity",
													"objectClass": "luch1",
													"sid": 292218441571576,
													"parameters": {
														"opacity": "100"
													}
												},
												{
													"id": "restart-fade",
													"objectClass": "luch1",
													"sid": 280350943762109,
													"disabled": true,
													"behaviorType": "Fade"
												},
												{
													"id": "set-width",
													"objectClass": "luch1",
													"sid": 337911518943450,
													"parameters": {
														"width": "distance(Self.X, Self.Y, tGuard.drawX, tGuard.drawY)"
													}
												}
											],
											"sid": 720360712720087
										}
									]
								},
								{
									"eventType": "comment",
									"text": "завершение отрисовки",
									"background-color": [
										0.7647058823529411,
										0.6862745098039216,
										0.8941176470588236,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "tGuard",
											"sid": 158863094334240,
											"parameters": {
												"instance-variable": "drawIndex",
												"comparison": 5,
												"value": "36"
											}
										}
									],
									"actions": [
										{
											"id": "stop-timer",
											"objectClass": "tGuard",
											"sid": 697118273830578,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"drawSpikes\""
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "tGuard",
											"sid": 778941843202744,
											"parameters": {
												"instance-variable": "onPerimeter",
												"value": "false"
											}
										}
									],
									"sid": 178366764024760,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "luch1",
													"sid": 278333221128263,
													"parameters": {
														"instance-variable": "hostUID",
														"comparison": 0,
														"value": "tGuard.UID"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "luch1",
													"sid": 178452704742035,
													"parameters": {
														"x": "-4444",
														"y": "-12345"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "luch1",
													"sid": 458531786525228,
													"parameters": {
														"instance-variable": "hostUID",
														"value": "-1"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "luch1",
													"sid": 427032798880926,
													"parameters": {
														"animation": "\"zero\"",
														"from": "beginning"
													}
												}
											],
											"sid": 522679814101561,
											"children": [
												{
													"eventType": "comment",
													"text": "отключение группы на скорую руку",
													"background-color": [
														0.7647058823529411,
														0.6862745098039216,
														0.8941176470588236,
														1
													]
												},
												{
													"eventType": "variable",
													"name": "roninCount",
													"type": "number",
													"initialValue": "0",
													"comment": "",
													"isStatic": false,
													"isConstant": false,
													"sid": 943253701804734
												},
												{
													"eventType": "variable",
													"name": "achivCount",
													"type": "number",
													"initialValue": "0",
													"comment": "",
													"isStatic": false,
													"isConstant": false,
													"sid": 562842785453466
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-all",
															"objectClass": "System",
															"sid": 579853278985787,
															"parameters": {
																"object": "tGuard"
															}
														}
													],
													"actions": [],
													"sid": 650822570825611,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-outside-layout",
																	"objectClass": "tGuard",
																	"sid": 223306871509105,
																	"isInverted": true
																},
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "tGuard",
																	"sid": 749484864718807,
																	"parameters": {
																		"instance-variable": "achivGuard"
																	},
																	"isInverted": true
																},
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "tGuard",
																	"sid": 290395359608387,
																	"parameters": {
																		"instance-variable": "superGuard"
																	},
																	"isInverted": true
																}
															],
															"actions": [],
															"sid": 821890609853139,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "tGuard",
																			"sid": 470907604446622,
																			"parameters": {
																				"instance-variable": "outlined",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 342867249438469,
																			"parameters": {
																				"variable": "roninCount",
																				"value": "1"
																			}
																		}
																	],
																	"sid": 372135238305649
																}
															]
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 123058718055358
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 177187443277400,
																	"parameters": {
																		"variable": "roninCount",
																		"value": "0"
																	}
																}
															],
															"sid": 257361311155635
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-all",
															"objectClass": "System",
															"sid": 930259841790256,
															"parameters": {
																"object": "achivments"
															}
														}
													],
													"actions": [],
													"sid": 861378522522496,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "achivments",
																	"sid": 813941621138093,
																	"parameters": {
																		"instance-variable": "guarded"
																	}
																},
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "achivments",
																	"sid": 692291466727395,
																	"parameters": {
																		"instance-variable": "superGuarded"
																	}
																}
															],
															"actions": [],
															"sid": 544841667416573,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "achivments",
																			"sid": 629346970789502,
																			"parameters": {
																				"instance-variable": "outlined",
																				"comparison": 0,
																				"value": "0"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 578143631149144,
																			"parameters": {
																				"variable": "achivCount",
																				"value": "1"
																			}
																		}
																	],
																	"sid": 533902327263641
																}
															],
															"isOrBlock": true
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 240540138004989
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 480697344871869,
																	"parameters": {
																		"variable": "achivCount",
																		"value": "0"
																	}
																}
															],
															"sid": 625088005044945
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 393927108241212,
															"parameters": {
																"variable": "achivCount",
																"comparison": 0,
																"value": "0"
															}
														},
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 703957542598201,
															"parameters": {
																"variable": "roninCount",
																"comparison": 0,
																"value": "0"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "tGuard",
															"sid": 635434386283266,
															"parameters": {
																"instance-variable": "onPerimeter"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-group-active",
															"objectClass": "System",
															"sid": 121327371161025,
															"parameters": {
																"group-name": "\"perimeter\"",
																"state": "deactivated"
															}
														}
													],
													"sid": 553001996717456
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "СБРОС: Прерываем отрисовку, если страж перешел в активную фазу",
							"background-color": [
								0.7647058823529411,
								0.6862745098039216,
								0.8941176470588236,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-timer-running",
									"objectClass": "tGuard",
									"sid": 834133343396419,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"drawSpikes\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "tGuard",
									"sid": 821360259533825,
									"parameters": {
										"instance-variable": "grow"
									}
								}
							],
							"actions": [
								{
									"id": "stop-timer",
									"objectClass": "tGuard",
									"sid": 403294942036050,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"drawSpikes\""
									}
								}
							],
							"sid": 473423301769129,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "tGuard",
											"sid": 565350331562928,
											"parameters": {
												"instance-variable": "grown"
											}
										}
									],
									"actions": [],
									"sid": 630951084394544,
									"disabled": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-all",
											"objectClass": "System",
											"sid": 760205613168582,
											"parameters": {
												"object": "luch1"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "luch1",
											"sid": 898017720096065,
											"parameters": {
												"instance-variable": "hostUID",
												"comparison": 0,
												"value": "tGuard.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "luch1",
											"sid": 692983946407494,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 203335054029313,
									"disabled": true
								}
							],
							"isOrBlock": true
						}
					],
					"sid": 569189970035660
				},
				{
					"eventType": "comment",
					"text": "\n\n\nНа расстоянии разбрасывания семян, стражи атакуют героя, разбрасывая семена",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"aceType": "action",
					"aceName": "guardNut",
					"objectClass": "ati",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "uid",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 586555828482751
						}
					],
					"eventType": "custom-ace-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "tGuard",
							"sid": 538489071295852,
							"parameters": {
								"unique-id": "uid"
							}
						}
					],
					"actions": [],
					"sid": 169339041230419,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-outside-layout",
									"objectClass": "seedNut",
									"sid": 800710241471463
								}
							],
							"actions": [],
							"sid": 665028721361876,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-random-instance",
											"objectClass": "System",
											"sid": 177293880534576,
											"parameters": {
												"object": "seedNut"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "tGuard",
											"sid": 568743131886250,
											"parameters": {
												"instance-variable": "nut",
												"value": "true"
											}
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "seedNut",
											"sid": 586602804541200,
											"parameters": {
												"object": "tGuard",
												"image-point-optional": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "seedNut",
											"sid": 135275886781678,
											"parameters": {
												"instance-variable": "hostUID",
												"value": "uid"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "seedNut",
											"sid": 968514018580698,
											"parameters": {
												"animation": "\"guard\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "seedNut",
											"sid": 408284019659286,
											"parameters": {
												"instance-variable": "type",
												"value": "tGuard.pType"
											}
										},
										{
											"id": "set-scale",
											"objectClass": "seedNut",
											"sid": 577717739729408,
											"parameters": {
												"scale": "Self.type=\"chick\"?0.67:0.65"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "seedNut",
											"sid": 266986437617987,
											"parameters": {
												"instance-variable": "on",
												"value": "true"
											}
										}
									],
									"sid": 541642000534017
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "пока семя растёт его Z-сортировка",
					"background-color": [
						0.9607843137254902,
						0.6941176470588235,
						0.5176470588235295,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "seedNut",
							"sid": 224841988589225,
							"parameters": {
								"instance-variable": "on"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "seedNut",
							"sid": 547637569852702,
							"parameters": {
								"animation": "\"guard\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "tGuard",
							"sid": 265373438251392,
							"parameters": {
								"unique-id": "seedNut.hostUID"
							}
						}
					],
					"actions": [],
					"sid": 221032435361059,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "tGuard",
									"sid": 875156742604750,
									"parameters": {
										"animation": "\"stop6\""
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "tGuard",
									"sid": 838637553980017,
									"parameters": {
										"animation": "\"stop7\""
									}
								}
							],
							"actions": [
								{
									"id": "move-to-object",
									"objectClass": "seedNut",
									"sid": 693227702454282,
									"parameters": {
										"where": "behind",
										"object": "tGuard"
									}
								},
								{
									"id": "set-position-to-another-object",
									"objectClass": "seedNut",
									"sid": 816666892048341,
									"parameters": {
										"object": "tGuard",
										"image-point-optional": "1"
									}
								}
							],
							"sid": 458742848396141,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 820485700774128
								}
							],
							"actions": [
								{
									"id": "move-to-object",
									"objectClass": "seedNut",
									"sid": 942557594093012,
									"parameters": {
										"where": "in-front",
										"object": "tGuard"
									}
								},
								{
									"id": "set-position-to-another-object",
									"objectClass": "seedNut",
									"sid": 858665510979760,
									"parameters": {
										"object": "tGuard",
										"image-point-optional": "1"
									}
								}
							],
							"sid": 546515325473082
						}
					]
				},
				{
					"eventType": "comment",
					"text": "семя выросло, выстрел",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "seedNut",
							"sid": 874632083880505,
							"parameters": {
								"animation": "\"guard\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 723103910424499,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "tGuard",
							"sid": 785873007763879,
							"parameters": {
								"unique-id": "seedNut.hostUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "seedNut",
							"sid": 377859481419832,
							"parameters": {
								"animation": "\"dart\"",
								"from": "beginning"
							}
						}
					],
					"sid": 612238794339612,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-outside-layout",
									"objectClass": "dart",
									"sid": 153094504740116
								}
							],
							"actions": [],
							"sid": 524509846271175,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-random-instance",
											"objectClass": "System",
											"sid": 103077777000453,
											"parameters": {
												"object": "dart"
											}
										}
									],
									"actions": [
										{
											"id": "set-position-to-another-object",
											"objectClass": "dart",
											"sid": 873832470164546,
											"parameters": {
												"object": "tGuard",
												"image-point-optional": "1"
											}
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "seedNut",
											"sid": 486560471226435,
											"parameters": {
												"object": "tGuard",
												"image-point-optional": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "seedNut",
											"sid": 402063643528592,
											"parameters": {
												"instance-variable": "dartUID",
												"value": "dart.UID"
											}
										},
										{
											"id": "pin-to-object-properties",
											"objectClass": "seedNut",
											"sid": 739434379765985,
											"behaviorType": "Pin",
											"parameters": {
												"pin-to": "dart",
												"x": true,
												"y": true,
												"angle": true,
												"width-type": "no",
												"height-type": "no",
												"z": false
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 461157599213313,
											"parameters": {
												"group-name": "\"dart\"",
												"state": "activated"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "tGuard",
											"sid": 253881471388720,
											"disabled": true,
											"parameters": {
												"instance-variable": "precision",
												"value": "0"
											}
										},
										{
											"callFunction": "dart",
											"sid": 540503213971861,
											"parameters": [
												"dart.UID",
												"dart.X",
												"dart.Y",
												"tGuard.Y-dart.Y",
												"base.X+random(-tGuard.precision,tGuard.precision)",
												"base.Y+random(-tGuard.precision/2,tGuard.precision/2)",
												"3000",
												"2000",
												"15",
												"50",
												"1600",
												"\"angle\"",
												"1"
											]
										}
									],
									"sid": 279861100972854
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "снаряд закончил полёт",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-instance-signal",
							"objectClass": "dart",
							"sid": 211855486415993,
							"parameters": {
								"tag": "\"boom\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "seedNut",
							"sid": 605672548583687,
							"parameters": {
								"instance-variable": "dartUID",
								"comparison": 0,
								"value": "dart.UID"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "tGuard",
							"sid": 962955805581675,
							"parameters": {
								"unique-id": "seedNut.hostUID"
							}
						}
					],
					"actions": [
						{
							"id": "unpin",
							"objectClass": "seedNut",
							"sid": 150554217963369,
							"behaviorType": "Pin"
						},
						{
							"id": "set-angle",
							"objectClass": "seedNut",
							"sid": 259348354192629,
							"parameters": {
								"angle": "0"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "tGuard",
							"sid": 470928543220375,
							"parameters": {
								"instance-variable": "nut",
								"value": "false"
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "seedNut",
							"sid": 522990909819297,
							"parameters": {
								"state": "not-mirrored"
							}
						}
					],
					"sid": 935418617231917,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "Chance",
									"objectClass": "Utils",
									"sid": 724852362560815,
									"parameters": {
										"chance": "1",
										"outof": "2"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "seedNut",
									"sid": 926000695332825,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 731427639481612
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "seedNut",
									"sid": 799269505519613,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"nut\""
									}
								}
							],
							"actions": [],
							"sid": 892856759759999,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "seedNut",
											"sid": 973144677627916,
											"parameters": {
												"object": "zoneStopTh"
											},
											"isInverted": true
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "seedNut",
											"sid": 442315445649242,
											"parameters": {
												"object": "puffball"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "addNut",
											"sid": 967047059239365,
											"parameters": [
												"seedNut.X",
												"seedNut.Y",
												"\"zero\"",
												false,
												false
											]
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "seedNut",
											"sid": 733421279911252,
											"parameters": {
												"instance-variable": "on",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "seedNut",
											"sid": 436294867258305,
											"parameters": {
												"instance-variable": "dartUID",
												"value": "-1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "seedNut",
											"sid": 756277619182968,
											"parameters": {
												"instance-variable": "hostUID",
												"value": "-1"
											}
										},
										{
											"id": "set-position",
											"objectClass": "seedNut",
											"sid": 225301994761317,
											"parameters": {
												"x": "-3777",
												"y": "-74445"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "seedNut",
											"sid": 268075028454702,
											"parameters": {
												"animation": "\"i\"",
												"from": "beginning"
											}
										}
									],
									"sid": 705111813192985
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 304667843766567
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "seedNut",
											"sid": 348176021146250,
											"parameters": {
												"animation": "\"seed\"",
												"from": "beginning"
											}
										}
									],
									"sid": 447284045115803
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 717859348942574
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "seedNut",
									"sid": 626457518444953,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"chick\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "seedNut",
									"sid": 300363288300347,
									"parameters": {
										"animation": "\"seed\"",
										"from": "beginning"
									}
								}
							],
							"sid": 862189157521050
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 337085666385571
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "seedNut",
									"sid": 845343106776250,
									"disabled": true,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"boom\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "seedNut",
									"sid": 710718999873916,
									"parameters": {
										"animation": "\"boom\"",
										"from": "beginning"
									}
								}
							],
							"sid": 652417800888823
						}
					]
				},
				{
					"eventType": "comment",
					"text": "семя взрывается или превращается в юнит переданного от стража типа",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "seedNut",
							"sid": 935965775601880,
							"parameters": {
								"animation": "\"seed\""
							}
						}
					],
					"actions": [],
					"sid": 638234189221174,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "seedNut",
									"sid": 858191865140076,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"chick\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "addChick",
									"sid": 461213826869400,
									"parameters": [
										"seedNut.X",
										"seedNut.Y",
										"1",
										"\"zero\""
									]
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "seedNut",
									"sid": 464966621865923,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "seedNut",
									"sid": 112457500786042,
									"parameters": {
										"instance-variable": "dartUID",
										"value": "-1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "seedNut",
									"sid": 497333123515439,
									"parameters": {
										"instance-variable": "hostUID",
										"value": "-1"
									}
								},
								{
									"id": "set-position",
									"objectClass": "seedNut",
									"sid": 911190516354004,
									"parameters": {
										"x": "-3777",
										"y": "-74445"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "seedNut",
									"sid": 323103711902776,
									"parameters": {
										"animation": "\"i\"",
										"from": "beginning"
									}
								}
							],
							"sid": 689538750081184
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "seedNut",
									"sid": 896774224998748,
									"parameters": {
										"instance-variable": "type",
										"comparison": 0,
										"value": "\"nut\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "addNut",
									"sid": 663412821129863,
									"parameters": [
										"seedNut.X",
										"seedNut.Y",
										"\"zero\"",
										false,
										false
									]
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 378839183015440,
									"parameters": {
										"seconds": "0",
										"use-timescale": false
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 426709859540866,
									"parameters": {
										"seconds": "0",
										"use-timescale": false
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "seedNut",
									"sid": 403024704974427,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "seedNut",
									"sid": 933471550269274,
									"parameters": {
										"instance-variable": "dartUID",
										"value": "-1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "seedNut",
									"sid": 240720250919944,
									"parameters": {
										"instance-variable": "hostUID",
										"value": "-1"
									}
								},
								{
									"id": "set-position",
									"objectClass": "seedNut",
									"sid": 415019350209400,
									"parameters": {
										"x": "-3777",
										"y": "-74445"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "seedNut",
									"sid": 785456943840886,
									"parameters": {
										"animation": "\"i\"",
										"from": "beginning"
									}
								}
							],
							"sid": 927787434047177
						}
					]
				},
				{
					"eventType": "comment",
					"text": "после взрыва возвращаем в банк",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "seedNut",
							"sid": 713001174119130,
							"parameters": {
								"animation": "\"boom\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "seedNut",
							"sid": 907946971160200,
							"parameters": {
								"instance-variable": "on",
								"value": "false"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "seedNut",
							"sid": 243805595219855,
							"parameters": {
								"instance-variable": "dartUID",
								"value": "-1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "seedNut",
							"sid": 105240551536597,
							"parameters": {
								"instance-variable": "hostUID",
								"value": "-1"
							}
						},
						{
							"id": "set-position",
							"objectClass": "seedNut",
							"sid": 108423275474681,
							"parameters": {
								"x": "-3777",
								"y": "-74445"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "seedNut",
							"sid": 535354146008636,
							"parameters": {
								"animation": "\"i\"",
								"from": "beginning"
							}
						}
					],
					"sid": 714507345757570
				},
				{
					"eventType": "comment",
					"text": "\nесли семя взрывается, и задевает героя",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "seedNut",
							"sid": 339053469333174,
							"parameters": {
								"object": "base"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "seedNut",
							"sid": 922310140474080,
							"parameters": {
								"animation": "\"boom\""
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "seedNut",
							"sid": 991622536514813,
							"parameters": {
								"instance-variable": "connectBit"
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 732809190903205,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "seedNut",
							"sid": 686213223669300,
							"parameters": {
								"object": "Bit"
							}
						}
					],
					"actions": [
						{
							"callFunction": "getSpikes",
							"sid": 839889945413580,
							"parameters": [
								"5"
							]
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "seedNut",
							"sid": 369553741711418,
							"parameters": {
								"instance-variable": "connectBit",
								"value": "true"
							}
						},
						{
							"callFunction": "snowCrash",
							"sid": 534009478932467,
							"parameters": [
								"Bit.ImagePointX(\"center\")",
								"Bit.ImagePointY(\"center\")",
								"Bit.UID"
							]
						}
					],
					"sid": 378390365981083
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "seedNut",
							"sid": 859286958764394,
							"parameters": {
								"object": "Bit"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "seedNut",
							"sid": 966818139630961,
							"parameters": {
								"animation": "\"boom\""
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "seedNut",
							"sid": 573267467193123,
							"parameters": {
								"instance-variable": "connectBit"
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 912064849956861,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "seedNut",
							"sid": 897733412452695,
							"parameters": {
								"object": "base"
							}
						}
					],
					"actions": [
						{
							"callFunction": "getSpikes",
							"sid": 669141289564421,
							"parameters": [
								"5"
							]
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "seedNut",
							"sid": 140240982208200,
							"parameters": {
								"instance-variable": "connectBit",
								"value": "true"
							}
						},
						{
							"callFunction": "snowCrash",
							"sid": 910411166979829,
							"parameters": [
								"Bit.ImagePointX(\"center\")",
								"Bit.ImagePointY(\"center\")",
								"Bit.UID"
							]
						}
					],
					"sid": 481945692636488
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "seedNut",
							"sid": 967093643617448,
							"parameters": {
								"object": "BitFake"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "base",
							"sid": 882696598453841,
							"parameters": {
								"unique-id": "BitFake.baseUID"
							}
						}
					],
					"actions": [
						{
							"callFunction": "snowCrash",
							"sid": 509987621909236,
							"parameters": [
								"BitFake.ImagePointX(\"c\")",
								"BitFake.ImagePointY(\"c\")",
								"BitFake.UID"
							]
						},
						{
							"id": "destroy",
							"objectClass": "base",
							"sid": 586111817553458
						},
						{
							"id": "set-position",
							"objectClass": "BitFake",
							"sid": 982147498079509,
							"parameters": {
								"x": "-9755",
								"y": "-79881"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "BitFake",
							"sid": 866931033347041,
							"parameters": {
								"animation": "\"zero\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-enabled",
							"objectClass": "BitFake",
							"sid": 962152212165669,
							"behaviorType": "EasyIsometric",
							"parameters": {
								"newState_": "disabled"
							}
						}
					],
					"sid": 710120807967812
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "seedNut",
							"sid": 987270722491017,
							"parameters": {
								"animation": "\"boom\""
							}
						},
						{
							"id": "compare-animation-frame",
							"objectClass": "seedNut",
							"sid": 415010943640209,
							"parameters": {
								"comparison": 4,
								"number": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "seedNut",
							"sid": 288851486982309,
							"parameters": {
								"x": "-3777",
								"y": "-74445"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "seedNut",
							"sid": 238013598574057,
							"parameters": {
								"instance-variable": "on",
								"value": "false"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "seedNut",
							"sid": 690371027048103,
							"parameters": {
								"instance-variable": "dartUID",
								"value": "-1"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "seedNut",
							"sid": 627648815675473,
							"parameters": {
								"instance-variable": "hostUID",
								"value": "-1"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "seedNut",
							"sid": 731786251120654,
							"parameters": {
								"instance-variable": "connectBit",
								"value": "false"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "seedNut",
							"sid": 286287698887979,
							"parameters": {
								"animation": "\"i\"",
								"from": "beginning"
							}
						}
					],
					"sid": 359219930095517
				},
				{
					"eventType": "comment",
					"text": "Обновление луча атаки: Поворот и растягивание к герою, пока идет анимация.",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "luch",
							"sid": 130238068012975,
							"parameters": {
								"animation": "\"luch\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "tGuard",
							"sid": 115353978903373,
							"parameters": {
								"unique-id": "luch.hostUID"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 891722436212762,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "luch",
							"sid": 723603204220015,
							"parameters": {
								"x": "tGuard.ImagePointX(3)",
								"y": "tGuard.ImagePointY(3)"
							}
						},
						{
							"id": "set-angle",
							"objectClass": "luch",
							"sid": 271476057301474,
							"parameters": {
								"angle": "angle(Self.X, Self.Y, base.X, base.Y)"
							}
						},
						{
							"id": "set-width",
							"objectClass": "luch",
							"sid": 385330314057889,
							"parameters": {
								"width": "distance(Self.X, Self.Y, base.X, base.Y)"
							}
						}
					],
					"sid": 777754257440928
				},
				{
					"eventType": "comment",
					"text": "\n\n\nпосле атаки запечатыванием",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "luch",
							"sid": 433589175543660,
							"parameters": {
								"animation": "\"luch\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "luch",
							"sid": 976692926576573,
							"parameters": {
								"animation": "\"zero\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-position",
							"objectClass": "luch",
							"sid": 858938197653247,
							"parameters": {
								"x": "-3333",
								"y": "-3333"
							}
						}
					],
					"sid": 285838490007458
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "seal",
							"sid": 754066765017870,
							"parameters": {
								"animation": "\"seal\""
							}
						}
					],
					"actions": [],
					"sid": 163127398181944,
					"children": [
						{
							"eventType": "comment",
							"text": "если Бита запечатали в прыжке",
							"background-color": [
								0.7372549019607844,
								0.7568627450980392,
								0.8431372549019608,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 369985131797733,
									"parameters": {
										"value": "sealShad.Y-seal.Y",
										"lower-bound": "-100",
										"upper-bound": "seal.Height/2+50"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "seal",
									"sid": 338420992685151,
									"disabled": true,
									"parameters": {
										"x": "sealShad.X",
										"y": "sealShad.Y+seal.Height/2"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 507030076535973,
									"parameters": {
										"seconds": "0.2",
										"use-timescale": true
									}
								},
								{
									"id": "set-animation",
									"objectClass": "seal",
									"sid": 771504418280898,
									"parameters": {
										"animation": "\"out\"",
										"from": "beginning"
									}
								}
							],
							"sid": 664773266459463
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 505394043414570
								}
							],
							"actions": [
								{
									"id": "tween-one-property",
									"objectClass": "seal",
									"sid": 752919668412988,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"drop\"",
										"property": "offsetY",
										"end-value": "sealShad.Y+seal.Height/2",
										"time": "0.1",
										"ease": "easeincirc",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 935703844034615,
									"parameters": {
										"seconds": "0.6",
										"use-timescale": true
									}
								},
								{
									"id": "set-animation",
									"objectClass": "seal",
									"sid": 589005691729548,
									"parameters": {
										"animation": "\"out\"",
										"from": "beginning"
									}
								}
							],
							"sid": 298239311909887
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-tweens-finished",
							"objectClass": "seal",
							"sid": 619075570226448,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"drop\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "seal",
							"sid": 177464218037806,
							"parameters": {
								"animation": "\"out\"",
								"from": "beginning"
							}
						}
					],
					"sid": 403291042382436,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "seal",
							"sid": 646645855319489,
							"parameters": {
								"animation": "\"out\""
							}
						}
					],
					"actions": [
						{
							"id": "unpin",
							"objectClass": "seal",
							"sid": 613422367806795,
							"behaviorType": "Pin"
						},
						{
							"id": "set-position",
							"objectClass": "seal",
							"sid": 907337028533372,
							"parameters": {
								"x": "-3333",
								"y": "-3555"
							}
						},
						{
							"id": "set-position",
							"objectClass": "sealShad",
							"sid": 529512572197793,
							"parameters": {
								"x": "-3333",
								"y": "-3444"
							}
						}
					],
					"sid": 619440513409365
				},
				{
					"eventType": "comment",
					"text": "\n\n\n\n",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "comment",
					"text": "стражи атакованы героем",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "comment",
					"text": "стражи атакованы уникальным шаром-ядром энергосферы",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				},
				{
					"eventType": "comment",
					"text": "Механика подавления стража энергоядром"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "energoBall",
							"sid": 668590821325813,
							"parameters": {
								"object": "tGuard"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "tGuard",
							"sid": 344968313041240,
							"parameters": {
								"instance-variable": "status",
								"comparison": 1,
								"value": "\"suppressed\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "tGuard",
							"sid": 669791018522430,
							"parameters": {
								"instance-variable": "status",
								"value": "\"suppressed\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "tGuard",
							"sid": 803590834270137,
							"parameters": {
								"instance-variable": "outlined",
								"value": "1"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "tGuard",
							"sid": 640211979080207,
							"parameters": {
								"instance-variable": "alert",
								"value": "false"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "tGuard",
							"sid": 696001605197812,
							"parameters": {
								"instance-variable": "grown",
								"value": "false"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "tGuard",
							"sid": 957151959861451,
							"parameters": {
								"instance-variable": "grow",
								"value": "true"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "tGuard",
							"sid": 357193588751115,
							"parameters": {
								"animation": "\"grow\"",
								"from": "current-frame"
							}
						},
						{
							"id": "set-animation-speed",
							"objectClass": "tGuard",
							"sid": 791096059337282,
							"parameters": {
								"speed": "-12"
							}
						},
						{
							"id": "start-animation",
							"objectClass": "tGuard",
							"sid": 170567735213461,
							"parameters": {
								"from": "current-frame"
							}
						},
						{
							"id": "destroy",
							"objectClass": "energoBall",
							"sid": 662387956890450
						}
					],
					"sid": 544746554838410,
					"disabled": true
				},
				{
					"eventType": "comment",
					"text": "уникальный шар потерян напрасно - вырастает новая энергосфера с аурой",
					"background-color": [
						0.7372549019607844,
						0.7568627450980392,
						0.8431372549019608,
						1
					]
				}
			],
			"sid": 572431292219325
		},
		{
			"eventType": "comment",
			"text": "\n\n\n\n\n\nтест"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-group-active",
					"objectClass": "System",
					"sid": 659659793476764,
					"parameters": {
						"group-name": "\"guard\""
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "help",
					"sid": 604072207352693,
					"parameters": {
						"text": "\"G\""
					}
				}
			],
			"sid": 442271416881899,
			"disabled": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 286072659889997
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "help",
					"sid": 568931295599620,
					"parameters": {
						"text": "\"-\""
					}
				}
			],
			"sid": 372309876708421,
			"disabled": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-group-active",
					"objectClass": "System",
					"sid": 450870611967600,
					"parameters": {
						"group-name": "\"perimeter\""
					}
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "help",
					"sid": 294016221584423,
					"parameters": {
						"text": "\"G\""
					}
				}
			],
			"sid": 391800476559957,
			"disabled": true
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 426912580410567
				}
			],
			"actions": [
				{
					"id": "set-text",
					"objectClass": "help",
					"sid": 269359506567739,
					"parameters": {
						"text": "\"-\""
					}
				}
			],
			"sid": 394561133138365,
			"disabled": true
		}
	],
	"sid": 399652358430205
}