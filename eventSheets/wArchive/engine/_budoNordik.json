{
	"name": "_budoNordik",
	"events": [
		{
			"eventType": "comment",
			"text": "     способности главного героя \n     шар, трансформация, медитация, захват предметов"
		},
		{
			"eventType": "comment",
			"text": "\nПостоянные коэффициенты размеров персонажей\nНордик  0.8\nНорд      0.91\n"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "budoNordik",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "\n\n\n    метание шара\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballTargetNordik",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "При нажатии на панели кнопки мяча или плода активируется режим прицела на курсоре, который будет стрелять мячами на ЛКМ, пока не кончатся плоды или бесконечно в случае мячей. Отключение режима через нажатие на ту же кнопку или любую другую кнопку панелей, кроме плодов - они активируют режим с другим плодом. Так же нажатие ПКМ и СКМ и Esc отключат режим, также это сделает пробел при этом стреляя в обычном режиме. Также отключение может вызвать нападение на Нордика. Если режим отключается, надо отключить и группы мяча. В режиме другие функции мыши отключаются."
						},
						{
							"functionName": "ballTargetNordik",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "button",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 640417731130283
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 915594427006657,
									"disabled": true,
									"parameters": {
										"instance-variable": "hero",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 745578373462473,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "mouse-button-is-down",
									"objectClass": "Mouse",
									"sid": 274757463761001,
									"disabled": true,
									"parameters": {
										"mouse-button": "left"
									}
								}
							],
							"actions": [],
							"sid": 243717675081985,
							"children": [
								{
									"eventType": "comment",
									"text": "включение режима прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 965158054742856,
											"parameters": {
												"instance-variable": "targetMod"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 939027225008261,
											"parameters": {
												"instance-variable": "lastFruit",
												"comparison": 1,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "enableGroup",
											"objectClass": "groups",
											"sid": 942838491223096,
											"parameters": {
												"groupName": "aBook.hero=\"Nord\"?\"Zen\":\"\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "Nordik",
											"sid": 811245129307862,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "aBook.hero=\"Nord\"?\"toNordik\":\"\""
											}
										},
										{
											"id": "append-text",
											"objectClass": "info",
											"sid": 217895385925857,
											"disabled": true,
											"parameters": {
												"text": "\"ok \""
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 171895134355467,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 798271764469018,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 104438766381247,
											"parameters": {
												"group-name": "\"ball\"",
												"state": "activated"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 862412250163747,
											"parameters": {
												"instance-variable": "canimation",
												"value": "aGame.activeFruit"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 568095564356345,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 888643455440498,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "1"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 263105085419860,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cursor",
											"sid": 582150660882399,
											"parameters": {
												"animation": "\"targetNot\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 873474096633469,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetNot\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 106831626578540,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 953532497902072,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 224412267902795,
													"parameters": {
														"instance-variable": "name",
														"comparison": 0,
														"value": "aBook.hero"
													}
												}
											],
											"actions": [
												{
													"id": "stop-timer",
													"objectClass": "basis",
													"sid": 803103500947345,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"noBall\""
													}
												}
											],
											"sid": 434375188355080
										}
									],
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "отключение"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 909804895992202
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 593280569577518,
											"parameters": {
												"instance-variable": "targetMod"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 121247496952207,
											"parameters": {
												"instance-variable": "lastFruit",
												"comparison": 0,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 933045561987704,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 219435624386499,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"cursor\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 180170117501833,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 799637251378227,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "aTools.cursorSizeCoeff"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 429893924034346,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 765282263694351,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 574970217649157,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 397553742641167
								},
								{
									"eventType": "comment",
									"text": "реакция основной кнопки"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 614669202399071,
											"parameters": {
												"variable": "button",
												"comparison": 0,
												"value": "\"fruits\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "buttFruits",
											"sid": 123570357712876,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttFruits",
											"sid": 595819484255549,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 942927190194585,
											"parameters": {
												"instance-variable": "lastFruit",
												"value": "button"
											}
										}
									],
									"sid": 178281521045267
								},
								{
									"eventType": "comment",
									"text": "реакция кнопки плода"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 110472086428078
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 310037766723884,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 705742594868879,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 635276163495376,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 132566403738432,
											"parameters": {
												"instance-variable": "lastFruit",
												"value": "button"
											}
										}
									],
									"sid": 271706822946996
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nрежим прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 962126427287317,
									"parameters": {
										"instance-variable": "targetMod"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 326021058031447,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 898298567697840,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 118128900198492,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 663760494049755,
											"parameters": {
												"interval-seconds": "0.1"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 957045154607296,
											"parameters": {
												"object": "peel"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 871688253489646,
									"children": [
										{
											"eventType": "comment",
											"text": ""
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 920949958186541,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 453689741920823,
													"parameters": {
														"object": "map"
													}
												}
											],
											"actions": [],
											"sid": 351254924969684,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "point",
															"sid": 886427986313482,
															"parameters": {
																"instance-variable": "ballTarget"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "map",
															"sid": 553089747471274,
															"parameters": {
																"instance-variable": "ball"
															}
														}
													],
													"actions": [],
													"sid": 150191920971839,
													"children": [
														{
															"eventType": "comment",
															"text": "определение ареала прицеливания через обратное преобразование"
														},
														{
															"eventType": "variable",
															"name": "ang",
															"type": "number",
															"initialValue": "0",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 717813718557445
														},
														{
															"eventType": "variable",
															"name": "bIso",
															"type": "number",
															"initialValue": "0",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 309105830156628
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 331944828752113,
																	"parameters": {
																		"variable": "ang",
																		"value": "round(angle(basis.X,basis.Y,Mouse.X,Mouse.Y)-360*floor(angle(basis.X,basis.Y,Mouse.X,Mouse.Y)/360))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 662112376390575,
																	"parameters": {
																		"variable": "bIso",
																		"value": "1/sqrt((sin(ang)/aGame.ballRIso)^2+(cos(ang)/aGame.ballRange)^2)"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 369814522141649,
																	"parameters": {
																		"variable": "bIso",
																		"value": "aGame.activeFruit=\"cucu\"?bIso*2:bIso"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 841103031754328,
																	"parameters": {
																		"instance-variable": "ballLong",
																		"value": "clamp(distance(basis.X,basis.Y,Mouse.X,Mouse.Y),120,bIso)"
																	}
																}
															],
															"sid": 944067981741769
														},
														{
															"eventType": "comment",
															"text": "если в зоне - курсор прицеливания, поворот гг к курсору "
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "aGame",
																	"sid": 804693020720893,
																	"parameters": {
																		"instance-variable": "ballLong",
																		"comparison": 5,
																		"value": "distance(basis.X,basis.Y,Mouse.X,Mouse.Y)"
																	}
																}
															],
															"actions": [
																{
																	"id": "callselffunction0",
																	"objectClass": "basis",
																	"sid": 760178878180188,
																	"behaviorType": "sf",
																	"parameters": {
																		"function_name:0": "\"rotateToMouse\""
																	}
																}
															],
															"sid": 221993560164020,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "point",
																			"sid": 833406691158816,
																			"parameters": {
																				"instance-variable": "ballTarget"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 995083425787290,
																			"parameters": {
																				"animation": "\"ball\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 972968519634109,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"target\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 137991586964835,
																			"disabled": true,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 731161392342231
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 774530701408586
																		},
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "map",
																			"sid": 915454968809947,
																			"parameters": {
																				"instance-variable": "ball"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 895046562254246,
																			"parameters": {
																				"animation": "\"target\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 440069873772495,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"targetStop\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 911457343760459,
																			"disabled": true,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 336236800182831
																},
																{
																	"eventType": "comment",
																	"text": "если курсор в зоне, но стрелять по объекту нельзя"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 116263855418953
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 228811213777703,
																			"parameters": {
																				"animation": "\"targetBlock\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 968123239923304,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"targetBlock\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 245052707084238,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 986611561229610
																}
															]
														},
														{
															"eventType": "comment",
															"text": "если курсор вне зоны"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 681778100057845
																}
															],
															"actions": [
																{
																	"id": "set-animation",
																	"objectClass": "cursor",
																	"sid": 257626904005491,
																	"parameters": {
																		"animation": "\"targetNot\"",
																		"from": "current-frame"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "cursor",
																	"sid": 330607674228676,
																	"parameters": {
																		"instance-variable": "canimation",
																		"value": "\"targetNot\""
																	}
																},
																{
																	"id": "monitorstr1",
																	"objectClass": "vm",
																	"sid": 653537658698958,
																	"parameters": {
																		"tag0": "\"cursor\"",
																		"string1": "cursor.canimation"
																	}
																}
															],
															"sid": 772807188527489
														}
													],
													"isOrBlock": true
												},
												{
													"eventType": "comment",
													"text": "нельзя стрелять по объекту"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 240979298774943
														}
													],
													"actions": [
														{
															"id": "set-animation",
															"objectClass": "cursor",
															"sid": 613370614367580,
															"parameters": {
																"animation": "\"targetBlock\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "cursor",
															"sid": 402722496107423,
															"parameters": {
																"instance-variable": "canimation",
																"value": "\"targetBlock\""
															}
														},
														{
															"id": "monitorstr1",
															"objectClass": "vm",
															"sid": 492598700925882,
															"parameters": {
																"tag0": "\"cursor\"",
																"string1": "cursor.canimation"
															}
														}
													],
													"sid": 847658979811595
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "comment",
											"text": "курсор над пустотой"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 514548832919097
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "cursor",
													"sid": 330025219599633,
													"parameters": {
														"animation": "\"targetBlock\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 589233344952151,
													"parameters": {
														"instance-variable": "canimation",
														"value": "\"targetBlock\""
													}
												},
												{
													"id": "monitorstr1",
													"objectClass": "vm",
													"sid": 511078235794274,
													"parameters": {
														"tag0": "\"cursor\"",
														"string1": "cursor.canimation"
													}
												}
											],
											"sid": 373787387774173
										}
									]
								},
								{
									"eventType": "comment",
									"text": "\n\n способы отключения режима прицеливания\n"
								},
								{
									"eventType": "comment",
									"text": "клик над панелями"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 710832987464478,
											"parameters": {
												"mouse-button": "left",
												"click-type": "clicked"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 527725640382135,
											"parameters": {
												"object": "peel"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 687414787370540,
											"parameters": {
												"object": "buttFruits"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 159231364030175,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 797440579562450,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 474650454182361,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 767837065583758,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"inventory\""
													}
												}
											],
											"actions": [
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 978920347728265,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												}
											],
											"sid": 625228865428356,
											"isOrBlock": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "навигация над панелью, открывание способностей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onselffunction0",
											"objectClass": "buttForms",
											"sid": 276808086958863,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"forms\""
											}
										},
										{
											"id": "onselffunction0",
											"objectClass": "buttFlowers",
											"sid": 196356271928959,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"flowers\""
											}
										},
										{
											"id": "onselffunction0",
											"objectClass": "inventory",
											"sid": 991416980452636,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 106901484068023,
											"parameters": {
												"key": 27
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 278633683717714,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 514315433675364,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 816727936978552,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 463072279052353,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "при правом клике"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 987472617946697,
											"parameters": {
												"mouse-button": "right",
												"click-type": "clicked"
											}
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 187704873214123,
											"parameters": {
												"seconds": "0.3",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 444334878830527,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										}
									],
									"sid": 725189471076059
								},
								{
									"eventType": "comment",
									"text": "пробелом или средней кнопкой мыши - кидание мяча"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 881620817196213,
											"parameters": {
												"mouse-button": "middle",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 433209952163664,
											"parameters": {
												"key": 32
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 596310179708016,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 101505446559719,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"cursor\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 919781455543438,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 660771659254055,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "aTools.cursorSizeCoeff"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 323229895381008,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"callFunction": "ballNordik",
											"sid": 179133649487271,
											"parameters": [
												"\"target\"",
												"Mouse.X",
												"Mouse.Y"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 658152136707705,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetEnd\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 827366438985695,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 388920292728078,
											"parameters": {
												"group-name": "\"ballTarget\"",
												"state": "deactivated"
											}
										}
									],
									"sid": 919744448047669,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nфункция отключения режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "cursor",
									"sid": 980043862268246,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"endBallTarget\""
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 915164929188906,
									"parameters": {
										"first-value": "ballShad.Count",
										"comparison": 0,
										"second-value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 703719846542604,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 952496084802699,
									"parameters": {
										"instance-variable": "targetMod",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aTools",
									"sid": 317673467496085,
									"parameters": {
										"instance-variable": "mouseState",
										"value": "\"cursor\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 701741743416356,
									"disabled": true,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "0.8"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 336277376221658,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "aTools.cursorSizeCoeff"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 948357523562720,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"resize\""
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 121599355420543,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "deactivated"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 622489542988753,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "5",
										"type": "once",
										"tag": "\"noBall\""
									}
								}
							],
							"sid": 188101874288514
						},
						{
							"eventType": "comment",
							"text": "\n\nбросок левой кнопкой мыши в режиме прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-click",
									"objectClass": "Mouse",
									"sid": 704528582423189,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 658117892780704,
									"parameters": {
										"instance-variable": "targetMod"
									}
								}
							],
							"actions": [],
							"sid": 155703109880775,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "cursor",
											"sid": 909795044095338,
											"parameters": {
												"animation": "\"target\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "cursor",
											"sid": 118486268246337,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "ballNordik",
											"sid": 700951366276893,
											"parameters": [
												"\"target\"",
												"Mouse.X",
												"Mouse.Y"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 112487318622407,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetEnd\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 290103410950388,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 474232275308618,
									"isOrBlock": true
								}
							]
						}
					],
					"sid": 191843600370388
				},
				{
					"eventType": "comment",
					"text": "выполнение броска"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballNordik",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\n\n1/sqrt((sin(Sprite.Angle)/(a*ISO))^2+(cos(Sprite.Angle)/a)^2)"
						},
						{
							"functionName": "ballNordik",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "mod",
									"type": "string",
									"initialValue": "key",
									"comment": "",
									"sid": 113993243713941
								},
								{
									"name": "xx",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 700900846884378
								},
								{
									"name": "yy",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 216870156948767
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 783577264110160,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 898455769237717,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "basis",
									"sid": 726024375132681,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"ballOut\""
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 637596763774450,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 779112328034001,
									"disabled": true,
									"parameters": {
										"text": "mod"
									}
								},
								{
									"id": "enableGroup",
									"objectClass": "groups",
									"sid": 646944064788713,
									"parameters": {
										"groupName": "aBook.hero=\"Nord\"?\"Zen\":\"\""
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "Nordik",
									"sid": 538555435165475,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "aBook.hero=\"Nord\"?\"toNordik\":\"\""
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 516773070777663,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"type": "comment",
									"text": "   S"
								},
								{
									"callFunction": "sense",
									"sid": 426463501021741,
									"parameters": [
										"aBook.hero",
										"\"ball\"",
										"-0.06",
										"0",
										"1",
										"\"ballStart\"",
										"aGame.mind",
										"0",
										"1",
										"1",
										"0"
									]
								}
							],
							"sid": 328685916006917,
							"children": [
								{
									"eventType": "comment",
									"text": "поворот Нордика к курсору"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 812588022448349,
											"parameters": {
												"instance-variable": "task",
												"value": "\"ball\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 829740624609203,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"callFunction": "animPers",
											"sid": 426250180032577,
											"parameters": [
												"person.UID",
												"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 510656272987178
								},
								{
									"eventType": "comment",
									"text": "если не режим прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 452230870544821,
											"parameters": {
												"variable": "mod",
												"comparison": 1,
												"value": "\"target\""
											}
										}
									],
									"actions": [],
									"sid": 962984625112506,
									"children": [
										{
											"eventType": "comment",
											"text": "если цель законная"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 548985421610420,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "point",
													"sid": 951816566877080,
													"parameters": {
														"instance-variable": "ballTarget"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 746199183745680,
													"parameters": {
														"variable": "xx",
														"value": "point.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 835155520120468,
													"parameters": {
														"variable": "yy",
														"value": "point.Y"
													}
												}
											],
											"sid": 468895921877234,
											"children": [
												{
													"eventType": "comment",
													"text": "поворот гг к курсору"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 215567655044506,
															"parameters": {
																"key": 32
															},
															"isInverted": true
														},
														{
															"id": "mouse-button-is-down",
															"objectClass": "Mouse",
															"sid": 381471568662577,
															"parameters": {
																"mouse-button": "middle"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "callselffunction0",
															"objectClass": "basis",
															"sid": 702304784304092,
															"behaviorType": "sf",
															"parameters": {
																"function_name:0": "\"rotateToMouse\""
															}
														},
														{
															"callFunction": "animPers",
															"sid": 665016965864371,
															"parameters": [
																"person.UID",
																"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
																"0",
																"0",
																"basis.move=1?24:12",
																"0"
															]
														}
													],
													"sid": 788371105725311
												}
											]
										},
										{
											"eventType": "comment",
											"text": "координаты для броска - мышь"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 448833537813570
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 440660643182830,
													"parameters": {
														"variable": "xx",
														"value": "Mouse.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 885904536309012,
													"parameters": {
														"variable": "yy",
														"value": "Mouse.Y"
													}
												}
											],
											"sid": 277283377013340
										}
									]
								},
								{
									"eventType": "comment",
									"text": "\n\n\nесли активный плод не мяч, вычетаем единицу из ключа плода"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 923864403797200,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 908916845641509,
											"disabled": true,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "aGame.activeFruit"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "bAbil",
											"sid": 176359489893265,
											"disabled": true,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"bFruits\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 145087902823040,
											"parameters": {
												"group-name": "aGame.activeFruit",
												"state": "activated"
											}
										},
										{
											"id": "set-key",
											"objectClass": "dFruits",
											"sid": 754155377313740,
											"parameters": {
												"key": "aGame.activeFruit",
												"value": "dFruits.Get(aGame.activeFruit)-1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 945315434993259,
											"disabled": true,
											"parameters": {
												"text": "\"ch\""
											}
										}
									],
									"sid": 493424688435781
								},
								{
									"eventType": "comment",
									"text": "если значение ключа 0 удаляем ключ, уменьшаем панель на количество ключей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 532355532920894,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-value",
											"objectClass": "dFruits",
											"sid": 117731545672513,
											"parameters": {
												"key": "aGame.activeFruit",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "delete-key",
											"objectClass": "dFruits",
											"sid": 684358361883826,
											"parameters": {
												"key": "aGame.activeFruit"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 259834522899891,
											"parameters": {
												"instance-variable": "widthFruits",
												"value": "clamp(280+dFruits.KeyCount*70,285,1275)"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "peel",
											"sid": 903875274368662,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"inventory\"",
												"property": "offsetWidth",
												"end-value": "aUIN.widthFruits",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 149361536617667,
											"disabled": true,
											"parameters": {
												"text": "\"e\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 348155714346044,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 804396442124602,
											"parameters": {
												"instance-variable": "activeFruit",
												"value": "\"ball\""
											}
										}
									],
									"sid": 541064562536945,
									"children": [
										{
											"eventType": "comment",
											"text": "при исчезновении плода, если был режим прицеливания, режим отключается"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 202720880691342,
													"parameters": {
														"instance-variable": "targetMod"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 303091831644906,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aTools",
													"sid": 110651012126588,
													"parameters": {
														"instance-variable": "mouseState",
														"value": "\"cursor\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 909378816182657,
													"disabled": true,
													"parameters": {
														"instance-variable": "sizeCoeff",
														"value": "0.8"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 563646242053974,
													"parameters": {
														"instance-variable": "sizeCoeff",
														"value": "aTools.cursorSizeCoeff"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 763407805070632,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"resize\""
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 788442095117248,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 762670360667262,
													"parameters": {
														"group-name": "\"ballTarget\"",
														"state": "deactivated"
													}
												}
											],
											"sid": 686924370405126
										}
									]
								},
								{
									"eventType": "comment",
									"text": "обновляем значки плодов"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 209248929835897,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "buttFruits",
											"sid": 143288272782583,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 353704349285215,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "buttFruits",
											"sid": 868029658615342,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"fruits\""
											}
										}
									],
									"sid": 818552504290766
								},
								{
									"eventType": "comment",
									"text": "\n\nсоздание шара"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "basis",
											"sid": 738843323622839,
											"parameters": {
												"object": "ballShad",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 182578903592272,
											"parameters": {
												"instance-variable": "fruit",
												"value": "aGame.activeFruit"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "ballShad",
											"sid": 197957768945730,
											"parameters": {
												"angle": "0"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 946283928968411,
											"parameters": {
												"opacity": "Self.opas"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "ballShad",
											"sid": 951483208656161,
											"parameters": {
												"object": "ball",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": true,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-size",
											"objectClass": "ball",
											"sid": 819101384890947,
											"parameters": {
												"width": "Self.ImageWidth*aBook.heroScaleCoeff*1.1*basis.zScale",
												"height": "Self.ImageHeight*aBook.heroScaleCoeff*1.1*basis.zScale"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "ball",
											"sid": 861114238215397,
											"parameters": {
												"angle": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 852068435050979,
											"parameters": {
												"animation": "aGame.activeFruit",
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 333851252111203,
											"parameters": {
												"instance-variable": "ballUID",
												"value": "ball.UID"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 428998424400882,
											"parameters": {
												"y": "Nordik.ImagePointY(2)"
											}
										},
										{
											"id": "pin-to-object-properties",
											"objectClass": "ball",
											"sid": 800107262849402,
											"behaviorType": "Pin",
											"parameters": {
												"pin-to": "ballShad",
												"x": true,
												"y": false,
												"angle": false,
												"width-type": "no",
												"height-type": "no",
												"z": false
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 653962328317598,
											"parameters": {
												"instance-variable": "startY",
												"value": "ballShad.Y"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 198923723805291,
											"parameters": {
												"instance-variable": "jump",
												"value": "true"
											}
										},
										{
											"type": "comment",
											"text": "гравитация реактивного плода в 10 раз меньше\nвысота прыжка и скорость так же изменены для плоской дуги полёта.\nДальность увеличена в два раза."
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 423878771302634,
											"parameters": {
												"instance-variable": "gravity",
												"value": "aGame.activeFruit=\"cucu\"?400:4000"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 162116355257207,
											"parameters": {
												"instance-variable": "speed",
												"value": "aGame.activeFruit=\"cucu\"?-100:-800"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 139478178971572,
											"parameters": {
												"instance-variable": "ang",
												"value": "round(angle(basis.X,basis.Y,xx,yy)-360*floor(angle(basis.X,basis.Y,xx,yy)/360))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 312953301313532,
											"parameters": {
												"instance-variable": "rangeIso",
												"value": "1/sqrt((sin(Self.ang)/aGame.ballRIso)^2+(cos(Self.ang)/aGame.ballRange)^2)\n"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 762820574480548,
											"parameters": {
												"instance-variable": "rangeIso",
												"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso*2:Self.rangeIso"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 201548362327101,
											"parameters": {
												"instance-variable": "long",
												"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso: clamp(distance(basis.X,basis.Y,xx,yy),120,Self.rangeIso)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 489858732498815,
											"parameters": {
												"instance-variable": "state",
												"value": "\"on\""
											}
										},
										{
											"id": "set-enabled",
											"objectClass": "ballShad",
											"sid": 508222411710319,
											"behaviorType": "Orbito",
											"parameters": {
												"state": "enabled"
											}
										},
										{
											"id": "pin",
											"objectClass": "ballShad",
											"sid": 211913532239317,
											"behaviorType": "Orbito",
											"parameters": {
												"target": "basis"
											}
										},
										{
											"id": "set-acceleration",
											"objectClass": "ballShad",
											"sid": 705027738854561,
											"behaviorType": "Orbito",
											"parameters": {
												"acceleration": "-50"
											}
										},
										{
											"id": "set-speed",
											"objectClass": "ballShad",
											"sid": 210454952356848,
											"behaviorType": "Orbito",
											"parameters": {
												"speed": "aGame.activeFruit=\"cucu\"?100:200"
											}
										},
										{
											"id": "set-offset-angle",
											"objectClass": "ballShad",
											"sid": 647690791296794,
											"behaviorType": "Orbito",
											"parameters": {
												"angle": "Self.ang+270"
											}
										},
										{
											"id": "set-radius",
											"objectClass": "ballShad",
											"sid": 621594868450910,
											"behaviorType": "Orbito",
											"parameters": {
												"primary": "0",
												"secondary": "Self.long"
											}
										},
										{
											"type": "comment",
											"text": "таймер отключающий активность мяча для коллизий, чтобы он покинул тень героя"
										},
										{
											"id": "start-timer",
											"objectClass": "ballShad",
											"sid": 111984919634485,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.1",
												"type": "once",
												"tag": "\"out\""
											}
										},
										{
											"type": "comment",
											"text": "таймер для переключения групп"
										},
										{
											"id": "start-timer",
											"objectClass": "basis",
											"sid": 967051838362040,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.3",
												"type": "once",
												"tag": "\"ballOut\""
											}
										}
									],
									"sid": 395297496513478,
									"children": [
										{
											"eventType": "comment",
											"text": "определение отзеркаливания гг"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "person",
													"sid": 677209944710778,
													"parameters": {
														"state": "not-mirrored"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 994008672819572,
													"parameters": {
														"seconds": "0",
														"use-timescale": true
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "basis",
													"sid": 590709716508276,
													"parameters": {
														"instance-variable": "task",
														"value": "\"zero\""
													}
												}
											],
											"sid": 679647235328233
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-between-values",
													"objectClass": "System",
													"sid": 319955289788319,
													"parameters": {
														"value": "basis.direct",
														"lower-bound": "3",
														"upper-bound": "5"
													}
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "person",
													"sid": 282326805741029,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 733078803055502
										},
										{
											"eventType": "comment",
											"text": "\nдля реактивного плода угол и длина в изометрии (из-за продолговатости)\nвпоследствии надо сделать реактивную струю из частиц"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aGame",
													"sid": 160879587315857,
													"parameters": {
														"instance-variable": "activeFruit",
														"comparison": 0,
														"value": "\"cucu\""
													}
												}
											],
											"actions": [
												{
													"id": "set-angle",
													"objectClass": "ball",
													"sid": 693921146537364,
													"parameters": {
														"angle": "ballShad.ang"
													}
												},
												{
													"id": "set-width",
													"objectClass": "ball",
													"sid": 918418049220278,
													"parameters": {
														"width": "1/sqrt((sin(ballShad.ang)/(Self.Width*aTools.isoCoeff))^2+(cos(ballShad.ang)/Self.Width)^2)"
													}
												},
												{
													"type": "comment",
													"text": "разбрасывание семян в полёте"
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 941046002626583,
													"parameters": {
														"seconds": "0.05",
														"use-timescale": true
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 686716220986076,
													"parameters": {
														"object": "cucuSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 428984641449383,
													"parameters": {
														"seconds": "0.07",
														"use-timescale": true
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 365092778887917,
													"parameters": {
														"object": "cucuSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												}
											],
											"sid": 665356659457780
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n после броска\n"
						},
						{
							"eventType": "comment",
							"text": "таймер включающий активность мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "ballShad",
									"sid": 156017068613137,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 875684039147712,
									"parameters": {
										"instance-variable": "state",
										"value": "\"run\""
									}
								}
							],
							"sid": 668363260014755,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-group-active",
											"objectClass": "System",
											"sid": 240791069721348,
											"parameters": {
												"group-name": "\"ballOut\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 372752311057260,
											"parameters": {
												"group-name": "\"ballOut\"",
												"state": "activated"
											}
										}
									],
									"sid": 793741068827747
								}
							]
						},
						{
							"eventType": "comment",
							"text": "? при коллизии с базой проглатывается (может быть полезно при запрыгивании на платформы)"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 181936793973472,
									"parameters": {
										"object": "basis"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 546570178801846,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 966693485499519,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 756535800232387,
									"disabled": true,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 291443922568665,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 573540723765828,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 332779308190507,
									"behaviorType": "Orbito",
									"parameters": {
										"speed": "80"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 480303756947166,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"callFunction": "animPers",
									"sid": 607267553269044,
									"parameters": [
										"Nordik.UID",
										"\"ball9\"",
										"0",
										"0",
										"basis.move=12?24:12",
										"0"
									]
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 846967773205776,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								}
							],
							"sid": 535223579530796
						},
						{
							"eventType": "comment",
							"text": " при коллизии с тенью проглатывается"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 861862000097022,
									"parameters": {
										"object": "shad"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 561205774365787,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "shad",
									"sid": 732705889923878,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 824341064931324,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 879734539433871,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 678385680947427,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 827129628387726,
									"disabled": true,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 929399225267976,
									"disabled": true,
									"parameters": {
										"text": "\"col\""
									}
								},
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 976154998112207,
									"disabled": true,
									"behaviorType": "Orbito",
									"parameters": {
										"speed": "clamp(Self.Orbito.Speed,60,80)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 989513850766395,
									"behaviorType": "Orbito",
									"parameters": {
										"speed": "80"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 331462759363888,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"callFunction": "animPers",
									"sid": 470287182222683,
									"parameters": [
										"Nordik.UID",
										"\"ball9\"",
										"0",
										"0",
										"basis.move=12?24:12",
										"0"
									]
								},
								{
									"id": "set-animation",
									"objectClass": "Nordik",
									"sid": 664122851491582,
									"disabled": true,
									"parameters": {
										"animation": "\"ball9\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 457795358109314,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								}
							],
							"sid": 166333409899636
						},
						{
							"eventType": "comment",
							"text": "\nпроцедура проглатывания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 910627405579386,
									"parameters": {
										"instance-variable": "end"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 668034094514914,
									"behaviorType": "Orbito",
									"parameters": {
										"speed": "lerp(Self.Orbito.Speed,0,0.3)"
									}
								},
								{
									"type": "comment",
									"text": "смягчает приём шара, но даёт паузу на высоте (гейзер)"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 902260527841967,
									"parameters": {
										"instance-variable": "speed",
										"value": "lerp(Self.speed,0,0.2)"
									}
								}
							],
							"sid": 604865557744089,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 578252781250893,
											"parameters": {
												"first-value": "ballShad.Orbito.Speed",
												"comparison": 2,
												"second-value": "15"
											}
										}
									],
									"actions": [],
									"sid": 449785230413406,
									"children": [
										{
											"eventType": "comment",
											"text": "\nесли Нордик на высоте от тени, в прыжке, в полёте, над гейзером"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "ball",
													"sid": 714713498636789,
													"parameters": {
														"unique-id": "ballShad.ballUID"
													}
												},
												{
													"id": "is-pinned",
													"objectClass": "ball",
													"sid": 860356698258449,
													"behaviorType": "Pin"
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "ball",
													"sid": 109600039607923,
													"parameters": {
														"object": "Nordik"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 680719903175724,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 698550533399405
														}
													],
													"actions": [
														{
															"id": "unpin",
															"objectClass": "ball",
															"sid": 470107468713160,
															"behaviorType": "Pin"
														},
														{
															"id": "destroy",
															"objectClass": "ballShad",
															"sid": 156985134853476
														},
														{
															"id": "set-enabled",
															"objectClass": "ball",
															"sid": 670979989035973,
															"behaviorType": "Tween",
															"parameters": {
																"mode": "enabled"
															}
														},
														{
															"id": "tween-one-property",
															"objectClass": "ball",
															"sid": 605970011374840,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"getBallX\"",
																"property": "offsetX",
																"end-value": "Nordik.X",
																"time": "0.12",
																"ease": "easeinsine",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "tween-one-property",
															"objectClass": "ball",
															"sid": 770183350540628,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"getBallY\"",
																"property": "offsetY",
																"end-value": "Nordik.ImagePointY(2)",
																"time": "0.12",
																"ease": "easeinsine",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														}
													],
													"sid": 914843414465207
												}
											]
										},
										{
											"eventType": "comment",
											"text": "если Нордик на земле"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 348109121546273
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "ball",
													"sid": 165287964957512,
													"parameters": {
														"unique-id": "ballShad.ballUID"
													}
												},
												{
													"id": "is-pinned",
													"objectClass": "ball",
													"sid": 388563269156418,
													"behaviorType": "Pin"
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "ball",
													"sid": 174730103299763,
													"parameters": {
														"object": "Nordik"
													}
												}
											],
											"actions": [
												{
													"id": "destroy",
													"objectClass": "ballShad",
													"sid": 489773831266571
												}
											],
											"sid": 103195357688232
										},
										{
											"eventType": "comment",
											"text": "отключение группы ball и таймер на отключение группы ballOut"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 865186826380374,
													"parameters": {
														"instance-variable": "targetMod"
													},
													"isInverted": true
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 447503021086108,
													"parameters": {
														"first-value": "ballShad.Count",
														"comparison": 3,
														"second-value": "1"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 591515595364360,
													"parameters": {
														"instance-variable": "name",
														"comparison": 0,
														"value": "\"Nordik\""
													}
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 801978480891671,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "deactivated"
													}
												},
												{
													"id": "start-timer",
													"objectClass": "basis",
													"sid": 972658021042379,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "5",
														"type": "once",
														"tag": "\"noBall\""
													}
												}
											],
											"sid": 939798880340754
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nотскакивание шара от собственной тени на полу\nдля плодов - переход к реакциям"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-y",
									"objectClass": "ball",
									"sid": 978237889275421,
									"parameters": {
										"comparison": 4,
										"y-co-ordinate": "ballShad.Y"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 755271571240623,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "ballShad",
									"sid": 586994440263945,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"callFunction": "ballHitNordik",
									"sid": 246613408021803,
									"parameters": [
										"\"shad\""
									]
								}
							],
							"sid": 932654706995889
						},
						{
							"eventType": "comment",
							"text": "\n\n\n мяч или плоды после удара обо что-то\n"
						},
						{
							"functionName": "ballHitNordik",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "hitObject",
									"type": "string",
									"initialValue": "shad",
									"comment": "",
									"sid": 580709621284324
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 185260281440516,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 925768190972273,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 513835332894443,
											"parameters": {
												"y": "ballShad.Y-4"
											}
										}
									],
									"sid": 267491659697980
								},
								{
									"eventType": "comment",
									"text": " взрывной плод"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 935093910833781,
											"parameters": {
												"animation": "\"cBoom\""
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "ball",
											"sid": 646711059369730,
											"parameters": {
												"object": "cBoom",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "cBoom",
											"sid": 234613126656756,
											"disabled": true,
											"parameters": {
												"object": "ball",
												"image-point-optional": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cBoom",
											"sid": 845045970640040,
											"parameters": {
												"animation": "\"boom\"",
												"from": "beginning"
											}
										},
										{
											"id": "destroy",
											"objectClass": "ballShad",
											"sid": 315747777256793
										},
										{
											"id": "destroy",
											"objectClass": "ball",
											"sid": 816498877419863
										}
									],
									"sid": 656913202457767,
									"children": [
										{
											"eventType": "comment",
											"text": "разбрасывание семян"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 615378781675435,
													"parameters": {
														"count": "choose(1,2,3)"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "cBoom",
													"sid": 118759699083987,
													"parameters": {
														"object": "cBoomSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-visible",
													"objectClass": "cBoomSeed",
													"sid": 734418821965563,
													"parameters": {
														"visibility": "invisible"
													}
												},
												{
													"id": "set-position",
													"objectClass": "cBoomSeed",
													"sid": 488464723363211,
													"parameters": {
														"x": "random(cBoom.X+100,cBoom.X-100)",
														"y": "random(cBoom.Y+40,cBoom.Y-40)"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 142134065246795,
													"parameters": {
														"seconds": "0.1",
														"use-timescale": true
													}
												},
												{
													"id": "set-animation",
													"objectClass": "cBoomSeed",
													"sid": 402378484672167,
													"disabled": true,
													"parameters": {
														"animation": "\"seed\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-animation-frame",
													"objectClass": "cBoomSeed",
													"sid": 380032876571957,
													"parameters": {
														"frame-number": "choose(0,1,2,3,4,5,6,7)"
													}
												},
												{
													"id": "set-visible",
													"objectClass": "cBoomSeed",
													"sid": 935129863912183,
													"parameters": {
														"visibility": "visible"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 773005822736093,
													"parameters": {
														"seconds": "5",
														"use-timescale": true
													}
												},
												{
													"id": "destroy",
													"objectClass": "cBoomSeed",
													"sid": 634205080903462
												}
											],
											"sid": 827218684188068
										}
									]
								},
								{
									"eventType": "comment",
									"text": "реактивный"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 319492385389399,
											"parameters": {
												"animation": "\"cucu\""
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "ball",
											"sid": 726109067376423,
											"parameters": {
												"object": "bushInto",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "bushInto",
											"sid": 236782414823285,
											"parameters": {
												"animation": "choose(\"sm\",\"sd\",\"sl\")",
												"from": "beginning"
											}
										},
										{
											"id": "destroy",
											"objectClass": "ballShad",
											"sid": 706595426445255
										},
										{
											"id": "destroy",
											"objectClass": "ball",
											"sid": 841094529599498
										}
									],
									"sid": 386497320054960,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Nordik",
													"sid": 393300240165504
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "bushInto",
													"sid": 855652926951326,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 943352869839416
										}
									]
								},
								{
									"eventType": "comment",
									"text": "запутывающий"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 163482025823932,
											"parameters": {
												"animation": "\"creep\""
											}
										}
									],
									"actions": [],
									"sid": 925985935018945,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 232485472301700,
													"parameters": {
														"variable": "hitObject",
														"comparison": 0,
														"value": "\"zoneStop\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 453713011149661,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 150671398280233,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"id": "destroy",
													"objectClass": "ballShad",
													"sid": 988755472742205
												},
												{
													"id": "destroy",
													"objectClass": "ball",
													"sid": 519682862172566
												}
											],
											"sid": 304982118825493
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 259255270316929,
													"parameters": {
														"variable": "hitObject",
														"comparison": 1,
														"value": "\"zoneStop\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 303934580490518,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 447371872417893,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 503182634162649,
													"parameters": {
														"object": "creepTrap",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "creepTrap",
													"sid": 212673660946401,
													"parameters": {
														"animation": "\"trap\"",
														"from": "beginning"
													}
												},
												{
													"id": "destroy",
													"objectClass": "ballShad",
													"sid": 509178792415788
												},
												{
													"id": "destroy",
													"objectClass": "ball",
													"sid": 110917546813841
												}
											],
											"sid": 289151422107959
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Nordik",
													"sid": 388663008354691
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "bushInto",
													"sid": 432847944558158,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 617640560379448
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\nкоэфф угасание скорости при отскоке"
						},
						{
							"eventType": "comment",
							"text": "!!! сделать угасание в зависимости от поверхностей"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 268757942207705,
									"parameters": {
										"object": "ballShad"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 923888965765829,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 332375194777508,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 214264265009937,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [],
							"sid": 638364233643259,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 136623237961805,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 534027465323836,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.7"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 446384706991784,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.63"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 729250722384982,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.5"
											}
										}
									],
									"sid": 551999705987994
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n физика прыжков шара, размер тени\n"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 226709991668769,
									"parameters": {
										"object": "ball"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 750317690650907,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 364168067136570,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								}
							],
							"actions": [],
							"sid": 769190780668899,
							"children": [
								{
									"eventType": "comment",
									"text": "для всех кроме реактивного"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 589513359707161,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ball",
											"sid": 413826213966589,
											"parameters": {
												"instance-variable": "jump"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 233325130628048,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 158625738083515,
											"parameters": {
												"instance-variable": "shadDelta",
												"value": "ballShad.Y-Self.startY"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 212970196932259,
											"parameters": {
												"instance-variable": "jumpHi",
												"value": "self.Y+(self.speed*basis.zScale*dt-0.5*Self.gravity*dt^2)"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 610769042508467,
											"parameters": {
												"y": "Self.jumpHi+Self.shadDelta"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "ball",
											"sid": 738419989489463,
											"parameters": {
												"instance-variable": "speed",
												"value": "Self.gravity*dt"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 283138044651405,
											"parameters": {
												"instance-variable": "startY",
												"value": "ballShad.Y"
											}
										},
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 388282450082852,
											"parameters": {
												"width": "Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 452522616863192,
											"parameters": {
												"opacity": "Self.opas-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 605041069918608,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 820690064525852
								},
								{
									"eventType": "comment",
									"text": "для реактивного, сильно уменьшенная гравитация, плоская дуга полёта"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 540806633602474,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ball",
											"sid": 634262179445223,
											"parameters": {
												"instance-variable": "jump"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 551266416318992,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 909843945261978,
											"parameters": {
												"instance-variable": "shadDelta",
												"value": "ballShad.Y-Self.startY"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 144924773409916,
											"parameters": {
												"instance-variable": "jumpHi",
												"value": "self.Y+(self.speed*basis.zScale*dt-0.5*Self.gravity*dt^2)"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 366482343235760,
											"parameters": {
												"y": "Self.jumpHi+Self.shadDelta"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "ball",
											"sid": 768511143022190,
											"parameters": {
												"instance-variable": "speed",
												"value": "(Self.gravity)*dt"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 745246202788966,
											"parameters": {
												"instance-variable": "startY",
												"value": "ballShad.Y"
											}
										},
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 323211498047989,
											"parameters": {
												"width": "Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 302117065319042,
											"parameters": {
												"opacity": "Self.opas-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 720690767232655,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 812578351547374
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n столкновение с шаром в момент приближения его к земле - двойная проверка коллизии, тени и шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 709196590846802,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "point",
									"sid": 959372213404208,
									"parameters": {
										"instance-variable": "ballTarget"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "ball",
									"sid": 834907214599652,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 281479210282009,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 1,
										"value": "point.UID"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 588639451525481,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 894351846751510,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 993568638115693
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 312330784400559,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "point",
									"sid": 630379379698105,
									"parameters": {
										"instance-variable": "ballTarget"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "ballShad",
									"sid": 451787051868536,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 353055739492325,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 1,
										"value": "point.UID"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 227390552838470,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 664149842251111,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 413865433062562
						},
						{
							"eventType": "comment",
							"text": "для реактивного плода дополнительно проверка одиночных коллизий"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 183152486652209,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "ball",
									"sid": 801507928864058,
									"parameters": {
										"animation": "\"cucu\""
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 723099609287473,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 530065351579891,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 508827393308068
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 858917570768114,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 341754034522032,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"cucu\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 358519410049468,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 1,
										"value": "point.UID"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 279287487663179,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 749476284502906,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 768751079999076,
							"disabled": true
						}
					],
					"sid": 816472256501875
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   анимации и реакции связанные с шаром\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballOutNordik",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\nотскок от запретных зон"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 760162962209755,
									"parameters": {
										"object": "zoneStop"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 663695129252498,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 109345818734229,
							"children": [
								{
									"eventType": "comment",
									"text": "мяч отскакивает"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 307016478541834,
											"parameters": {
												"instance-variable": "fruit",
												"comparison": 0,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "ballShad",
											"sid": 301828340338466,
											"behaviorType": "Orbito",
											"parameters": {
												"speed": "-Self.Orbito.Speed"
											}
										}
									],
									"sid": 522830645975729
								},
								{
									"eventType": "comment",
									"text": "плоды исчезают или реагируют"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 439343468109447
										}
									],
									"actions": [
										{
											"callFunction": "ballHitNordik",
											"sid": 235416237746044,
											"parameters": [
												"\"zoneStop\""
											]
										}
									],
									"sid": 264918907630532
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nпроглатывание вернувшегося мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 162581260512421,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\""
									}
								},
								{
									"id": "is-pinned",
									"objectClass": "ball",
									"sid": 385076751304739,
									"behaviorType": "Pin",
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 544766915828719,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Nordik",
									"sid": 471829552170710,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 845843931996474,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 613785292669237,
											"parameters": {
												"object": "Nordik"
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 753635761850350,
											"disabled": true,
											"parameters": [
												"Nordik.UID",
												"\"ball9\"",
												"0",
												"0",
												"1",
												"0"
											]
										},
										{
											"callFunction": "animPers",
											"sid": 757296394894241,
											"parameters": [
												"Nordik.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=12?24:12",
												"0"
											]
										},
										{
											"id": "destroy",
											"objectClass": "ball",
											"sid": 360274580108594
										}
									],
									"sid": 807407102445618
								},
								{
									"eventType": "comment",
									"text": "если мяч пролетел мимо направляем прямо к Нордику"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 374316243239721
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 304263517813318,
											"parameters": {
												"object": "Nordik"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 160500157956727,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallX\"",
												"property": "offsetX",
												"end-value": "Nordik.X",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 393832114423176,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallY\"",
												"property": "offsetY",
												"end-value": "Nordik.ImagePointY(2)",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 765306036184027
								}
							]
						},
						{
							"eventType": "comment",
							"text": "завершение анимации бросания мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 879578711394218,
									"parameters": {
										"animation": "\"ball0\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 734576760625830,
									"parameters": {
										"animation": "\"ball1\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 728065222522967,
									"parameters": {
										"animation": "\"ball2\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 462182148073379,
									"parameters": {
										"animation": "\"ball6\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 517989046749068,
									"parameters": {
										"animation": "\"ball7\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 868749669839865,
									"parameters": {
										"animation": "\"ball9\""
									}
								},
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 977422508471554,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"getBall\""
									}
								}
							],
							"actions": [],
							"sid": 483033209130510,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 360580728498853,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "person.name"
											}
										}
									],
									"actions": [],
									"sid": 903844152114234,
									"children": [
										{
											"eventType": "comment",
											"text": "возврат к анимации движения"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "basis",
													"sid": 476996718676178,
													"parameters": {
														"instance-variable": "move"
													}
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 826532992416000,
													"parameters": [
														"person.UID",
														"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"0",
														"person.AnimationFrame",
														"555",
														"0"
													]
												}
											],
											"sid": 299198714115991
										},
										{
											"eventType": "comment",
											"text": "переход к анимации стояния"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 105589585384635
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 442417642283662,
													"parameters": [
														"person.UID",
														"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
														"0",
														"0",
														"777",
														"0"
													]
												}
											],
											"sid": 374264619366284
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "отключение группы"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 663034148661010,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 869563964636699,
									"parameters": {
										"group-name": "\"ballOut\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 129602028286704
						}
					],
					"sid": 680834586178954
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   живая аура Норда\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "aura",
					"description": "",
					"isActiveOnStart": false,
					"children": [],
					"sid": 442224085880628
				},
				{
					"eventType": "comment",
					"text": " \n\n\n   медитация\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "daoNordik",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"functionName": "meditationNordik",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "button",
									"type": "string",
									"initialValue": "flowers",
									"comment": "",
									"sid": 403751923669566
								},
								{
									"name": "call",
									"type": "string",
									"initialValue": "meditation",
									"comment": "",
									"sid": 592881885978684
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aTools",
									"sid": 437666410954244,
									"parameters": {
										"instance-variable": "groundName",
										"comparison": 0,
										"value": "\"swamp\""
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aTools",
									"sid": 557160936109477,
									"parameters": {
										"instance-variable": "groundName",
										"comparison": 0,
										"value": "\"forest\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 687171663192818,
									"disabled": true,
									"parameters": {
										"text": "aTools.cursorUID"
									}
								}
							],
							"sid": 285443857579104,
							"children": [
								{
									"eventType": "comment",
									"text": "реакции кнопок"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 481681950105940,
											"parameters": {
												"variable": "button",
												"comparison": 0,
												"value": "\"flowers\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aUIN",
											"sid": 922901361558376,
											"parameters": {
												"instance-variable": "medSteps",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 382328189487785,
											"parameters": {
												"instance-variable": "medStatus",
												"value": "\"flowers\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 936821106512754,
											"parameters": {
												"instance-variable": "medSteps",
												"value": "2"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttFlowers",
											"sid": 395680704354726,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttFlowers",
											"sid": 362952975773647,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										}
									],
									"sid": 380327499967794
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 191375093368830
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 378011547383627,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "button"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aUIN",
											"sid": 666154790924463,
											"parameters": {
												"instance-variable": "medSteps",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 892775995470005,
											"parameters": {
												"instance-variable": "medSteps",
												"value": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 125168375105785,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 737876470548250,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										}
									],
									"sid": 429671548103271,
									"children": [
										{
											"eventType": "comment",
											"text": "трансформация Нордика в Норда для продвинутой медитации (клик по семенам)"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 952278225805251,
													"parameters": {
														"variable": "button",
														"comparison": 0,
														"value": "\"cBoom\""
													}
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 580291367108016,
													"parameters": {
														"variable": "button",
														"comparison": 0,
														"value": "\"cBoom\""
													}
												}
											],
											"actions": [],
											"sid": 726502732744820,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "aBook",
															"sid": 755772488776461,
															"parameters": {
																"instance-variable": "hero",
																"comparison": 0,
																"value": "\"Nordik\""
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "aUIN",
															"sid": 518941715345500,
															"parameters": {
																"instance-variable": "medStatus",
																"value": "\"transform\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "aUIN",
															"sid": 451760934156234,
															"parameters": {
																"instance-variable": "medSteps",
																"value": "2"
															}
														},
														{
															"id": "callselffunction0",
															"objectClass": "bAbil",
															"sid": 749273701757784,
															"disabled": true,
															"behaviorType": "sfPoint",
															"parameters": {
																"function_name:0": "\"transform\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "aUIN",
															"sid": 984976785147524,
															"parameters": {
																"instance-variable": "medName",
																"value": "bAbil.pName"
															}
														},
														{
															"id": "set-group-active",
															"objectClass": "System",
															"sid": 361305174350272,
															"parameters": {
																"group-name": "\"zen\"",
																"state": "activated"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "aGame",
															"sid": 724264005367813,
															"parameters": {
																"instance-variable": "NordikNextForm",
																"value": "\"Nord\""
															}
														},
														{
															"callFunction": "animPers",
															"sid": 211424703157420,
															"parameters": [
																"person.UID",
																"\"trans\"&aGame.NordikNextForm",
																"aGame.mindState=\"blackout\"?5:0",
																"0",
																"777",
																"0"
															]
														}
													],
													"sid": 479085350971805
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 204274777668385,
													"parameters": {
														"variable": "button",
														"comparison": 0,
														"value": "\"cBless\""
													}
												}
											],
											"actions": [],
											"sid": 309292478728657,
											"disabled": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": ""
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 716990815771885,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "aBook.hero"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 835455721010413,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "aBook.hero"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aUIN",
											"sid": 888021184369898,
											"parameters": {
												"instance-variable": "medStatus",
												"comparison": 1,
												"value": "\"transform\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aUIN",
											"sid": 856736823393309,
											"parameters": {
												"instance-variable": "medSteps",
												"comparison": 5,
												"value": "2"
											}
										}
									],
									"actions": [],
									"sid": 196589433561725,
									"children": [
										{
											"eventType": "comment",
											"text": "старт медитации"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aGame",
													"sid": 680583317096577,
													"parameters": {
														"instance-variable": "mindState",
														"comparison": 1,
														"value": "\"meditation\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 926772115572747,
													"parameters": {
														"instance-variable": "medSteps",
														"value": "4"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "basis",
													"sid": 425494330639302,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"stop\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 867132939855874,
													"parameters": {
														"instance-variable": "heroTask",
														"value": "\"zero\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 139225600408924,
													"disabled": true,
													"parameters": {
														"instance-variable": "animPriority",
														"value": "0"
													}
												},
												{
													"callFunction": "animPers",
													"sid": 424548963774730,
													"parameters": [
														"person.UID",
														"\"startMeditation\"",
														"0",
														"0",
														"777",
														"0"
													]
												},
												{
													"customAction": "zoomTo",
													"objectClass": "aIns",
													"sid": 431636694744519,
													"parameters": [
														false,
														true,
														false,
														"-1",
														false,
														false,
														false,
														"1.8",
														"0",
														"0",
														"1",
														"-1",
														false,
														true,
														"0.01",
														false,
														"-1",
														"\"zero\"",
														false,
														false,
														false,
														false,
														true,
														false,
														false,
														"0",
														"\"\""
													]
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 623581543658779,
													"parameters": {
														"seconds": "0",
														"use-timescale": true
													}
												}
											],
											"sid": 338789726859790
										},
										{
											"eventType": "comment",
											"text": "выход из медитации"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 291193051317061
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aGame",
													"sid": 934122395713120,
													"parameters": {
														"instance-variable": "mindState",
														"comparison": 0,
														"value": "\"meditation\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 474489953064388,
													"parameters": {
														"instance-variable": "medSteps",
														"value": "6"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "basis",
													"sid": 655273345281974,
													"disabled": true,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"stop\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aGame",
													"sid": 301772306987667,
													"parameters": {
														"instance-variable": "mindState",
														"value": "\"awake\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 424444332947019,
													"disabled": true,
													"parameters": {
														"instance-variable": "heroTask",
														"value": "\"zero\""
													}
												},
												{
													"customAction": "zoomTo",
													"objectClass": "aIns",
													"sid": 913641289615253,
													"parameters": [
														false,
														true,
														false,
														"-1",
														false,
														false,
														false,
														"1",
														"0",
														"0",
														"1",
														"-1",
														false,
														true,
														"0.01",
														false,
														"-1",
														"\"zero\"",
														false,
														false,
														false,
														false,
														true,
														false,
														false,
														"0",
														"\"\""
													]
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 609636726109773,
													"disabled": true,
													"parameters": {
														"instance-variable": "animPriority",
														"value": "0"
													}
												},
												{
													"callFunction": "animPers",
													"sid": 888610692991992,
													"parameters": [
														"person.UID",
														"\"awake\"",
														"3",
														"0",
														"777",
														"0"
													]
												}
											],
											"sid": 358661328652912
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "медитация"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 282945051282759,
									"parameters": {
										"animation": "\"startMeditation\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 428799088309413,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "person.name"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aUIN",
									"sid": 196139834007567,
									"parameters": {
										"instance-variable": "medSteps",
										"value": "5"
									}
								},
								{
									"callFunction": "animPers",
									"sid": 789840923225130,
									"parameters": [
										"person.UID",
										"\"meditation\"",
										"0",
										"0",
										"777",
										"0"
									]
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 507775023066623,
									"parameters": {
										"instance-variable": "mindState",
										"value": "\"meditation\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 404921093820663,
									"parameters": {
										"instance-variable": "meditation",
										"value": "true"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 813230730662368,
									"disabled": true,
									"parameters": {
										"group-name": "\"dao\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 772267028478142,
							"children": [
								{
									"eventType": "comment",
									"text": "вырастание взрывного растения"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aUIN",
											"sid": 626680757909611,
											"parameters": {
												"instance-variable": "medName",
												"comparison": 0,
												"value": "\"cBoom\""
											}
										},
										{
											"id": "for",
											"objectClass": "System",
											"sid": 666281876323148,
											"parameters": {
												"name": "\"cBoom\"",
												"start-index": "1",
												"end-index": "2"
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "person",
											"sid": 501809337509879,
											"parameters": {
												"object": "plantCBoomM",
												"layer": "\"iso\"",
												"image-point": "3",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "plantCBoomM",
											"sid": 527973616521193,
											"parameters": {
												"instance-variable": "ind",
												"value": "loopindex(\"cBoom\")"
											}
										},
										{
											"id": "set-position",
											"objectClass": "plantCBoomM",
											"sid": 884709315240184,
											"parameters": {
												"x": "Self.ind=1?  basis.X-50 : basis.X+50",
												"y": "basis.Y+1"
											}
										},
										{
											"id": "start-animation",
											"objectClass": "plantCBoomM",
											"sid": 777888032725182,
											"parameters": {
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 792025559378352,
											"parameters": {
												"instance-variable": "medName",
												"value": "\"zero\""
											}
										}
									],
									"sid": 658710856604955
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 244277556026331,
									"parameters": {
										"animation": "\"startMeditation\""
									}
								}
							],
							"actions": [],
							"sid": 322833618092376
						},
						{
							"eventType": "comment",
							"text": "при движении медитация прерывается"
						},
						{
							"bookmark": true,
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "basis",
									"sid": 921361445576767,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"move\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aGame",
									"sid": 617983502305281,
									"parameters": {
										"instance-variable": "mindState",
										"comparison": 0,
										"value": "\"meditation\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "meditationNordik",
									"sid": 506399070374535,
									"parameters": [
										"\"flowers\"",
										"\"\""
									]
								}
							],
							"sid": 542917600932263
						},
						{
							"eventType": "comment",
							"text": "\n сделать\n"
						},
						{
							"eventType": "comment",
							"text": "завершение медитации по излечению"
						},
						{
							"eventType": "comment",
							"text": "завершение медитации по созреванию плодов"
						},
						{
							"eventType": "comment",
							"text": "прерывание медитации"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-frame-changed",
									"objectClass": "person",
									"sid": 607907595354012
								},
								{
									"id": "is-animation-playing",
									"objectClass": "person",
									"sid": 750427394457134,
									"parameters": {
										"animation": "\"meditation\""
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 704684142934791,
									"parameters": {
										"instance-variable": "meditation"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aUIN",
									"sid": 813065005253342,
									"parameters": {
										"instance-variable": "medSteps",
										"value": "6"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 716656252234012,
									"parameters": {
										"instance-variable": "mindState",
										"value": "\"awake\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 355744234472848,
									"parameters": {
										"instance-variable": "meditation",
										"value": "false"
									}
								}
							],
							"sid": 366181017077162
						},
						{
							"eventType": "comment",
							"text": "по окончанию пробуждения сброс состояния"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 967558703953364,
									"parameters": {
										"animation": "\"awake\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 449481579928463,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "person.name"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aUIN",
									"sid": 961971981872159,
									"parameters": {
										"instance-variable": "medSteps",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 570316505766400,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"customAction": "stop",
									"objectClass": "basis",
									"sid": 126318994155809,
									"disabled": true
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 274466783598729,
									"parameters": {
										"group-name": "\"dao\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 913923920435149
						}
					],
					"sid": 178544094512348
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   трансформация\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "zen",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": " из меню, старт любой трансформации, кроме анимаций без смены героя, анимации в листе _UI"
						},
						{
							"functionName": "transformation",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "button",
									"type": "string",
									"initialValue": "forms",
									"comment": "",
									"sid": 106560699031906
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 201211221076025,
							"children": [
								{
									"eventType": "comment",
									"text": "клик по главной кнопке (Норд-Нордик)"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 217158714330850,
											"parameters": {
												"variable": "button",
												"comparison": 0,
												"value": "\"forms\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "point",
											"sid": 132747207718753,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 724104029468414,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"transform\""
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttForms",
											"sid": 887338514049454,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickA\"",
												"property": "offsetAngle",
												"end-value": "12",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttForms",
											"sid": 386236184376291,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttForms",
											"sid": 497665146634947,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										}
									],
									"sid": 554027416576093,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 962615582579893,
													"parameters": {
														"instance-variable": "hero",
														"comparison": 0,
														"value": "\"Nordik\""
													}
												}
											],
											"actions": [],
											"sid": 409731150874491,
											"disabled": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 656118030405138,
													"parameters": {
														"instance-variable": "hero",
														"comparison": 0,
														"value": "\"Nord\""
													}
												}
											],
											"actions": [],
											"sid": 891799511413211,
											"disabled": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "клик по другим кнопкам превращений"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 214551250685004
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 309909449999663,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 492675232386940,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 310908954604436,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										}
									],
									"sid": 893037223508120
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 960971677493841,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "aBook.hero"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 304827082056237,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [],
									"sid": 788634945626654,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\nвызов анимации трансформации Нордика-Норда, в том числе кликом по нему"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "point",
									"sid": 750858400151123,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"transform\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "point",
									"sid": 200342411447671,
									"parameters": {
										"instance-variable": "pName",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 363336786221298,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 173488590465662,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 440612465710096,
									"parameters": {
										"instance-variable": "heroEnchanted"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Nordik",
									"sid": 422035583399475,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Nord",
									"sid": 449930331665634,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"type": "comment",
									"text": "анимацию лучше вызывать через функцию"
								},
								{
									"id": "set-animation",
									"objectClass": "person",
									"sid": 976603098211350,
									"disabled": true,
									"parameters": {
										"animation": "\"trans\"&aGame.NordikNextForm",
										"from": "beginning"
									}
								},
								{
									"type": "comment",
									"text": "таймер может быть использован для других случаев"
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 768643840881685,
									"disabled": true,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "2",
										"type": "once",
										"tag": "\"NordikTransform\""
									}
								}
							],
							"sid": 422129440735248,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 343684442844770,
											"parameters": {
												"instance-variable": "move"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 156971812599614,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"stop\""
											}
										}
									],
									"sid": 582528324794975
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aIns",
											"sid": 861707403155728,
											"parameters": {
												"instance-variable": "transformSpeed",
												"comparison": 1,
												"value": "0"
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "person",
											"sid": 973069927177875,
											"disabled": true,
											"parameters": {
												"animation": "\"trans\"&aGame.NordikNextForm"
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 658493626432619,
											"parameters": [
												"person.UID",
												"\"trans\"&aGame.NordikNextForm",
												"aGame.mindState=\"blackout\"?5:0",
												"person.AnimationFrame",
												"aIns.transformSpeed<0?777:-777",
												"0"
											]
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 206371498804368,
											"disabled": true,
											"parameters": {
												"text": "person.AnimationSpeed"
											}
										}
									],
									"sid": 673597127255852
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 894249475175396
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 261352774949239,
											"parameters": {
												"instance-variable": "NordikNextForm",
												"value": "aGame.NordikCurentForm=\"Nordik\"?\"Nord\":\"Nordik\""
											}
										},
										{
											"callFunction": "animPers",
											"sid": 586112704400097,
											"parameters": [
												"person.UID",
												"\"trans\"&aGame.NordikNextForm",
												"aGame.mindState=\"blackout\"?5:0",
												"0",
												"777",
												"0"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aIns",
											"sid": 662448103117192,
											"parameters": {
												"instance-variable": "transformSpeed",
												"value": "person.AnimationSpeed"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 852171152498980,
											"disabled": true,
											"parameters": {
												"text": "person.AnimationName&newline&aGame.NordikNextForm"
											}
										}
									],
									"sid": 475074860484332
								}
							]
						},
						{
							"eventType": "comment",
							"text": "увеличение размера Нордика для для бесшовного перехода к увеличенному Норду"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Nordik",
									"sid": 824183604240617,
									"parameters": {
										"animation": "\"transNord\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 424242982885551,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "compare-animation-speed",
									"objectClass": "Nordik",
									"sid": 997962940015788,
									"parameters": {
										"comparison": 4,
										"number": "0"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Nordik",
									"sid": 189861230600542,
									"parameters": {
										"instance-variable": "startScaleCoeff",
										"value": "lerp(Self.startScaleCoeff,0.8333,0.06)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 910987825662582,
									"parameters": {
										"instance-variable": "startScaleCoeff",
										"value": "Nordik.startScaleCoeff"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 904910340392653,
									"parameters": {
										"instance-variable": "coeff",
										"value": "Self.startScaleCoeff*aBook.heroScaleCoeff"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 199232437674413,
									"parameters": {
										"instance-variable": "fullScale",
										"value": "Self.zScale*Self.coeff"
									}
								},
								{
									"id": "set-scale",
									"objectClass": "Nordik",
									"sid": 488190228792613,
									"parameters": {
										"scale": "basis.fullScale"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "shad",
									"sid": 188270379255146,
									"disabled": true,
									"parameters": {
										"instance-variable": "w",
										"value": "Self.startScaleCoeff*aBook.heroScaleCoeff*Self.ImageWidth"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "shad",
									"sid": 696180681526104,
									"disabled": true,
									"parameters": {
										"instance-variable": "isoCoeff",
										"value": "aTools.isoCoeff+0.2"
									}
								},
								{
									"id": "set-size",
									"objectClass": "shad",
									"sid": 179335096510784,
									"disabled": true,
									"parameters": {
										"width": "Self.w",
										"height": "Self.w*Self.isoCoeff"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "shad",
									"sid": 821661678798038,
									"disabled": true,
									"parameters": {
										"opacity": "Self.opas"
									}
								}
							],
							"sid": 984058173119482
						},
						{
							"eventType": "comment",
							"text": "по окончании анимации вызов функции смены воплощения"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 920343999948317,
									"parameters": {
										"animation": "\"trans\"&aGame.NordikNextForm"
									}
								}
							],
							"actions": [],
							"sid": 482590828478717,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-animation-speed",
											"objectClass": "person",
											"sid": 967134116851721,
											"parameters": {
												"comparison": 4,
												"number": "0"
											}
										}
									],
									"actions": [
										{
											"callFunction": "NordikTransform",
											"sid": 778526429770289,
											"parameters": [
												"aGame.NordikNextForm"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aIns",
											"sid": 166475391677264,
											"parameters": {
												"instance-variable": "transformSpeed",
												"value": "0"
											}
										}
									],
									"sid": 196660293601679
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-animation-speed",
											"objectClass": "person",
											"sid": 376756846385961,
											"parameters": {
												"comparison": 2,
												"number": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 158159210334875,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "person.name"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 891844965391888,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"stop\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aIns",
											"sid": 995033821133663,
											"parameters": {
												"instance-variable": "transformSpeed",
												"value": "0"
											}
										}
									],
									"sid": 942391598985752
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 258547261871193,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"NordikTransform\""
									}
								}
							],
							"actions": [],
							"sid": 347177406442640
						},
						{
							"eventType": "comment",
							"text": "после быстрого превращения с облачком анимация копны на голове, при движении прерывается\nгруппа выключается"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "Nordik",
									"sid": 920758327517500,
									"parameters": {
										"animation": "\"cloudNordik\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Nordik",
									"sid": 486704403594937,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 593239870833343,
									"disabled": true,
									"parameters": {
										"text": "Nordik.animPriority"
									}
								},
								{
									"callFunction": "animPers",
									"sid": 602626270334779,
									"parameters": [
										"Nordik.UID",
										"\"cloudNordikEnd\"",
										"1",
										"0",
										"777",
										"0"
									]
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 614711429410081,
									"parameters": {
										"seconds": "0.05",
										"use-timescale": true
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Nordik",
									"sid": 249941481985475,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 114628658362972,
									"parameters": {
										"group-name": "\"zen\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 416597001131301
						},
						{
							"eventType": "comment",
							"text": "быстрое превращение в Нордика"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "Nordik",
									"sid": 726987374733316,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"toNordik\""
									}
								}
							],
							"actions": [],
							"sid": 586562389028646,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 634470488450695,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 162601706041273,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"stop\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Nordik",
											"sid": 655168371822345,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										}
									],
									"sid": 593607060440934
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 633446576829933,
											"parameters": {
												"instance-variable": "NordikNextForm",
												"value": "\"Nordik\""
											}
										},
										{
											"callFunction": "NordikTransform",
											"sid": 316031011508568,
											"parameters": [
												"\"Nordik\""
											]
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 131620741038046,
											"parameters": {
												"group-name": "\"zen\"",
												"state": "activated"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 805618291502816,
											"parameters": [
												"Nordik.UID",
												"\"cloudNordik\"",
												"5",
												"0",
												"777",
												"0"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Nordik",
											"sid": 411605399388293,
											"disabled": true,
											"parameters": {
												"instance-variable": "startScaleCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 501025918553611,
											"disabled": true,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"selfScale\""
											}
										}
									],
									"sid": 470755941377398
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n   смена героя (трансформация)\n"
						},
						{
							"functionName": "NordikTransform",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "nextForm",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 389752448262433
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 902354900774898,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 355400000829453,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "nextForm"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 289230669054556,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "nextForm"
									}
								}
							],
							"actions": [],
							"sid": 634566682860989,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "hero",
											"sid": 447479438464088,
											"parameters": {
												"instance-variable": "heroName",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [
										{
											"id": "set-position-to-another-object",
											"objectClass": "basis",
											"sid": 333387852270281,
											"parameters": {
												"object": "base",
												"image-point-optional": "0"
											}
										},
										{
											"id": "set-position",
											"objectClass": "base",
											"sid": 531253968191147,
											"parameters": {
												"x": "base.name=\"Nordik\"? -10000: base.name=\"Nord\"? -9000: base.name=\"Nonster\"? -8000 : -7000",
												"y": "Self.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "base",
											"sid": 843646307818079,
											"parameters": {
												"instance-variable": "startScaleCoeff",
												"value": "base.name=\"Nordik\"?0.8:0.91"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 538893674202100,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Nordik",
											"sid": 983314314202322,
											"parameters": {
												"instance-variable": "startScaleCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 691456702565064,
											"parameters": {
												"instance-variable": "startScaleCoeff",
												"value": "basis.name=\"Nordik\"?0.8:basis.name=\"Nord\"?0.91:1"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 543142295324462,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"zScale\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 316928199738045,
											"disabled": true,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"selfScale\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "person",
											"sid": 442466866491831,
											"parameters": {
												"animation": "\"stop1\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "person",
											"sid": 141782770791164,
											"disabled": true,
											"parameters": {
												"animation": "\"transEnd\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "hero",
											"sid": 335340080968018,
											"parameters": {
												"instance-variable": "active",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 959545046155130,
											"parameters": {
												"instance-variable": "hero",
												"value": "nextForm"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 953675149131931,
											"parameters": {
												"instance-variable": "NordikNextForm",
												"value": "Self.NordikCurentForm"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 247615372308508,
											"parameters": {
												"instance-variable": "NordikCurentForm",
												"value": "person.name"
											}
										}
									],
									"sid": 383874760011051,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "hero",
													"sid": 962080082114517,
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "person",
													"sid": 155271698999656,
													"parameters": {
														"state": "not-mirrored"
													}
												}
											],
											"sid": 478728693402476
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "hero",
													"sid": 444376700007055
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "person",
													"sid": 259640249648327,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 513667473859485
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "hero",
											"sid": 845703420921269,
											"parameters": {
												"instance-variable": "heroName",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "hero",
											"sid": 191130479097187,
											"parameters": {
												"instance-variable": "active",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 431085672265486,
											"parameters": {
												"instance-variable": "mindDefend",
												"value": "hero.mindDefend"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 147211237345292,
											"parameters": {
												"instance-variable": "followName",
												"value": "aBook.hero"
											}
										},
										{
											"id": "signal",
											"objectClass": "System",
											"sid": 738119517051342,
											"parameters": {
												"tag": "aBook.hero"
											}
										},
										{
											"type": "comment",
											"text": "смена способностей"
										},
										{
											"callFunction": "abilToHero",
											"sid": 738817671165724,
											"parameters": [
												"\"active\""
											]
										},
										{
											"callFunction": "abilMap",
											"sid": 639122298083631,
											"parameters": [
												"\"Bit\"",
												"\"zero\""
											]
										}
									],
									"sid": 279594888518889
								},
								{
									"eventType": "comment",
									"text": ""
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 920236123621046,
											"parameters": {
												"instance-variable": "mind",
												"comparison": 3,
												"value": "0"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 658759748651946,
											"disabled": true,
											"parameters": {
												"instance-variable": "blackout"
											}
										}
									],
									"actions": [
										{
											"callFunction": "blackout",
											"sid": 553497827674995
										}
									],
									"sid": 408702876096696
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 938237774765446
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 225577982999029,
											"parameters": {
												"instance-variable": "hero",
												"comparison": 0,
												"value": "\"Nord\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "point",
											"sid": 326641254675995,
											"disabled": true,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "\"Nord\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 866826607561330,
											"disabled": true,
											"parameters": {
												"text": "aBook.hero"
											}
										}
									],
									"sid": 762282350289907,
									"children": [
										{
											"eventType": "comment",
											"text": " переход в медитацию"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 716094844771608,
													"parameters": {
														"instance-variable": "medName",
														"comparison": 1,
														"value": "\"zero\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 691883848774220,
													"parameters": {
														"instance-variable": "medStatus",
														"comparison": 0,
														"value": "\"transform\""
													}
												}
											],
											"actions": [
												{
													"id": "append-text",
													"objectClass": "help",
													"sid": 862054719247270,
													"disabled": true,
													"parameters": {
														"text": "\"  et\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 590721274983198,
													"parameters": {
														"instance-variable": "medStatus",
														"value": "\"endTransform\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 231710826639184,
													"parameters": {
														"instance-variable": "medSteps",
														"value": "3"
													}
												},
												{
													"callFunction": "meditationNordik",
													"sid": 170319518168420,
													"parameters": [
														"aUIN.medName",
														"\"\""
													]
												}
											],
											"sid": 901053853275545
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 669817487896745
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aGame",
													"sid": 716596270337461,
													"parameters": {
														"instance-variable": "mind",
														"comparison": 2,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 487599894001659,
													"parameters": {
														"instance-variable": "medSteps",
														"value": "0"
													}
												},
												{
													"callFunction": "meditationNordik",
													"sid": 634566829838435,
													"parameters": [
														"\"flowers\"",
														"\"\""
													]
												}
											],
											"sid": 765036668946656
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 136581056403822
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 192963253855268,
													"parameters": {
														"group-name": "\"zen\"",
														"state": "deactivated"
													}
												}
											],
											"sid": 725162940536607
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 907767508510443
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 343977183301759,
											"parameters": {
												"group-name": "\"zen\"",
												"state": "deactivated"
											}
										}
									],
									"sid": 218870152217255
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n  смена героя (перенос управления на другого)\n"
						},
						{
							"functionName": "heroChange",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "newHero",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 293423626461392
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aBook",
									"sid": 221376298773788,
									"parameters": {
										"instance-variable": "hero",
										"value": "newHero"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aTools",
									"sid": 531295262328262,
									"parameters": {
										"instance-variable": "followName",
										"value": "newHero"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "hero",
									"sid": 542930597130427,
									"parameters": {
										"instance-variable": "active",
										"value": "false"
									}
								}
							],
							"sid": 600436499850296,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "hero",
											"sid": 264756624247230,
											"parameters": {
												"instance-variable": "heroName",
												"comparison": 0,
												"value": "aBook.hero"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "hero",
											"sid": 720827492111089,
											"parameters": {
												"instance-variable": "active",
												"value": "true"
											}
										},
										{
											"type": "comment",
											"text": "смена способностей"
										},
										{
											"callFunction": "abilToHero",
											"sid": 356579264519686,
											"parameters": [
												"\"active\""
											]
										},
										{
											"callFunction": "abilMap",
											"sid": 715856083839722,
											"parameters": [
												"\"Bit\"",
												"\"zero\""
											]
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 318285242615985,
											"parameters": {
												"group-name": "\"zen\"",
												"state": "deactivated"
											}
										}
									],
									"sid": 854423783032093
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n\n"
						},
						{
							"eventType": "comment",
							"text": "\n\n   сделать!\n"
						}
					],
					"sid": 722544756533065
				},
				{
					"eventType": "comment",
					"text": "по выходе из быстрой трансформации в Нордика"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "Nordik",
							"sid": 468192915334336,
							"parameters": {
								"animation": "\"cloudNordikEnd\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 165186650984447,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "\"Nordik\""
							}
						}
					],
					"actions": [
						{
							"customAction": "stop",
							"objectClass": "basis",
							"sid": 976564923498158
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 628264888411594,
							"parameters": {
								"group-name": "\"zen\"",
								"state": "deactivated"
							}
						}
					],
					"sid": 551945084505602
				},
				{
					"eventType": "comment",
					"text": "\n\n\n  новая форма для превращения добавляется в меню\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "newFormNordik",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "добавление превращения в меню"
						},
						{
							"functionName": "newForm",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "hero",
									"type": "string",
									"initialValue": "Nordik",
									"comment": "",
									"sid": 510768441469304
								},
								{
									"name": "newForm",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 882056230325415
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 954042808677781,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "has-key",
											"objectClass": "dForms",
											"sid": 148957235662898,
											"parameters": {
												"key": "newForm"
											},
											"isInverted": true
										},
										{
											"id": "is-timer-running",
											"objectClass": "inventory",
											"sid": 201541122681285,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"newForm\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "stop-timer",
											"objectClass": "inventory",
											"sid": 334842754581868,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"formOut\""
											}
										},
										{
											"id": "add-key",
											"objectClass": "dForms",
											"sid": 683830808676925,
											"parameters": {
												"key": "newForm",
												"value": "hero"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 876456196128551,
											"parameters": {
												"instance-variable": "widthForms",
												"value": "clamp(210+dForms.KeyCount*70,310,1275)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aIns",
											"sid": 696264377521450,
											"parameters": {
												"instance-variable": "newForm",
												"value": "newForm"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "buttForms",
											"sid": 133248976445580,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "start-timer",
											"objectClass": "inventory",
											"sid": 751596079132481,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.21",
												"type": "once",
												"tag": "\"newForm\""
											}
										}
									],
									"sid": 526702699327956
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "inventory",
									"sid": 413110204076177,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"newForm\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "bAbil",
									"sid": 816521383319898,
									"parameters": {
										"instance-variable": "pName",
										"comparison": 0,
										"value": "aIns.newForm"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 528923975598349,
									"disabled": true,
									"parameters": {
										"text": "\"S-new\""
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "bAbil",
									"sid": 976283753088193,
									"parameters": {
										"object": "fxSelect",
										"layer": "\"ui\"",
										"image-point": "0",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "pin-to-object-imagepoint",
									"objectClass": "fxSelect",
									"sid": 563481742752243,
									"behaviorType": "Pin",
									"parameters": {
										"pin-to": "bAbil",
										"image-point": "0",
										"angle": false,
										"width-type": "no",
										"height-type": "no",
										"z": false
									}
								},
								{
									"id": "set-visible",
									"objectClass": "fxSelect",
									"sid": 409294123446091,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "fxSelect",
									"sid": 317457183930093,
									"parameters": {
										"animation": "\"sel\"",
										"from": "beginning"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "inventory",
									"sid": 169697071729138,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "3",
										"type": "once",
										"tag": "\"formOut\""
									}
								}
							],
							"sid": 588284998685477
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "inventory",
									"sid": 195033220624948,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"formOut\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 291800808540348,
									"parameters": {
										"group-name": "\"newForm\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 544303686956650
						}
					],
					"sid": 708773199147017
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   собирание предметов способностей\n"
				},
				{
					"eventType": "comment",
					"text": "коллизия предмета с Нордиком"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "itemAbil",
							"sid": 779922298665822,
							"parameters": {
								"object": "Nordik"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 151450261123543,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "\"Nordik\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 466595722609738,
							"disabled": true,
							"parameters": {
								"unique-id": "itemAbil.UID"
							}
						}
					],
					"actions": [],
					"sid": 281382786000408,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-timer-running",
									"objectClass": "itemAbil",
									"sid": 802386160775535,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"get\""
									},
									"isInverted": true
								},
								{
									"id": "is-visible",
									"objectClass": "itemAbil",
									"sid": 669190804555444
								}
							],
							"actions": [
								{
									"id": "stop-timer",
									"objectClass": "inventory",
									"sid": 977824175184622,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"grabOut\""
									}
								},
								{
									"callFunction": "animPers",
									"sid": 834330602775581,
									"parameters": [
										"person.UID",
										"\"am\"",
										"4",
										"Nordik.AnimationName=\"am\"?3:0",
										"24",
										"0"
									]
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "itemAbil",
									"sid": 927257439726101,
									"parameters": {
										"instance-variable": "grabing",
										"value": "true"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "itemAbil",
									"sid": 640230311545872,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.02",
										"type": "once",
										"tag": "\"get\""
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 546837436846586,
									"parameters": {
										"group-name": "\"grab\"",
										"state": "activated"
									}
								},
								{
									"id": "unpin",
									"objectClass": "itemAbil",
									"sid": 736396883031239,
									"behaviorType": "Pin"
								}
							],
							"sid": 448865214137725,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 970361821326793,
											"parameters": {
												"instance-variable": "jump"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 750937523907080,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"stop\""
											}
										},
										{
											"id": "stop-timer",
											"objectClass": "Nordik",
											"sid": 220151310494163,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"noControl\""
											}
										},
										{
											"id": "start-timer",
											"objectClass": "Nordik",
											"sid": 866565379370739,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.6",
												"type": "once",
												"tag": "\"noControl\""
											}
										}
									],
									"sid": 820689366401129
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "направленный захват"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "grabNordik",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "point",
									"sid": 264072766908953,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"grab\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 467916231655671,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "itemAbil",
									"sid": 967456032354260,
									"parameters": {
										"unique-id": "point.UID"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aUIN",
									"sid": 208717218704040,
									"disabled": true,
									"parameters": {
										"instance-variable": "grab"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 331956683991888,
									"parameters": {
										"instance-variable": "targetMod"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "stop-timer",
									"objectClass": "inventory",
									"sid": 993249602596005,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"grabOut\""
									}
								}
							],
							"sid": 989877096081218,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 398922548802160,
											"parameters": {
												"instance-variable": "hero",
												"comparison": 0,
												"value": "\"Nord\""
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 302697458698080,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"stop\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 395616705199474,
											"disabled": true,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 214934857937355,
											"parameters": {
												"instance-variable": "NordikNextForm",
												"value": "\"Nordik\""
											}
										},
										{
											"callFunction": "animPers",
											"sid": 682735275492442,
											"parameters": [
												"person.UID",
												"\"transNordik\"",
												"3",
												"0",
												"777",
												"0"
											]
										},
										{
											"id": "wait-for-signal",
											"objectClass": "System",
											"sid": 843289233359657,
											"parameters": {
												"tag": "\"Nordik\""
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "aUIN",
											"sid": 396921802920451,
											"parameters": {
												"instance-variable": "grab",
												"value": "true"
											}
										},
										{
											"callFunction": "grabNordik",
											"sid": 857975102797169,
											"parameters": [
												"itemAbil.UID",
												"distance(Nordik.X,Nordik.Y,itemAbil.X,itemAbil.Y+itemAbil.selfHi)",
												"round(angle(Nordik.X,Nordik.Y,itemAbil.X,itemAbil.Y+itemAbil.selfHi)-360*floor(angle(Nordik.X,Nordik.Y,itemAbil.X,itemAbil.Y+itemAbil.selfHi)/360))",
												"0"
											]
										}
									],
									"sid": 900372643481963
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 613822552623966
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 970521172781753,
											"parameters": {
												"instance-variable": "hero",
												"comparison": 0,
												"value": "\"Nordik\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "aUIN",
											"sid": 516678012710577,
											"parameters": {
												"instance-variable": "grab",
												"value": "true"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 631610077864124,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"stop\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 236041910295588,
											"disabled": true,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"callFunction": "grabNordik",
											"sid": 559381937248200,
											"parameters": [
												"itemAbil.UID",
												"distance(Nordik.X,Nordik.Y,itemAbil.X,itemAbil.Y+itemAbil.selfHi)",
												"round(angle(Nordik.X,Nordik.Y,itemAbil.X,itemAbil.Y+itemAbil.selfHi)-360*floor(angle(Nordik.X,Nordik.Y,itemAbil.X,itemAbil.Y+itemAbil.selfHi)/360))",
												"0"
											]
										}
									],
									"sid": 112316398638976
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n1/sqrt((sin(Sprite.Angle)/(a*ISO))^2+(cos(Sprite.Angle)/a)^2)"
						},
						{
							"functionName": "grabNordik",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "itemUID",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 884112832114054
								},
								{
									"name": "dist",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 101907081895713
								},
								{
									"name": "ang",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 434643260344145
								},
								{
									"name": "rDist",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 487248267847839
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 983505190748279,
									"disabled": true,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 554588934972997,
									"disabled": true,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "itemAbil",
									"sid": 351573680451928,
									"parameters": {
										"unique-id": "itemUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-eventvar-value",
									"objectClass": "System",
									"sid": 950537736201496,
									"parameters": {
										"variable": "rDist",
										"value": "1/sqrt((sin(ang)/dist)^2+(cos(ang)/(dist*aTools.isoCoeff))^2)"
									}
								}
							],
							"sid": 618068773531626,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 565438117975023,
											"parameters": {
												"variable": "rDist",
												"comparison": 3,
												"value": "500"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Нордик поворачивается к объекту (направление на точку на земле)"
										},
										{
											"type": "comment",
											"text": "Нордик бросает руку и хватает объект"
										}
									],
									"sid": 443396565868629,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [],
											"sid": 433914691572958
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 849260091148768
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Нордик идёт к предмету не ближе 100.\nИли идёт на доступное расстояние.\nОжидание сигнала."
										},
										{
											"type": "comment",
											"text": "Сигнал остановки - либо бросание руки, либо качает головой."
										}
									],
									"sid": 972975728731351
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 114843392815112,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"callFunction": "animPers",
											"sid": 403186047681704,
											"parameters": [
												"person.UID",
												"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
												"2",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										},
										{
											"id": "spawn-another-object",
											"objectClass": "Nordik",
											"sid": 491690809234447,
											"parameters": {
												"object": "arm",
												"layer": "\"iso\"",
												"image-point": "2",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "stop-timer",
											"objectClass": "Nordik",
											"sid": 404123688294679,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"grab\""
											}
										},
										{
											"id": "start-timer",
											"objectClass": "Nordik",
											"sid": 449902759021744,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "2",
												"type": "once",
												"tag": "\"grab\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "arm",
											"sid": 615005911866801,
											"parameters": {
												"instance-variable": "itemUID",
												"value": "itemUID"
											}
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "arm",
											"sid": 866678451663217,
											"disabled": true,
											"parameters": {
												"object": "Nordik",
												"image-point-optional": "3"
											}
										},
										{
											"id": "set-collisions-enabled",
											"objectClass": "arm",
											"sid": 448910730653918,
											"parameters": {
												"collisions": "enabled"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "arm",
											"sid": 737881891650577,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-scale",
											"objectClass": "arm",
											"sid": 947704951600238,
											"disabled": true,
											"parameters": {
												"scale": "0.2"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "arm",
											"sid": 871946735277004,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"arm\"",
												"property": "position",
												"end-x": "itemAbil.X",
												"end-y": "itemAbil.Y",
												"time": "0.5",
												"ease": "easeoutcirc",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 906782349002288,
											"parameters": {
												"instance-variable": "mod",
												"value": "\"noControl\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 998159961448499,
											"disabled": true,
											"parameters": {
												"seconds": "0.05",
												"use-timescale": true
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "arm",
											"sid": 597941232359289,
											"disabled": true,
											"parameters": {
												"where": "in-front",
												"object": "itemAbil"
											}
										}
									],
									"sid": 658906132642451,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Nordik",
													"sid": 913221615985930
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "arm",
													"sid": 801307550337467,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 759573269509790
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 932856320359657
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "arm",
													"sid": 246578774139904,
													"parameters": {
														"state": "not-mirrored"
													}
												}
											],
											"sid": 680369825027132
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Твин возвращает руку - триггер анимации проглатывания. Предмет уменьшается и исчезает."
						},
						{
							"eventType": "comment",
							"text": "В словарь записывается предмет или добавляется количество"
						},
						{
							"eventType": "comment",
							"text": "Предмет удаляется."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "arm",
									"sid": 700226156276857,
									"parameters": {
										"object": "itemAbil"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "itemAbil",
									"sid": 139860365398386,
									"parameters": {
										"unique-id": "arm.itemUID"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-object",
									"objectClass": "arm",
									"sid": 333714403605368,
									"parameters": {
										"where": "in-front",
										"object": "itemAbil"
									}
								},
								{
									"id": "pin-to-object-imagepoint",
									"objectClass": "itemAbil",
									"sid": 800900217121362,
									"behaviorType": "Pin",
									"parameters": {
										"pin-to": "arm",
										"image-point": "1",
										"angle": true,
										"width-type": "no",
										"height-type": "no",
										"z": false
									}
								},
								{
									"id": "stop-tweens",
									"objectClass": "arm",
									"sid": 763012952292322,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm\""
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "arm",
									"sid": 268192845944024,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm1\"",
										"property": "position",
										"end-x": "Nordik.ImagePointX(2)",
										"end-y": "Nordik.ImagePointY(2)",
										"time": "0.2",
										"ease": "easeoutcirc",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "arm",
									"sid": 657769363971795,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.1",
										"type": "once",
										"tag": "\"arm1\""
									}
								}
							],
							"sid": 422786374090929
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "arm",
									"sid": 258952909166486,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"arm1\""
									}
								}
							],
							"actions": [
								{
									"id": "stop-tweens",
									"objectClass": "arm",
									"sid": 378746132347800,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm1\""
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "arm",
									"sid": 981650384958183,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm2\"",
										"property": "position",
										"end-x": "Nordik.ImagePointX(2)",
										"end-y": "Nordik.ImagePointY(2)",
										"time": "0.1",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 551109213213648
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "arm",
									"sid": 516872468114051,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm2\""
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "arm",
									"sid": 926750069098488,
									"parameters": {
										"object": "Nordik"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "arm",
									"sid": 939927926828731,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm2\"",
										"property": "position",
										"end-x": "Nordik.ImagePointX(2)",
										"end-y": "Nordik.ImagePointY(2)",
										"time": "0.05",
										"ease": "noease",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 700211572391666
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "arm",
									"sid": 120941783586254,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm1\""
									}
								},
								{
									"id": "on-tweens-finished",
									"objectClass": "arm",
									"sid": 873885169818339,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm2\""
									}
								},
								{
									"id": "on-tweens-finished",
									"objectClass": "arm",
									"sid": 555197134117162,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"arm\""
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "arm",
									"sid": 695047728470004,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "arm",
									"sid": 577781335699705,
									"parameters": {
										"collisions": "disabled"
									}
								},
								{
									"id": "set-position",
									"objectClass": "arm",
									"sid": 848093431726488,
									"parameters": {
										"x": "-333",
										"y": "333"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 970766364495021,
									"parameters": {
										"seconds": "0",
										"use-timescale": true
									}
								},
								{
									"id": "destroy",
									"objectClass": "arm",
									"sid": 751979472460461
								}
							],
							"sid": 343623151515194,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "itemAbil",
											"sid": 858657484479714,
											"parameters": {
												"unique-id": "arm.itemUID"
											}
										},
										{
											"id": "is-timer-running",
											"objectClass": "itemAbil",
											"sid": 961840236375248,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"get\""
											},
											"isInverted": true
										},
										{
											"id": "is-visible",
											"objectClass": "itemAbil",
											"sid": 452255297640393
										}
									],
									"actions": [
										{
											"id": "unpin",
											"objectClass": "itemAbil",
											"sid": 668697497314035,
											"behaviorType": "Pin"
										},
										{
											"id": "start-timer",
											"objectClass": "itemAbil",
											"sid": 458579451435081,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "1",
												"type": "once",
												"tag": "\"get\""
											}
										}
									],
									"sid": 238253129739233
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "Nordik",
									"sid": 538085746371012,
									"parameters": {
										"animation": "\"am\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Nordik",
									"sid": 267766374220705,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 714199460397498
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "Nordik",
									"sid": 613182962002725,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"grab\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aUIN",
									"sid": 174122718289640,
									"parameters": {
										"instance-variable": "grab",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aBook",
									"sid": 981247194252611,
									"parameters": {
										"instance-variable": "mod",
										"value": "\"\""
									}
								}
							],
							"sid": 209454120521231
						},
						{
							"eventType": "comment",
							"text": "\n\n\n получение предметов для всех способов захвата предметов\n"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "itemAbil",
									"sid": 684638274538533,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"get\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "point",
									"sid": 136865265474335,
									"parameters": {
										"unique-id": "itemAbil.UID"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "point",
									"sid": 805567802351476,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "point",
									"sid": 102139593602185,
									"parameters": {
										"collisions": "disabled"
									}
								}
							],
							"sid": 665979946606626,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "point",
											"sid": 431129269019988,
											"parameters": {
												"instance-variable": "pType",
												"comparison": 0,
												"value": "\"flower\""
											}
										}
									],
									"actions": [],
									"sid": 683099708317900,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-key",
													"objectClass": "dFlowers",
													"sid": 260153678194849,
													"parameters": {
														"key": "point.pName"
													},
													"isInverted": true
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "itemAbil",
													"sid": 168893112828116,
													"parameters": {
														"unique-id": "point.UID"
													}
												}
											],
											"actions": [
												{
													"id": "add-key",
													"objectClass": "dFlowers",
													"sid": 476453985509270,
													"parameters": {
														"key": "point.pName",
														"value": "point.quant"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 146149818122962,
													"parameters": {
														"instance-variable": "widthFlowers",
														"value": "clamp(210+dFlowers.KeyCount*70,310,1275)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 630655356867196,
													"disabled": true,
													"parameters": {
														"instance-variable": "widthFlowers",
														"value": "dFlowers.KeyCount=0?285: clamp(210+dFlowers.KeyCount*70,310,1275)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 539710602267797,
													"disabled": true,
													"parameters": {
														"instance-variable": "invSteps",
														"value": "\"add\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 488256030771744,
													"parameters": {
														"instance-variable": "abilName",
														"value": "\"add\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "itemAbil",
													"sid": 619449738168232,
													"parameters": {
														"instance-variable": "new",
														"value": "true"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "buttFlowers",
													"sid": 742655566675221,
													"behaviorType": "sfPoint",
													"parameters": {
														"function_name:0": "\"popUpInv\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 248762777508182,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.21",
														"type": "once",
														"tag": "\"newItem\""
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "inventory",
													"sid": 943641735059773,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 206962478791985,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "6",
														"type": "once",
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "aUIN",
													"sid": 900718135976117,
													"parameters": {
														"instance-variable": "grab",
														"value": "false"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 333739132591010,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												}
											],
											"sid": 713641943333601
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 288188558632859
												}
											],
											"actions": [
												{
													"id": "set-key",
													"objectClass": "dFlowers",
													"sid": 862697585308078,
													"parameters": {
														"key": "point.pName",
														"value": "Self.Get(point.pName)+point.quant"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 889016451931380,
													"parameters": {
														"instance-variable": "widthFlowers",
														"value": "clamp(210+dFlowers.KeyCount*70,310,1275)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 874493184378594,
													"disabled": true,
													"parameters": {
														"instance-variable": "widthFlowers",
														"value": "dFlowers.KeyCount=0?285: clamp(210+dFlowers.KeyCount*70,310,1275)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 193593670948694,
													"parameters": {
														"instance-variable": "invSteps",
														"value": "\"add\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 749574624302411,
													"parameters": {
														"instance-variable": "abilName",
														"value": "\"add\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "itemAbil",
													"sid": 352899714838693,
													"parameters": {
														"instance-variable": "add",
														"value": "true"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "buttFlowers",
													"sid": 292875701604021,
													"behaviorType": "sfPoint",
													"parameters": {
														"function_name:0": "\"popUpInv\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 734866468054839,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.21",
														"type": "once",
														"tag": "\"newItem\""
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "inventory",
													"sid": 148845130732684,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 328906788363372,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "6",
														"type": "once",
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "aUIN",
													"sid": 221771465327596,
													"parameters": {
														"instance-variable": "grab",
														"value": "false"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 209945105207368,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												}
											],
											"sid": 532701303376659
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "point",
											"sid": 160824377043481,
											"parameters": {
												"instance-variable": "pType",
												"comparison": 0,
												"value": "\"fruit\""
											}
										}
									],
									"actions": [],
									"sid": 686238782882310,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "has-key",
													"objectClass": "dFruits",
													"sid": 332787339100790,
													"parameters": {
														"key": "point.pName"
													},
													"isInverted": true
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "itemAbil",
													"sid": 595395022025299,
													"parameters": {
														"unique-id": "point.UID"
													}
												}
											],
											"actions": [
												{
													"id": "add-key",
													"objectClass": "dFruits",
													"sid": 310198744770624,
													"parameters": {
														"key": "point.pName",
														"value": "point.quant"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 787198557256440,
													"parameters": {
														"instance-variable": "widthFruits",
														"value": "clamp(280+dFruits.KeyCount*70,285,1275)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 800382298953273,
													"disabled": true,
													"parameters": {
														"instance-variable": "invSteps",
														"value": "\"add\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 367062808580009,
													"parameters": {
														"instance-variable": "abilName",
														"value": "\"add\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "itemAbil",
													"sid": 283751650303520,
													"parameters": {
														"instance-variable": "new",
														"value": "true"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "buttFruits",
													"sid": 757739116065001,
													"behaviorType": "sfPoint",
													"parameters": {
														"function_name:0": "\"popUpInv\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 326413370175002,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.21",
														"type": "once",
														"tag": "\"newItem\""
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "inventory",
													"sid": 341271132742941,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 325509720392928,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "6",
														"type": "once",
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "aUIN",
													"sid": 125979849464742,
													"parameters": {
														"instance-variable": "grab",
														"value": "false"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 789097722368355,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												}
											],
											"sid": 257538221499620,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "aGame",
															"sid": 784529833036142,
															"parameters": {
																"instance-variable": "activeFruit",
																"comparison": 1,
																"value": "point.pName"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "aGame",
															"sid": 625450239180891,
															"parameters": {
																"instance-variable": "activeFruit",
																"value": "point.pName"
															}
														},
														{
															"id": "set-position",
															"objectClass": "informer",
															"sid": 277627064604914,
															"parameters": {
																"x": "640",
																"y": "360"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "informer",
															"sid": 767629910900971,
															"parameters": {
																"animation": "point.pName",
																"from": "beginning"
															}
														},
														{
															"id": "restart-fade",
															"objectClass": "informer",
															"sid": 424941070850980,
															"behaviorType": "Fade"
														}
													],
													"sid": 953186383688731
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 845333513754702
												}
											],
											"actions": [
												{
													"id": "set-key",
													"objectClass": "dFruits",
													"sid": 413434238310663,
													"parameters": {
														"key": "point.pName",
														"value": "Self.Get(point.pName)+point.quant"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 361117693266261,
													"parameters": {
														"instance-variable": "widthFruits",
														"value": "clamp(280+dFruits.KeyCount*70,285,1275)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 802688969578809,
													"parameters": {
														"instance-variable": "invSteps",
														"value": "\"add\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUIN",
													"sid": 348766231703813,
													"parameters": {
														"instance-variable": "abilName",
														"value": "\"add\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "itemAbil",
													"sid": 492979838270573,
													"parameters": {
														"instance-variable": "add",
														"value": "true"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "buttFruits",
													"sid": 888630833987047,
													"behaviorType": "sfPoint",
													"parameters": {
														"function_name:0": "\"popUpInv\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 367419716133873,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.21",
														"type": "once",
														"tag": "\"newItem\""
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "inventory",
													"sid": 547157825288221,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "inventory",
													"sid": 694454675603137,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "6",
														"type": "once",
														"tag": "\"addToCompact\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "aUIN",
													"sid": 460790398177324,
													"parameters": {
														"instance-variable": "grab",
														"value": "false"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 120871418887803,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												}
											],
											"sid": 779142993359124,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "aGame",
															"sid": 987678100175322,
															"parameters": {
																"instance-variable": "activeFruit",
																"comparison": 1,
																"value": "point.pName"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "aGame",
															"sid": 479731699409219,
															"parameters": {
																"instance-variable": "activeFruit",
																"value": "point.pName"
															}
														},
														{
															"id": "set-position",
															"objectClass": "informer",
															"sid": 428798087901799,
															"parameters": {
																"x": "640",
																"y": "360"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "informer",
															"sid": 895674309061410,
															"parameters": {
																"animation": "point.pName",
																"from": "beginning"
															}
														},
														{
															"id": "restart-fade",
															"objectClass": "informer",
															"sid": 907195393865865,
															"behaviorType": "Fade"
														}
													],
													"sid": 116334471009986
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "inventory",
									"sid": 838603220734620,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"newItem\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "itemAbil",
									"sid": 491994090124840,
									"parameters": {
										"instance-variable": "grabing"
									}
								}
							],
							"actions": [],
							"sid": 614381340196060,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "for-each",
											"objectClass": "System",
											"sid": 671596951372897,
											"parameters": {
												"object": "itemAbil"
											}
										}
									],
									"actions": [],
									"sid": 144259463668356,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "itemAbil",
													"sid": 170975839851703,
													"parameters": {
														"instance-variable": "new"
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "help",
													"sid": 383568684983461,
													"disabled": true,
													"parameters": {
														"text": "\"new\""
													}
												}
											],
											"sid": 373667051703160,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-by-unique-id",
															"objectClass": "point",
															"sid": 338672568880252,
															"parameters": {
																"unique-id": "itemAbil.UID"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "bAbil",
															"sid": 845921250465732,
															"parameters": {
																"instance-variable": "pName",
																"comparison": 0,
																"value": "point.pName"
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "help",
															"sid": 592808458151391,
															"disabled": true,
															"parameters": {
																"text": "\"S-new\""
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "bAbil",
															"sid": 537181748641623,
															"parameters": {
																"object": "fxSelect",
																"layer": "\"ui\"",
																"image-point": "0",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "pin-to-object-imagepoint",
															"objectClass": "fxSelect",
															"sid": 686348183806824,
															"behaviorType": "Pin",
															"parameters": {
																"pin-to": "bAbil",
																"image-point": "0",
																"angle": false,
																"width-type": "no",
																"height-type": "no",
																"z": false
															}
														},
														{
															"id": "set-visible",
															"objectClass": "fxSelect",
															"sid": 854980731166756,
															"parameters": {
																"visibility": "visible"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "fxSelect",
															"sid": 105133903931353,
															"parameters": {
																"animation": "\"sel\"",
																"from": "beginning"
															}
														},
														{
															"id": "start-timer",
															"objectClass": "inventory",
															"sid": 504216345197685,
															"behaviorType": "Timer",
															"parameters": {
																"duration": "3",
																"type": "once",
																"tag": "\"grabOut\""
															}
														}
													],
													"sid": 931588061594329,
													"children": [
														{
															"eventType": "comment",
															"text": "предмет возвращается на респаун"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "itemAbil",
																	"sid": 635685550160975,
																	"parameters": {
																		"instance-variable": "reSpawn"
																	}
																},
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "frSpawn",
																	"sid": 172326452218371,
																	"parameters": {
																		"unique-id": "itemAbil.UID"
																	}
																},
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "plants",
																	"sid": 474447375406110,
																	"parameters": {
																		"unique-id": "frSpawn.hostUID"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-position-to-another-object",
																	"objectClass": "frSpawn",
																	"sid": 748302066668779,
																	"parameters": {
																		"object": "plants",
																		"image-point-optional": "Self.imagePoint"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "frSpawn",
																	"sid": 496855290602440,
																	"parameters": {
																		"animation": "\"grow\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-collisions-enabled",
																	"objectClass": "frSpawn",
																	"sid": 916158574105096,
																	"parameters": {
																		"collisions": "disabled"
																	}
																},
																{
																	"id": "set-visible",
																	"objectClass": "frSpawn",
																	"sid": 205323654513463,
																	"parameters": {
																		"visibility": "visible"
																	}
																},
																{
																	"id": "set-animation-speed",
																	"objectClass": "frSpawn",
																	"sid": 698383171793488,
																	"parameters": {
																		"speed": "random(0.04,0.06)"
																	}
																}
															],
															"sid": 610229479128594
														},
														{
															"eventType": "comment",
															"text": "или исчезает"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 767363508604750
																}
															],
															"actions": [
																{
																	"id": "destroy",
																	"objectClass": "itemAbil",
																	"sid": 568027745293081
																}
															],
															"sid": 826083336884767
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "itemAbil",
													"sid": 648183504114464,
													"parameters": {
														"instance-variable": "add"
													}
												}
											],
											"actions": [
												{
													"id": "set-text",
													"objectClass": "help",
													"sid": 181196732253147,
													"disabled": true,
													"parameters": {
														"text": "\"add\""
													}
												}
											],
											"sid": 372702065746386,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-by-unique-id",
															"objectClass": "point",
															"sid": 937942286475376,
															"parameters": {
																"unique-id": "itemAbil.UID"
															}
														},
														{
															"id": "compare-instance-variable",
															"objectClass": "bAbil",
															"sid": 183124394635300,
															"parameters": {
																"instance-variable": "pName",
																"comparison": 0,
																"value": "point.pName"
															}
														}
													],
													"actions": [
														{
															"id": "set-text",
															"objectClass": "help",
															"sid": 523081537462988,
															"disabled": true,
															"parameters": {
																"text": "\"S-add\""
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "bAbil",
															"sid": 309046249133918,
															"parameters": {
																"object": "fxSelect",
																"layer": "\"ui\"",
																"image-point": "0",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "pin-to-object-imagepoint",
															"objectClass": "fxSelect",
															"sid": 156000077447565,
															"disabled": true,
															"behaviorType": "Pin",
															"parameters": {
																"pin-to": "bAbil",
																"image-point": "0",
																"angle": false,
																"width-type": "no",
																"height-type": "no",
																"z": false
															}
														},
														{
															"id": "set-visible",
															"objectClass": "fxSelect",
															"sid": 301245601966176,
															"parameters": {
																"visibility": "visible"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "fxSelect",
															"sid": 459371167557120,
															"parameters": {
																"animation": "\"add\"",
																"from": "beginning"
															}
														},
														{
															"id": "start-timer",
															"objectClass": "inventory",
															"sid": 537065266935186,
															"behaviorType": "Timer",
															"parameters": {
																"duration": "3",
																"type": "once",
																"tag": "\"grabOut\""
															}
														}
													],
													"sid": 822796491890772,
													"children": [
														{
															"eventType": "comment",
															"text": "предмет возвращается на респаун"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "itemAbil",
																	"sid": 576035772641916,
																	"parameters": {
																		"instance-variable": "reSpawn"
																	}
																},
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "frSpawn",
																	"sid": 570669968033429,
																	"parameters": {
																		"unique-id": "itemAbil.UID"
																	}
																},
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "plants",
																	"sid": 900240306576932,
																	"parameters": {
																		"unique-id": "frSpawn.hostUID"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-position-to-another-object",
																	"objectClass": "frSpawn",
																	"sid": 254475134117918,
																	"parameters": {
																		"object": "plants",
																		"image-point-optional": "Self.imagePoint"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "frSpawn",
																	"sid": 408063120143425,
																	"parameters": {
																		"animation": "\"grow\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-collisions-enabled",
																	"objectClass": "frSpawn",
																	"sid": 756144158311341,
																	"parameters": {
																		"collisions": "disabled"
																	}
																},
																{
																	"id": "set-visible",
																	"objectClass": "frSpawn",
																	"sid": 531001655639108,
																	"parameters": {
																		"visibility": "visible"
																	}
																},
																{
																	"id": "set-animation-speed",
																	"objectClass": "frSpawn",
																	"sid": 901819186454076,
																	"parameters": {
																		"speed": "random(0.04,0.06)"
																	}
																}
															],
															"sid": 596086378693894
														},
														{
															"eventType": "comment",
															"text": "или исчезает"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 732316826889375
																}
															],
															"actions": [
																{
																	"id": "destroy",
																	"objectClass": "itemAbil",
																	"sid": 267723164657509
																}
															],
															"sid": 134183682060547
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "отключение группы"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "inventory",
									"sid": 813224481783273,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"grabOut\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 283998753350598,
									"parameters": {
										"group-name": "\"grab\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 571656436353795
						}
					],
					"sid": 678642081507421
				},
				{
					"eventType": "comment",
					"text": "\n"
				},
				{
					"eventType": "comment",
					"text": "по завершению эффекта выделения предмета в панели спрайт выделения удаляется"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "fxSelect",
							"sid": 850564381507785
						}
					],
					"actions": [
						{
							"id": "unpin",
							"objectClass": "fxSelect",
							"sid": 815785614623340,
							"behaviorType": "Pin"
						},
						{
							"id": "destroy",
							"objectClass": "fxSelect",
							"sid": 441681736664922
						}
					],
					"sid": 455310802237135
				},
				{
					"eventType": "comment",
					"text": "отключение таймера компактного инвентаря если курсор над панелью"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "cursor",
							"sid": 722755831204301,
							"parameters": {
								"object": "peel"
							}
						}
					],
					"actions": [
						{
							"id": "stop-timer",
							"objectClass": "inventory",
							"sid": 200940624541308,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"addToCompact\""
							}
						}
					],
					"sid": 727750930139037
				},
				{
					"eventType": "comment",
					"text": "возвращение в компактное состояние"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "inventory",
							"sid": 992094718575982,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"addToCompact\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "aUIN",
							"sid": 203418159502414,
							"parameters": {
								"instance-variable": "abilName",
								"value": "\"add\""
							}
						}
					],
					"sid": 464564930769650
				},
				{
					"eventType": "comment",
					"text": "вылетающие из кустов листья от различных реакций - по завершении анимации удаляем"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "bushInto",
							"sid": 688809827739755
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "bushInto",
							"sid": 796897763946193
						}
					],
					"sid": 763932346502185
				},
				{
					"eventType": "comment",
					"text": "\n\n\n\n?"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-timer-running",
							"objectClass": "Nordik",
							"sid": 732121115712642,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"noControl\""
							}
						}
					],
					"actions": [],
					"sid": 667378009996256,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 260557975211530
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aBook",
									"sid": 101173026277384,
									"parameters": {
										"instance-variable": "mod",
										"value": "\"noControl\""
									}
								}
							],
							"sid": 241661563133862
						}
					],
					"isOrBlock": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "Nordik",
							"sid": 937651349102799,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"noControl\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "aBook",
							"sid": 851295243142143,
							"parameters": {
								"instance-variable": "mod",
								"value": "\"\""
							}
						}
					],
					"sid": 981836605729521,
					"isOrBlock": true
				}
			],
			"sid": 596019971192387
		}
	],
	"sid": 418772442373238
}