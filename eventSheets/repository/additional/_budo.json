{
	"name": "_budo",
	"events": [
		{
			"eventType": "comment",
			"text": "\n\n\n\nЛист атаки \"Бросок снаряда\": мицелиевого шара, энерго-сферы и так далее. \nКое-что надо модернизировать.\n\n"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "budo",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "\n\n\n атака снарядами - новая функция"
				},
				{
					"functionName": "attack",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "forceTargetMod",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 642024343226787
						},
						{
							"name": "endTargetMod",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 283050565665906
						},
						{
							"name": "forceSnowball",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 135373970504806
						},
						{
							"name": "forceBallType",
							"type": "string",
							"initialValue": "zero",
							"comment": "",
							"sid": 324675346587909
						},
						{
							"name": "strike",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 827923528293265
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 120276587750738,
					"children": [
						{
							"eventType": "comment",
							"text": "принудительное включение снежка"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 902678236228310,
									"parameters": {
										"variable": "forceSnowball"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 545381577656769,
									"parameters": {
										"instance-variable": "snowBall",
										"value": "true"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 931735759460999,
									"parameters": {
										"instance-variable": "ballType",
										"value": "\"target\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 322385275628270,
									"parameters": {
										"instance-variable": "ballRange",
										"value": "Functions.targetArea(aGame.ballType)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballAbil",
									"sid": 801223457441128,
									"parameters": {
										"instance-variable": "abilName",
										"value": "aGame.ballType"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ballAbil",
									"sid": 683113619462343,
									"parameters": {
										"animation": "aGame.ballType",
										"from": "beginning"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 293736107984577,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "deactivated"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 374948903344139,
									"parameters": {
										"group-name": "\"preGun\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 349131778151940,
									"parameters": {
										"group-name": "\"gun\"",
										"state": "activated"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aIns",
									"sid": 486947907282897,
									"parameters": {
										"instance-variable": "gunDirectTarget",
										"value": "1"
									}
								}
							],
							"sid": 862721946598018,
							"children": [
								{
									"eventType": "comment",
									"text": "! сделать смену снаряда - в переменных и UI"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 568814878933853
								}
							]
						},
						{
							"eventType": "comment",
							"text": "принудительное включение типа снарядов"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 612818514189667
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 534227884726302,
									"parameters": {
										"variable": "forceBallType",
										"comparison": 1,
										"value": "\"zero\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 835533224906250,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 296333704745511,
									"parameters": {
										"instance-variable": "snowBall",
										"value": "false"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 774005855143415,
									"parameters": {
										"group-name": "\"preGun\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 517701499362984,
									"parameters": {
										"group-name": "\"gun\"",
										"state": "deactivated"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 715346174516529,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "activated"
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 876734697421487,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 939176539317964,
									"parameters": {
										"instance-variable": "ballType",
										"value": "forceBallType"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 205291174096299,
									"parameters": {
										"instance-variable": "ballRange",
										"value": "Functions.targetArea(aGame.ballType)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballAbil",
									"sid": 243376564840286,
									"parameters": {
										"instance-variable": "abilName",
										"value": "aGame.ballType"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ballAbil",
									"sid": 912345935141411,
									"parameters": {
										"animation": "aGame.ballType",
										"from": "beginning"
									}
								}
							],
							"sid": 493233137763231,
							"children": [
								{
									"eventType": "comment",
									"text": "! сделать смену снаряда - в переменных и UI"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 851343698970484,
											"parameters": {
												"variable": "forceBallType",
												"comparison": 1,
												"value": "\"auto\""
											}
										}
									],
									"actions": [
										{
											"customAction": "abilOff",
											"objectClass": "aaa",
											"sid": 894400633368606,
											"parameters": [
												"1",
												true,
												false,
												true
											]
										}
									],
									"sid": 669746740281428
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 480733262439736,
											"parameters": {
												"variable": "forceBallType",
												"comparison": 1,
												"value": "\"target\""
											}
										}
									],
									"actions": [],
									"sid": 130132768158344,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "включение режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 476517998893701,
									"parameters": {
										"variable": "forceTargetMod"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 576387410460959,
									"parameters": {
										"instance-variable": "targetMod"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "? "
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 354561145112914,
									"parameters": {
										"group-name": "\"ballTarget\"",
										"state": "activated"
									}
								},
								{
									"callFunction": "ballTarget",
									"sid": 642405383043655
								}
							],
							"sid": 806846925244180
						},
						{
							"eventType": "comment",
							"text": "отключение режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 650627233156707
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 418507382459817,
									"parameters": {
										"variable": "endTargetMod"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 866681069930446,
									"parameters": {
										"instance-variable": "targetMod"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 558694373396859,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"endBallTarget\""
									}
								}
							],
							"sid": 908489836333939
						},
						{
							"eventType": "comment",
							"text": "атака"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 202363822416611,
									"parameters": {
										"variable": "strike"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 343604748374185,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 1,
										"value": "\"noMouse\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 839552566240405,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 1,
										"value": "\"onlyJump\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aaa",
									"sid": 959641838830060,
									"parameters": {
										"instance-variable": "controlBlock"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 945512454279264,
									"parameters": {
										"instance-variable": "noGun"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 600343466053758,
									"disabled": true,
									"parameters": {
										"instance-variable": "hero",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBook",
									"sid": 232951739906295,
									"disabled": true,
									"parameters": {
										"instance-variable": "keyboard"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 614686611436338,
									"disabled": true,
									"parameters": {
										"object": "map"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "map",
									"sid": 474002821027783,
									"disabled": true,
									"parameters": {
										"instance-variable": "callM",
										"comparison": 0,
										"value": "\"ball\""
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "info",
									"sid": 798025251483273,
									"disabled": true,
									"parameters": {
										"text": "\"b\""
									}
								}
							],
							"sid": 347458635947031,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 607371308162262,
											"parameters": {
												"instance-variable": "snowBall"
											}
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 496527688816348,
											"parameters": {
												"group-name": "\"ball\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 681194056314560,
											"parameters": {
												"group-name": "\"preGun\"",
												"state": "activated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 645871172555021,
											"parameters": {
												"group-name": "\"gun\"",
												"state": "activated"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aIns",
											"sid": 744236766555747,
											"parameters": {
												"instance-variable": "gunDirectTarget",
												"value": "1"
											}
										},
										{
											"callFunction": "gun",
											"sid": 481197790863038,
											"parameters": [
												false,
												true,
												"-1"
											]
										}
									],
									"sid": 570146807479152
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 832281967495674
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 441458135003154,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [],
									"sid": 347587853634626,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "basis",
													"sid": 556867926738181,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"preBall\""
													}
												},
												{
													"id": "is-timer-running",
													"objectClass": "basis",
													"sid": 988694743041178,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"ballOut\""
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "aGame",
													"sid": 712736961733320,
													"parameters": {
														"instance-variable": "nextBall",
														"value": "true"
													}
												}
											],
											"sid": 122546889477665,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 907481625138846
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "aGame",
													"sid": 915721812987730,
													"disabled": true,
													"parameters": {
														"instance-variable": "nextBall",
														"value": "false"
													}
												},
												{
													"id": "append-text",
													"objectClass": "info",
													"sid": 197331434594560,
													"disabled": true,
													"parameters": {
														"text": "\"c\""
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 804422997211243,
													"parameters": {
														"group-name": "\"preGun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 387246939706870,
													"parameters": {
														"group-name": "\"gun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 285980572224435,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "activated"
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "basis",
													"sid": 265898055714858,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"noBall\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "basis",
													"sid": 244317329092289,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.35",
														"type": "once",
														"tag": "\"preBall\""
													}
												},
												{
													"callFunction": "ball",
													"sid": 571595276423338,
													"parameters": [
														"\"targetBall\"",
														"Mouse.X",
														"Mouse.Y"
													]
												}
											],
											"sid": 430192504997564
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "\n    ТАБЛИЦА ДАЛЬНОСТИ ПОЛЁТА СНАРЯДОВ\n",
					"background-color": [
						0.4588235294117647,
						0.8196078431372549,
						0.9411764705882353,
						1
					]
				},
				{
					"functionName": "targetArea",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "number",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "b",
							"type": "string",
							"initialValue": "ball",
							"comment": "",
							"sid": 619190662252402
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-function-return-value",
							"objectClass": "Functions",
							"sid": 638682850507660,
							"parameters": {
								"value": "b=\"ball\"? 700 : b=\"target\"? 600 : b=\"auto\"? 600 : b=\"energoBall\"? 600 : b=\"windBall\"? 1200 : b=\"superBall\"? 500 : b=\"eStarBall\"? 500 : b=\"cageBall\"? 700 : 800"
							}
						}
					],
					"sid": 278546023411479
				},
				{
					"eventType": "comment",
					"text": "\n\n\nрежим прицеливания: включение, сопровождение, отключение"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballTarget",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "targetIcon",
									"sid": 677023596361492,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"targetMod\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "ballTarget",
									"sid": 442246238094387
								}
							],
							"sid": 765064086045615
						},
						{
							"eventType": "comment",
							"text": "При нажатии на панели кнопки шара или плода активируется режим прицела на курсоре, который будет стрелять (кидать) шарами на ЛКМ. Отключение режима через нажатие на ту же кнопку или любую другую кнопку панелей, кроме шаров в холдере - они активируют режим с выбранным шаром. Так же нажатие ПКМ и СКМ и Esc отключат режим, также это сделает пробел при этом стреляя в обычном режиме. Также отключение может вызвать нападение на героя. Если режим отключается, надо отключить и группы шара. В режиме многие функции мыши отключаются."
						},
						{
							"functionName": "ballTarget",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 167536321396638,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "mouse-button-is-down",
									"objectClass": "Mouse",
									"sid": 697094756670798,
									"disabled": true,
									"parameters": {
										"mouse-button": "left"
									}
								}
							],
							"actions": [],
							"sid": 133968950078944,
							"children": [
								{
									"eventType": "comment",
									"text": "включение режима прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 845071904340512,
											"parameters": {
												"instance-variable": "targetMod"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 963939686715883,
											"parameters": {
												"instance-variable": "blackout"
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 955554201908488,
											"parameters": {
												"instance-variable": "mod",
												"comparison": 1,
												"value": "\"noControl\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "targetIcon",
											"sid": 485349158140557,
											"parameters": {
												"animation": "\"auto\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 370154698969472,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 937109951914062,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 161562012015725,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "1"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 956824939717917,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cursor",
											"sid": 556107772782193,
											"disabled": true,
											"parameters": {
												"animation": "\"targetNot\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 787821590609380,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetNot\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 945436966173418,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "start-timer",
											"objectClass": "aIns",
											"sid": 900557778831190,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "1.4",
												"type": "once",
												"tag": "\"targetModOn\""
											}
										}
									],
									"sid": 623942336621757,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 213324381922383,
													"parameters": {
														"instance-variable": "snowBall"
													}
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 719053186233049,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 810387582945490,
													"parameters": {
														"group-name": "\"preGun\"",
														"state": "activated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 627251790371827,
													"parameters": {
														"group-name": "\"gun\"",
														"state": "activated"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aIns",
													"sid": 239858467277729,
													"parameters": {
														"instance-variable": "gunDirectTarget",
														"value": "1"
													}
												}
											],
											"sid": 267267597212963,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "aGame",
															"sid": 352055034897585,
															"parameters": {
																"instance-variable": "autoGun"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "aGame",
															"sid": 847808607384670,
															"parameters": {
																"instance-variable": "ballType",
																"value": "\"target\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "aGame",
															"sid": 645266375612072,
															"parameters": {
																"instance-variable": "ballRange",
																"value": "Functions.targetArea(aGame.ballType)"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "ballAbil",
															"sid": 797333114239489,
															"parameters": {
																"instance-variable": "abilName",
																"value": "aGame.ballType"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "ballAbil",
															"sid": 329323606807877,
															"parameters": {
																"animation": "aGame.ballType",
																"from": "beginning"
															}
														}
													],
													"sid": 325396950494014
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 783768509834058
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 973405352771947,
													"parameters": {
														"group-name": "\"preGun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 519240364921781,
													"parameters": {
														"group-name": "\"gun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 260672301166426,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "activated"
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "base",
													"sid": 125544530511986,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"noBall\""
													}
												}
											],
											"sid": 439259810818627,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "base",
															"sid": 636675661167538,
															"parameters": {
																"instance-variable": "jump"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "instance-signal",
															"objectClass": "base",
															"sid": 327313056856735,
															"parameters": {
																"tag": "\"ballReady\""
															}
														}
													],
													"sid": 838876155129034
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 710958957185378,
													"parameters": {
														"instance-variable": "autoGun"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aGame",
													"sid": 551943057976000,
													"parameters": {
														"instance-variable": "ballType",
														"value": "\"auto\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aGame",
													"sid": 334163017586736,
													"parameters": {
														"instance-variable": "ballRange",
														"value": "Functions.targetArea(aGame.ballType)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballAbil",
													"sid": 769687222157478,
													"parameters": {
														"instance-variable": "abilName",
														"value": "aGame.ballType"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ballAbil",
													"sid": 158038292066364,
													"parameters": {
														"animation": "\"target\"",
														"from": "beginning"
													}
												}
											],
											"sid": 543381289722314
										},
										{
											"eventType": "comment",
											"text": "в режиме прицеливания - ареал дальности снаряда"
										},
										{
											"eventType": "variable",
											"name": "ang",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 736756239689609
										},
										{
											"eventType": "comment",
											"text": "точки, эллипс"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 286664016886800,
													"parameters": {
														"count": "72"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 129560673588413,
													"parameters": {
														"object-to-create": "strok",
														"layer": "\"element\"",
														"x": "Bit.X",
														"y": "Bit.Y",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"type": "comment",
													"text": "Математика из _guard: x = cos(a)*R, y = sin(a)*R*0.5",
													"background-color": [
														0.49,
														0.7,
														0.38,
														1
													]
												},
												{
													"id": "set-position",
													"objectClass": "strok",
													"sid": 169036431781271,
													"parameters": {
														"x": "Bit.X + cos(loopindex * 5) * Functions.targetArea(aGame.ballType)",
														"y": "Bit.Y + sin(loopindex * 5) * Functions.targetArea(aGame.ballType) * 0.5"
													}
												}
											],
											"sid": 686519639542748,
											"disabled": true
										},
										{
											"eventType": "comment",
											"text": "штрихи, эллипс"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 666580100909941,
													"parameters": {
														"count": "36"
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 962537111303518,
													"parameters": {
														"object-to-create": "strok",
														"layer": "\"element\"",
														"x": "Bit.X",
														"y": "Bit.Y",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"type": "comment",
													"text": "Позиция: x = cos(a)*R, y = sin(a)*R*0.5",
													"background-color": [
														0.49,
														0.7,
														0.38,
														1
													]
												},
												{
													"id": "set-position",
													"objectClass": "strok",
													"sid": 433405573642090,
													"parameters": {
														"x": "Bit.X + cos(loopindex * 10) * Functions.targetArea(aGame.ballType)",
														"y": "Bit.Y + sin(loopindex * 10) * Functions.targetArea(aGame.ballType) * 0.5"
													}
												},
												{
													"type": "comment",
													"text": "Угол касательной для штриха",
													"background-color": [
														0.33,
														0.73,
														0.48,
														1
													]
												},
												{
													"id": "set-angle",
													"objectClass": "strok",
													"sid": 429979847296346,
													"parameters": {
														"angle": "angle(0, 0, -sin(loopindex * 10), 0.5 * cos(loopindex * 10))"
													}
												}
											],
											"sid": 548377314779040,
											"disabled": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "отключение"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 289741863513606
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 912311171203572,
											"parameters": {
												"instance-variable": "targetMod"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 608847309176563,
											"disabled": true,
											"parameters": {
												"instance-variable": "mod",
												"comparison": 1,
												"value": "\"noControl\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "targetIcon",
											"sid": 942158460073262,
											"parameters": {
												"animation": "\"single\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 687601351805743,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 752127739296501,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"cursor\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 751031003089309,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 521296962550215,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "aTools.cursorSizeCoeff"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 628673951229916,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 574381874876662,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 915071124783217,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "start-timer",
											"objectClass": "base",
											"sid": 829795090409277,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "5",
												"type": "once",
												"tag": "\"noBall\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 500181039764381,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 982517923741988,
											"parameters": {
												"group-name": "\"ball\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 147689513930136,
											"parameters": {
												"group-name": "\"preGun\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 576021349746889,
											"parameters": {
												"group-name": "\"gun\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 101763434972817,
											"parameters": {
												"group-name": "\"ballTarget\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-position",
											"objectClass": "strok",
											"sid": 943972560643199,
											"parameters": {
												"x": "-1000",
												"y": "-1000"
											}
										}
									],
									"sid": 379784138698085,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 231567850068179,
													"parameters": {
														"instance-variable": "autoGun"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "ballAbil",
													"sid": 738962721866325,
													"parameters": {
														"animation": "\"auto\"",
														"from": "beginning"
													}
												}
											],
											"sid": 180715988639086
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ballShad",
													"sid": 170043187721828,
													"parameters": {
														"instance-variable": "ready"
													}
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "ball",
													"sid": 686957179390959,
													"parameters": {
														"unique-id": "ballShad.ballUID"
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "ballShad",
													"sid": 280426967087066,
													"parameters": {
														"instance-variable": "on",
														"value": "false"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ballShad",
													"sid": 797747712671043,
													"parameters": {
														"instance-variable": "ready",
														"value": "false"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 379484579707231,
													"parameters": {
														"x": "-2222",
														"y": "-22222"
													}
												},
												{
													"id": "unpin",
													"objectClass": "ball",
													"sid": 440507102291155,
													"behaviorType": "Pin"
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ball",
													"sid": 681606990899372,
													"parameters": {
														"instance-variable": "on",
														"value": "false"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ball",
													"sid": 401403879658665,
													"parameters": {
														"x": "-22222",
														"y": "-33333"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "Bit",
													"sid": 596064720672405,
													"parameters": {
														"animation": "\"look2\"",
														"from": "beginning"
													}
												}
											],
											"sid": 411810375544711
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nсигнал холдера на заряд шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "base",
									"sid": 173275364905991,
									"parameters": {
										"tag": "\"ballReady\""
									}
								}
							],
							"actions": [],
							"sid": 329726368145740,
							"children": [
								{
									"eventType": "comment",
									"text": "если шар уже в руке Бита обновляем положение и анимацию"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 429891097228821,
											"parameters": {
												"instance-variable": "ready"
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "ball",
											"sid": 118246525101129,
											"parameters": {
												"unique-id": "ballShad.ballUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 863120342781244,
											"parameters": {
												"animation": "\"ballArm\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ballShad",
											"sid": 540523568915010,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")",
												"y": "base.Y"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 395902351441581,
											"parameters": {
												"animation": "aGame.ballType",
												"from": "beginning"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ball",
											"sid": 141516138850890,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")",
												"y": "Bit.ImagePointY(\"gun\")-30"
											}
										}
									],
									"sid": 638567667597359
								},
								{
									"eventType": "comment",
									"text": "иначе добавляем"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 743802756082656
										},
										{
											"id": "is-outside-layout",
											"objectClass": "ballShad",
											"sid": 544772057060488
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 453844485741202,
											"parameters": {
												"instance-variable": "on"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 754926246190670,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 777265040500112,
													"parameters": {
														"object": "ballShad"
													}
												}
											],
											"actions": [
												{
													"customAction": "heroStop",
													"objectClass": "aIns",
													"sid": 444529178390353,
													"parameters": [
														true
													]
												},
												{
													"id": "set-animation",
													"objectClass": "Bit",
													"sid": 793784893304154,
													"disabled": true,
													"parameters": {
														"animation": "\"dart\"",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "Bit",
													"sid": 845617972776875,
													"parameters": {
														"animation": "\"ballArm\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 297440632073701,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")",
														"y": "base.Y"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 940310803353188,
													"parameters": {
														"animation": "aGame.ballType",
														"from": "beginning"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ball",
													"sid": 713983099837839,
													"disabled": true,
													"parameters": {
														"x": "ballShad.X",
														"y": "Bit.ImagePointY(\"gun\")"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ball",
													"sid": 155947821145169,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")",
														"y": "Bit.ImagePointY(\"gun\")-30"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 294673815282210,
													"parameters": {
														"instance-variable": "ballUID",
														"value": "ball.UID"
													}
												},
												{
													"id": "set-size",
													"objectClass": "ballShad",
													"sid": 329815084191360,
													"parameters": {
														"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
														"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
													}
												},
												{
													"id": "set-opacity",
													"objectClass": "ballShad",
													"sid": 125248766221399,
													"parameters": {
														"opacity": "Self.opac-distance(0,Self.Y,0,ball.Y)/5"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ballShad",
													"sid": 925659362055783,
													"parameters": {
														"instance-variable": "on",
														"value": "true"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 953009073404602,
													"parameters": {
														"instance-variable": "launchHeight",
														"value": "ballShad.Y - Bit.ImagePointY(\"gun\")"
													}
												},
												{
													"id": "move-to-object",
													"objectClass": "ball",
													"sid": 202051563900138,
													"parameters": {
														"where": "in-front",
														"object": "Bit"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ball",
													"sid": 416049934000444,
													"parameters": {
														"instance-variable": "on",
														"value": "true"
													}
												},
												{
													"id": "pin-to-object-properties",
													"objectClass": "ball",
													"sid": 798081152180967,
													"behaviorType": "Pin",
													"parameters": {
														"pin-to": "ballShad",
														"x": true,
														"y": false,
														"angle": false,
														"width-type": "no",
														"height-type": "no",
														"z": false
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 339256238067716,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ballShad",
													"sid": 424358437447796,
													"parameters": {
														"instance-variable": "ready",
														"value": "true"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "Bit",
													"sid": 117819917610035,
													"parameters": {
														"instance-variable": "state",
														"value": "\"stop\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "base",
													"sid": 219654260075112,
													"parameters": {
														"instance-variable": "move",
														"value": "false"
													}
												},
												{
													"id": "stop",
													"objectClass": "base",
													"sid": 342324087518270,
													"behaviorType": "mt"
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 655432385916623,
													"parameters": {
														"instance-variable": "heroState",
														"value": "\"stop\""
													}
												}
											],
											"sid": 763426424375653
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nрежим прицеливания - эффект включения"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-timer-running",
									"objectClass": "aIns",
									"sid": 856457774613677,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"targetModOn\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 123456789012345,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-y",
									"objectClass": "strok",
									"sid": 234567890123456,
									"parameters": {
										"y": "-1000"
									}
								}
							],
							"sid": 192232717364122,
							"children": [
								{
									"eventType": "variable",
									"name": "duration",
									"type": "number",
									"initialValue": "1.4",
									"comment": "Длительность эффекта (сек)",
									"isStatic": false,
									"isConstant": false,
									"sid": 111111111111111
								},
								{
									"eventType": "variable",
									"name": "rotSpeed",
									"type": "number",
									"initialValue": "40",
									"comment": "Скорость вращения (медленно)",
									"isStatic": false,
									"isConstant": false,
									"sid": 222222222222222
								},
								{
									"eventType": "variable",
									"name": "maxScale",
									"type": "number",
									"initialValue": "1.5",
									"comment": "Максимальное увеличение штриха",
									"isStatic": false,
									"isConstant": false,
									"sid": 333333333333333
								},
								{
									"eventType": "variable",
									"name": "t",
									"type": "number",
									"initialValue": "0",
									"comment": "Линейный прогресс (0-1)",
									"isStatic": false,
									"isConstant": false,
									"sid": 789012345678901
								},
								{
									"eventType": "variable",
									"name": "easeT",
									"type": "number",
									"initialValue": "0",
									"comment": "Прогресс по кривой (EaseInOut)",
									"isStatic": false,
									"isConstant": false,
									"sid": 444444444444444
								},
								{
									"eventType": "variable",
									"name": "blend",
									"type": "number",
									"initialValue": "0",
									"comment": "Фактор перехода (последние 20%)",
									"isStatic": false,
									"isConstant": false,
									"sid": 890123456789012
								},
								{
									"eventType": "variable",
									"name": "mouseA",
									"type": "number",
									"initialValue": "0",
									"comment": "Угол на мышь",
									"isStatic": false,
									"isConstant": false,
									"sid": 901234567890123
								},
								{
									"eventType": "variable",
									"name": "i",
									"type": "number",
									"initialValue": "0",
									"comment": "Индекс цикла",
									"isStatic": false,
									"isConstant": false,
									"sid": 345678901234567
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 456789012345678,
											"parameters": {
												"variable": "t",
												"value": "clamp(aIns.Timer.CurrentTime(\"targetModOn\") / duration, 0, 1)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 555555555555555,
											"parameters": {
												"variable": "easeT",
												"value": "(1 - cos(t * 180)) / 2"
											}
										},
										{
											"type": "comment",
											"text": "Переход начинается с 80% времени (t > 0.8). Множитель 5 растягивает остаток 0.2 до 1.0.",
											"background-color": [
												0.49,
												0.7,
												0.38,
												1
											]
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 470201441146873,
											"parameters": {
												"variable": "blend",
												"value": "clamp((t - 0.4) * 5, 0, 1)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 678901234567890,
											"parameters": {
												"variable": "mouseA",
												"value": "angle(base.X, base.Y, Mouse.X, Mouse.Y)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 789012345678901,
											"parameters": {
												"variable": "i",
												"value": "0"
											}
										}
									],
									"sid": 417081511747455,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "System",
													"sid": 890123456789012,
													"parameters": {
														"object": "strok"
													}
												}
											],
											"actions": [],
											"sid": 901234567890123,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 123450987654321,
															"parameters": {
																"variable": "i",
																"comparison": 2,
																"value": "30"
															}
														}
													],
													"actions": [
														{
															"type": "comment",
															"text": "Смешиваем вращение и финальную позицию. Радиус растет по кривой easeT.",
															"background-color": [
																0.49,
																0.7,
																0.38,
																1
															]
														},
														{
															"id": "set-position",
															"objectClass": "strok",
															"sid": 234561098765432,
															"parameters": {
																"x": "base.X + cos(anglelerp((i * 12) + (t * rotSpeed), mouseA - 58 + (i * 4), blend)) * (aGame.ballRange * easeT)",
																"y": "base.Y + sin(anglelerp((i * 12) + (t * rotSpeed), mouseA - 58 + (i * 4), blend)) * (aGame.ballRange * easeT) * 0.5"
															}
														},
														{
															"id": "set-angle",
															"objectClass": "strok",
															"sid": 345671234567890,
															"parameters": {
																"angle": "angle(0, 0, -sin(anglelerp((i * 12) + (t * rotSpeed), mouseA - 58 + (i * 4), blend)), 0.5 * cos(anglelerp((i * 12) + (t * rotSpeed), mouseA - 58 + (i * 4), blend)))"
															}
														},
														{
															"id": "set-opacity",
															"objectClass": "strok",
															"sid": 456781234567890,
															"parameters": {
																"opacity": "100"
															}
														},
														{
															"id": "set-scale",
															"objectClass": "strok",
															"sid": 567891234567890,
															"parameters": {
																"scale": "1 + (easeT * (maxScale - 1)) * (1 - blend)"
															}
														},
														{
															"id": "add-to-eventvar",
															"objectClass": "System",
															"sid": 678901234567890,
															"parameters": {
																"variable": "i",
																"value": "1"
															}
														}
													],
													"sid": 789012345678901
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 890123456789012
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "strok",
															"sid": 901234567890123,
															"parameters": {
																"x": "-1000",
																"y": "-1000"
															}
														}
													],
													"sid": 123456789012345
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nрежим прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 895033448251863,
									"parameters": {
										"instance-variable": "targetMod"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 434610694806696,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 659717078712226,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "is-group-active",
									"objectClass": "System",
									"sid": 932461207722906,
									"parameters": {
										"group-name": "\"holder\""
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 112007515644410,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 733042560471721,
											"parameters": {
												"interval-seconds": "0.1"
											}
										}
									],
									"actions": [],
									"sid": 900461148347898,
									"children": [
										{
											"eventType": "comment",
											"text": "прицел курсора"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 670882252331319,
													"parameters": {
														"object": "peel"
													},
													"isInverted": true
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 368993085948798,
													"parameters": {
														"object": "cocobutton"
													},
													"isInverted": true
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 573737786883791,
													"parameters": {
														"object": "targetIcon"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 238416164730908,
											"children": [
												{
													"eventType": "comment",
													"text": ""
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "cursor-is-over-object",
															"objectClass": "Mouse",
															"sid": 778764295109726,
															"parameters": {
																"object": "point"
															}
														},
														{
															"id": "cursor-is-over-object",
															"objectClass": "Mouse",
															"sid": 252127457186961,
															"parameters": {
																"object": "map"
															}
														}
													],
													"actions": [],
													"sid": 863869624528483,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "point",
																	"sid": 840089083019028,
																	"parameters": {
																		"instance-variable": "ballTarget"
																	}
																},
																{
																	"id": "is-boolean-instance-variable-set",
																	"objectClass": "map",
																	"sid": 566643929394099,
																	"parameters": {
																		"instance-variable": "ball"
																	}
																}
															],
															"actions": [],
															"sid": 621192057753127,
															"children": [
																{
																	"eventType": "comment",
																	"text": "определение ареала прицеливания через обратное преобразование"
																},
																{
																	"eventType": "variable",
																	"name": "ang",
																	"type": "number",
																	"initialValue": "0",
																	"comment": "",
																	"isStatic": false,
																	"isConstant": false,
																	"sid": 825927148329237
																},
																{
																	"eventType": "variable",
																	"name": "bIso",
																	"type": "number",
																	"initialValue": "0",
																	"comment": "",
																	"isStatic": false,
																	"isConstant": false,
																	"sid": 743123557136441
																},
																{
																	"eventType": "block",
																	"conditions": [],
																	"actions": [
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 312475349488324,
																			"parameters": {
																				"variable": "ang",
																				"value": "round(angle(base.X,base.Y,Mouse.X,Mouse.Y)-360*floor(angle(base.X,base.Y,Mouse.X,Mouse.Y)/360))"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "aGame",
																			"sid": 212819534350213,
																			"parameters": {
																				"instance-variable": "mouseDist",
																				"value": "Functions.getIsoDist (base.X,base.Y,Mouse.X,Mouse.Y)"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 944070437776371,
																			"disabled": true,
																			"parameters": {
																				"variable": "bIso",
																				"value": "Functions.getIsoArray(ang)*aGame.ballRange"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 213609473252089,
																			"disabled": true,
																			"parameters": {
																				"variable": "bIso",
																				"value": "1/sqrt((sin(ang)/aGame.ballRIso)^2+(cos(ang)/aGame.ballRange)^2)"
																			}
																		},
																		{
																			"id": "set-eventvar-value",
																			"objectClass": "System",
																			"sid": 255915835416860,
																			"disabled": true,
																			"parameters": {
																				"variable": "bIso",
																				"value": "aGame.activeFruit=\"cucu\"?bIso*2:bIso"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "aGame",
																			"sid": 790714542812126,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "ballLong",
																				"value": "bIso"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "aGame",
																			"sid": 335550426111583,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "ballLong",
																				"value": "clamp(Functions.getIsoDist (base.X,base.Y,Mouse.X,Mouse.Y),120,bIso)"
																			}
																		}
																	],
																	"sid": 275307306736861
																},
																{
																	"eventType": "comment",
																	"text": "если в зоне - курсор прицеливания, поворот гг к курсору "
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "aGame",
																			"sid": 550323577536696,
																			"parameters": {
																				"instance-variable": "mouseDist",
																				"comparison": 3,
																				"value": "aGame.ballRange"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "callselffunction0",
																			"objectClass": "base",
																			"sid": 948614408537187,
																			"behaviorType": "sf",
																			"parameters": {
																				"function_name:0": "\"rotateToMouse\""
																			}
																		}
																	],
																	"sid": 745684130112449,
																	"children": [
																		{
																			"eventType": "comment",
																			"text": "противник"
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "is-boolean-instance-variable-set",
																					"objectClass": "point",
																					"sid": 239028537299381,
																					"parameters": {
																						"instance-variable": "ballTarget"
																					}
																				},
																				{
																					"id": "is-animation-playing",
																					"objectClass": "cursor",
																					"sid": 363410255056258,
																					"parameters": {
																						"animation": "\"click\""
																					},
																					"isInverted": true
																				}
																			],
																			"actions": [
																				{
																					"id": "set-animation",
																					"objectClass": "cursor",
																					"sid": 442285897756302,
																					"parameters": {
																						"animation": "\"ball\"",
																						"from": "current-frame"
																					}
																				},
																				{
																					"id": "set-instvar-value",
																					"objectClass": "cursor",
																					"sid": 825786453403925,
																					"disabled": true,
																					"parameters": {
																						"instance-variable": "canimation",
																						"value": "\"target\""
																					}
																				},
																				{
																					"id": "monitorstr1",
																					"objectClass": "vm",
																					"sid": 897595077997531,
																					"disabled": true,
																					"parameters": {
																						"tag0": "\"cursor\"",
																						"string1": "cursor.canimation"
																					}
																				}
																			],
																			"sid": 570703962989268
																		},
																		{
																			"eventType": "comment",
																			"text": "земля"
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 434297854572015
																				},
																				{
																					"id": "is-boolean-instance-variable-set",
																					"objectClass": "map",
																					"sid": 536614160031613,
																					"parameters": {
																						"instance-variable": "ball"
																					}
																				}
																			],
																			"actions": [],
																			"sid": 401296237774327,
																			"children": [
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "is-boolean-instance-variable-set",
																							"objectClass": "aGame",
																							"sid": 785645280754720,
																							"parameters": {
																								"instance-variable": "snowBall"
																							}
																						},
																						{
																							"id": "is-animation-playing",
																							"objectClass": "cursor",
																							"sid": 245236500186544,
																							"parameters": {
																								"animation": "\"click\""
																							},
																							"isInverted": true
																						}
																					],
																					"actions": [
																						{
																							"id": "set-animation",
																							"objectClass": "cursor",
																							"sid": 100567939402236,
																							"parameters": {
																								"animation": "\"targetS\"",
																								"from": "current-frame"
																							}
																						},
																						{
																							"id": "set-instvar-value",
																							"objectClass": "cursor",
																							"sid": 590378105107807,
																							"disabled": true,
																							"parameters": {
																								"instance-variable": "canimation",
																								"value": "\"targetStop\""
																							}
																						},
																						{
																							"id": "monitorstr1",
																							"objectClass": "vm",
																							"sid": 382895262952844,
																							"disabled": true,
																							"parameters": {
																								"tag0": "\"cursor\"",
																								"string1": "cursor.canimation"
																							}
																						}
																					],
																					"sid": 593556631971107
																				},
																				{
																					"eventType": "block",
																					"conditions": [
																						{
																							"id": "else",
																							"objectClass": "System",
																							"sid": 780640513933963
																						},
																						{
																							"id": "is-animation-playing",
																							"objectClass": "cursor",
																							"sid": 279323663392935,
																							"parameters": {
																								"animation": "\"click\""
																							},
																							"isInverted": true
																						}
																					],
																					"actions": [
																						{
																							"id": "set-animation",
																							"objectClass": "cursor",
																							"sid": 676437879050528,
																							"parameters": {
																								"animation": "\"target\"",
																								"from": "current-frame"
																							}
																						}
																					],
																					"sid": 100084132271847
																				}
																			]
																		},
																		{
																			"eventType": "comment",
																			"text": "если курсор в зоне, но стрелять по объекту нельзя"
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 412903304935231
																				},
																				{
																					"id": "is-animation-playing",
																					"objectClass": "cursor",
																					"sid": 789478432820472,
																					"parameters": {
																						"animation": "\"click\""
																					},
																					"isInverted": true
																				}
																			],
																			"actions": [
																				{
																					"id": "set-animation",
																					"objectClass": "cursor",
																					"sid": 135522489520311,
																					"parameters": {
																						"animation": "\"targetBlock\"",
																						"from": "current-frame"
																					}
																				},
																				{
																					"id": "set-instvar-value",
																					"objectClass": "cursor",
																					"sid": 133022087267614,
																					"parameters": {
																						"instance-variable": "canimation",
																						"value": "\"targetBlock\""
																					}
																				},
																				{
																					"id": "monitorstr1",
																					"objectClass": "vm",
																					"sid": 650909119783103,
																					"parameters": {
																						"tag0": "\"cursor\"",
																						"string1": "cursor.canimation"
																					}
																				}
																			],
																			"sid": 426480376590697
																		}
																	]
																},
																{
																	"eventType": "comment",
																	"text": "если курсор вне зоны"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 239277361631911
																		},
																		{
																			"id": "is-animation-playing",
																			"objectClass": "cursor",
																			"sid": 304503286315644,
																			"parameters": {
																				"animation": "\"click\""
																			},
																			"isInverted": true
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 844338628091978,
																			"parameters": {
																				"animation": "\"targetNot\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 971478904355775,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"targetNot\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 347901154494864,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 866729398415031
																}
															],
															"isOrBlock": true
														},
														{
															"eventType": "comment",
															"text": "нельзя стрелять по объекту"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 875954173246919
																},
																{
																	"id": "is-animation-playing",
																	"objectClass": "cursor",
																	"sid": 874721538008889,
																	"parameters": {
																		"animation": "\"click\""
																	},
																	"isInverted": true
																}
															],
															"actions": [
																{
																	"id": "set-animation",
																	"objectClass": "cursor",
																	"sid": 235280770040720,
																	"parameters": {
																		"animation": "\"targetBlock\"",
																		"from": "current-frame"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "cursor",
																	"sid": 827087992370983,
																	"parameters": {
																		"instance-variable": "canimation",
																		"value": "\"targetBlock\""
																	}
																},
																{
																	"id": "monitorstr1",
																	"objectClass": "vm",
																	"sid": 704962195213158,
																	"parameters": {
																		"tag0": "\"cursor\"",
																		"string1": "cursor.canimation"
																	}
																}
															],
															"sid": 881317460623316
														}
													],
													"isOrBlock": true
												},
												{
													"eventType": "comment",
													"text": "курсор над пустотой"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 479800629650307
														},
														{
															"id": "is-animation-playing",
															"objectClass": "cursor",
															"sid": 512983169992585,
															"parameters": {
																"animation": "\"click\""
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-animation",
															"objectClass": "cursor",
															"sid": 299599537568940,
															"parameters": {
																"animation": "\"targetBlock\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "cursor",
															"sid": 905658430236391,
															"parameters": {
																"instance-variable": "canimation",
																"value": "\"targetBlock\""
															}
														},
														{
															"id": "monitorstr1",
															"objectClass": "vm",
															"sid": 172572670064492,
															"parameters": {
																"tag0": "\"cursor\"",
																"string1": "cursor.canimation"
															}
														}
													],
													"sid": 642826555594810
												}
											]
										},
										{
											"eventType": "comment",
											"text": "дуга дальности атаки"
										},
										{
											"eventType": "variable",
											"name": "centerang",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 800971626755733
										},
										{
											"eventType": "variable",
											"name": "currentang",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 741823636053751
										},
										{
											"eventType": "variable",
											"name": "subY",
											"type": "number",
											"initialValue": "0",
											"comment": "",
											"isStatic": false,
											"isConstant": false,
											"sid": 512121814248553
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "aIns",
													"sid": 174102182570890,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"targetModOn\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-y",
													"objectClass": "strok",
													"sid": 151014132971616,
													"parameters": {
														"y": "-1000"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 569050817124765,
													"parameters": {
														"variable": "centerang",
														"value": "angle(base.X, base.Y, Mouse.X, Mouse.Y)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 306665098814916,
													"parameters": {
														"variable": "subY",
														"value": "aGame.ballType=\"target\"|aGame.ballType=\"auto\"?20:0"
													}
												}
											],
											"sid": 887799418989499,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for",
															"objectClass": "System",
															"sid": 998686333122067,
															"parameters": {
																"name": "\"arc\"",
																"start-index": "0",
																"end-index": "29"
															}
														}
													],
													"actions": [],
													"sid": 523254532261126,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-y",
																	"objectClass": "strok",
																	"sid": 191209854489960,
																	"parameters": {
																		"comparison": 2,
																		"y-co-ordinate": "0"
																	}
																},
																{
																	"id": "pick-random-instance",
																	"objectClass": "System",
																	"sid": 987199337647370,
																	"parameters": {
																		"object": "strok"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 717933438540251,
																	"parameters": {
																		"variable": "currentang",
																		"value": "centerang - 58 + (loopindex(\"arc\") * 4)"
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "strok",
																	"sid": 650831497556112,
																	"parameters": {
																		"x": "base.X + cos(currentang) * aGame.ballRange",
																		"y": "base.Y-subY + sin(currentang) * aGame.ballRange * 0.5"
																	}
																},
																{
																	"id": "set-position",
																	"objectClass": "strok",
																	"sid": 543633404886422,
																	"disabled": true,
																	"parameters": {
																		"x": "base.X + cos(currentang) * Functions.targetArea(aGame.ballType)",
																		"y": "base.Y + sin(currentang) * Functions.targetArea(aGame.ballType) * 0.5"
																	}
																},
																{
																	"id": "set-angle",
																	"objectClass": "strok",
																	"sid": 679016210524094,
																	"parameters": {
																		"angle": "angle(0, 0, -sin(currentang), 0.5 * cos(currentang))"
																	}
																},
																{
																	"id": "set-opacity",
																	"objectClass": "strok",
																	"sid": 843302800294849,
																	"parameters": {
																		"opacity": "min(loopindex(\"arc\") * 10, (29 - loopindex(\"arc\")) * 10, 100)"
																	}
																}
															],
															"sid": 555995526719370
														}
													]
												}
											]
										},
										{
											"eventType": "comment",
											"text": "в начале режима прицеливания Бит держит текущий снаряд"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ballShad",
													"sid": 923240547906597,
													"parameters": {
														"instance-variable": "ready"
													}
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "ball",
													"sid": 833966047027380,
													"parameters": {
														"unique-id": "ballShad.ballUID"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "Bit",
													"sid": 343898061794690,
													"parameters": {
														"animation": "\"ballArm\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 183291762608269,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")",
														"y": "base.Y"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 476241015166442,
													"parameters": {
														"animation": "aGame.ballType",
														"from": "beginning"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ball",
													"sid": 371228053531182,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")",
														"y": "Bit.ImagePointY(\"gun\")-30"
													}
												}
											],
											"sid": 625585013685825
										}
									]
								},
								{
									"eventType": "comment",
									"text": "\n\n способы отключения режима прицеливания\n"
								},
								{
									"eventType": "comment",
									"text": "клик над панелями"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-any-click",
											"objectClass": "Mouse",
											"sid": 681805028940050
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 642594184054737,
											"parameters": {
												"object": "peel"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 170016034512889,
											"parameters": {
												"object": "invSecTB"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 926342368402070,
											"parameters": {
												"object": "inventory"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 183161626297114,
											"parameters": {
												"object": "invSecR"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 202233630882958,
											"parameters": {
												"object": "indSecSet"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 905696301787310,
											"disabled": true,
											"parameters": {
												"object": "buttFruits"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 925326402120084,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 732611712475994,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 133148661278489,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 719538854854462,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"inventory\""
													}
												}
											],
											"actions": [
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 479664695755743,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												}
											],
											"sid": 953858037681515,
											"isOrBlock": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "навигация над панелью, открывание способностей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onselffunction0",
											"objectClass": "inventory",
											"sid": 239734052139859,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 704662815759499,
											"parameters": {
												"key": 27
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 387496284014865,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 485420823035709,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 516245238221569,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 396253208364136,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "при правом клике"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 630108026785645,
											"parameters": {
												"mouse-button": "right",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 220918856716673,
											"parameters": {
												"mouse-button": "middle",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 733525983361647,
											"parameters": {
												"mouse-button": "button-4",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 150579842688096,
											"parameters": {
												"mouse-button": "button-5",
												"click-type": "clicked"
											}
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 965657320581773,
											"parameters": {
												"seconds": "0.3",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 647566289497083,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										}
									],
									"sid": 138337950337394,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nфункция отключения режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "cursor",
									"sid": 721587205982259,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"endBallTarget\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 538705464274271,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "targetIcon",
									"sid": 204116039584637,
									"parameters": {
										"animation": "\"single\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 558065000087534,
									"parameters": {
										"instance-variable": "targetMod",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aTools",
									"sid": 261173402033815,
									"parameters": {
										"instance-variable": "mouseState",
										"value": "\"cursor\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 843662916442963,
									"disabled": true,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "0.8"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 356062135870277,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "aTools.cursorSizeCoeff"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 127609707295972,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"resize\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 665585848974724,
									"parameters": {
										"instance-variable": "canimation",
										"value": "\"targetEnd\""
									}
								},
								{
									"id": "monitorstr1",
									"objectClass": "vm",
									"sid": 381243515268557,
									"parameters": {
										"tag0": "\"cursor\"",
										"string1": "cursor.canimation"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "base",
									"sid": 645766824346033,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "5",
										"type": "once",
										"tag": "\"noBall\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 884421328481771,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 282414998534419,
									"disabled": true,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 171792330566688,
									"parameters": {
										"group-name": "\"preGun\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 544191320401470,
									"parameters": {
										"group-name": "\"gun\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 599009893352686,
									"parameters": {
										"group-name": "\"ballTarget\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-position",
									"objectClass": "strok",
									"sid": 462689918755293,
									"parameters": {
										"x": "-1000",
										"y": "-1000"
									}
								}
							],
							"sid": 491676849080919,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 346362921507548,
											"parameters": {
												"instance-variable": "autoGun"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "ballAbil",
											"sid": 425624521131473,
											"parameters": {
												"animation": "\"auto\"",
												"from": "beginning"
											}
										}
									],
									"sid": 819353886323362
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 215169099491605,
											"parameters": {
												"instance-variable": "ready"
											}
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "ball",
											"sid": 846053060553062,
											"parameters": {
												"unique-id": "ballShad.ballUID"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "ballShad",
											"sid": 451633775371861,
											"parameters": {
												"instance-variable": "on",
												"value": "false"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ballShad",
											"sid": 914129103362403,
											"parameters": {
												"instance-variable": "ready",
												"value": "false"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ballShad",
											"sid": 764838750468259,
											"parameters": {
												"x": "-2222",
												"y": "-22222"
											}
										},
										{
											"id": "unpin",
											"objectClass": "ball",
											"sid": 641521098490261,
											"behaviorType": "Pin"
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 737218052881245,
											"parameters": {
												"instance-variable": "on",
												"value": "false"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ball",
											"sid": 580012830999807,
											"parameters": {
												"x": "-22222",
												"y": "-33333"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 936792567712788,
											"parameters": {
												"animation": "\"look2\"",
												"from": "beginning"
											}
										}
									],
									"sid": 592404606168635
								}
							]
						},
						{
							"eventType": "comment",
							"text": "реакция курсора на бросок левой кнопкой мыши в режиме прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "cursor",
									"sid": 709386862136635,
									"parameters": {
										"animation": "\"click\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 799470248841043,
									"parameters": {
										"animation": "\"target\"",
										"from": "beginning"
									}
								}
							],
							"sid": 769377642670234
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-click",
									"objectClass": "Mouse",
									"sid": 147037002865813,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked"
									}
								},
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 921728928006124,
									"parameters": {
										"key": 32
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 251140534083823,
									"parameters": {
										"animation": "\"click\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 853720641850095,
									"disabled": true,
									"parameters": {
										"instance-variable": "canimation",
										"value": "\"click\""
									}
								},
								{
									"id": "monitorstr1",
									"objectClass": "vm",
									"sid": 284984055424668,
									"disabled": true,
									"parameters": {
										"tag0": "\"cursor\"",
										"string1": "cursor.canimation"
									}
								}
							],
							"sid": 442765562844275,
							"isOrBlock": true
						}
					],
					"sid": 715237644369189
				},
				{
					"eventType": "comment",
					"text": "\n\n\n    метание шара\n",
					"text-color": [
						1,
						1,
						1,
						1
					],
					"background-color": [
						0.2784313725490196,
						0.2980392156862745,
						0.8196078431372549,
						1
					]
				},
				{
					"eventType": "comment",
					"text": "выполнение броска",
					"text-color": [
						1,
						1,
						1,
						1
					],
					"background-color": [
						0.2784313725490196,
						0.2980392156862745,
						0.8196078431372549,
						1
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ball",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\n\n1/sqrt((sin(Sprite.Angle)/(a*ISO))^2+(cos(Sprite.Angle)/a)^2)",
							"background-color": [
								0.7450980392156863,
								0.7725490196078432,
								0.996078431372549,
								1
							]
						},
						{
							"functionName": "ball",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "mod",
									"type": "string",
									"initialValue": "key",
									"comment": "",
									"sid": 593737115746509
								},
								{
									"name": "xx",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 944895576236769
								},
								{
									"name": "yy",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 439229489852964
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 152954221114063,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "base",
									"sid": 925874511200340,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"ballOut\""
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 793889939752406,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aMico",
									"sid": 646988372748211,
									"parameters": {
										"instance-variable": "BitSpiky",
										"comparison": 2,
										"value": "25"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 854220006739930,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 1,
										"value": "\"noControl\""
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 402020901482689,
									"disabled": true,
									"parameters": {
										"text": "\"L\""
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "base",
									"sid": 541659446823307,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"type": "comment",
									"text": "! нужно добавить энергозатраты"
								}
							],
							"sid": 267360661643866,
							"children": [
								{
									"eventType": "comment",
									"text": "поворот героя к курсору",
									"background-color": [
										0.7450980392156863,
										0.7725490196078432,
										0.996078431372549,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "base",
											"sid": 890159130370623,
											"parameters": {
												"instance-variable": "task",
												"value": "\"ball\""
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "base",
											"sid": 769476510222551,
											"parameters": {
												"instance-variable": "ballAttack",
												"value": "true"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "base",
											"sid": 973044478407448,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 886796318188157,
											"disabled": true,
											"parameters": [
												"base.directNumbers=8? \"ball\"&(base.direct=3 ? 1 : base.direct=4 ? 0 : base.direct=5 ? 7 : base.direct) : base.directNumbers=6? \"ball\" & (base.direct=2 ? 1 : base.direct=3 ? 0 : base.direct=4 ? 5 : base.direct) :  \"ball1\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"base.move=1?24:12",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 259180443800400,
											"disabled": true,
											"parameters": [
												"\"dart\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"30",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 748662515384485,
											"disabled": true,
											"parameters": {
												"animation": "\"swirl\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 416457357165969,
											"parameters": {
												"animation": "\"dart\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 807400958604401,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "2"
											}
										},
										{
											"id": "start-animation",
											"objectClass": "Bit",
											"sid": 460032823607919,
											"parameters": {
												"from": "beginning"
											}
										}
									],
									"sid": 269427121756505
								},
								{
									"eventType": "comment",
									"text": "если не режим прицеливания",
									"background-color": [
										0.7450980392156863,
										0.7725490196078432,
										0.996078431372549,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 990723502581525,
											"parameters": {
												"variable": "mod",
												"comparison": 1,
												"value": "\"targetBall\""
											}
										}
									],
									"actions": [],
									"sid": 454024102544268,
									"children": [
										{
											"eventType": "comment",
											"text": "если цель законная",
											"background-color": [
												0.7450980392156863,
												0.7725490196078432,
												0.996078431372549,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 625285267586518,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "point",
													"sid": 475934798102895,
													"parameters": {
														"instance-variable": "ballTarget"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 125969654119513,
													"parameters": {
														"variable": "xx",
														"value": "point.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 280609986804886,
													"parameters": {
														"variable": "yy",
														"value": "point.Y"
													}
												}
											],
											"sid": 326810080123131,
											"children": [
												{
													"eventType": "comment",
													"text": "поворот гг к курсору",
													"background-color": [
														0.7450980392156863,
														0.7725490196078432,
														0.996078431372549,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 857483110416368,
															"parameters": {
																"key": 32
															},
															"isInverted": true
														},
														{
															"id": "mouse-button-is-down",
															"objectClass": "Mouse",
															"sid": 630599611090475,
															"parameters": {
																"mouse-button": "middle"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "callselffunction0",
															"objectClass": "base",
															"sid": 566184100879899,
															"behaviorType": "sf",
															"parameters": {
																"function_name:0": "\"rotateToMouse\""
															}
														},
														{
															"customAction": "anim",
															"objectClass": "aaa",
															"sid": 234499402735641,
															"disabled": true,
															"parameters": [
																"base.directNumbers=8? \"ball\"&(base.direct=3 ? 1 : base.direct=4 ? 0 : base.direct=5 ? 7 : base.direct) : base.directNumbers=6? \"ball\" & (base.direct=2 ? 1 : base.direct=3 ? 0 : base.direct=4 ? 5 : base.direct) :  \"ball1\"",
																"2",
																"0",
																"\"zero\"",
																false,
																false,
																"\"Bit\"",
																"base.move=1?24:12",
																"0",
																true,
																"\"zero\""
															]
														},
														{
															"customAction": "anim",
															"objectClass": "aaa",
															"sid": 119713197569119,
															"disabled": true,
															"parameters": [
																"\"dart\"",
																"2",
																"0",
																"\"zero\"",
																false,
																false,
																"\"Bit\"",
																"30",
																"0",
																true,
																"\"zero\""
															]
														},
														{
															"id": "set-animation",
															"objectClass": "Bit",
															"sid": 881115001215919,
															"disabled": true,
															"parameters": {
																"animation": "\"swirl\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "Bit",
															"sid": 699217501093296,
															"parameters": {
																"animation": "\"dart\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Bit",
															"sid": 103633103490173,
															"parameters": {
																"instance-variable": "animPriority",
																"value": "2"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "Bit",
															"sid": 688640451624901,
															"parameters": {
																"from": "beginning"
															}
														}
													],
													"sid": 749316596332799
												}
											]
										},
										{
											"eventType": "comment",
											"text": "координаты для броска - мышь",
											"background-color": [
												0.7450980392156863,
												0.7725490196078432,
												0.996078431372549,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 657199555334542
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 926120571277032,
													"parameters": {
														"variable": "xx",
														"value": "Mouse.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 838878774614263,
													"parameters": {
														"variable": "yy",
														"value": "Mouse.Y"
													}
												}
											],
											"sid": 128196801987210
										}
									]
								},
								{
									"eventType": "comment",
									"text": "определение отзеркаливания гг",
									"background-color": [
										0.7450980392156863,
										0.7725490196078432,
										0.996078431372549,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "Bit",
											"sid": 170232442286677,
											"parameters": {
												"state": "not-mirrored"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 145013505749554,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "base",
											"sid": 941765077984458,
											"parameters": {
												"instance-variable": "task",
												"value": "\"zero\""
											}
										}
									],
									"sid": 193959242710391
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 765433659500358,
											"parameters": {
												"value": "base.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "Bit",
											"sid": 330355263851124,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 519010883480254
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 296044953820829,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "2"
											}
										},
										{
											"id": "compare-x",
											"objectClass": "base",
											"sid": 800243153469294,
											"parameters": {
												"comparison": 4,
												"x-co-ordinate": "Mouse.X"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "Bit",
											"sid": 770534176279096,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 831832433569413
								},
								{
									"eventType": "comment",
									"text": "\n\nвыбор шара",
									"background-color": [
										0.7450980392156863,
										0.7725490196078432,
										0.996078431372549,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 821799296950013,
											"parameters": {
												"instance-variable": "ready"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "ballShad",
											"sid": 158708910065611,
											"parameters": {
												"instance-variable": "ready",
												"value": "false"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ballShad",
											"sid": 388838535399704,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")",
												"y": "base.Y"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ball",
											"sid": 469789803588557,
											"parameters": {
												"x": "ballShad.X",
												"y": "Bit.ImagePointY(\"gun\")"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 545852721345360,
											"parameters": {
												"instance-variable": "launchHeight",
												"value": "ballShad.Y - Bit.ImagePointY(\"gun\")"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 599762152251288,
											"parameters": {
												"animation": "aGame.ballType",
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 804772199891276,
											"parameters": {
												"instance-variable": "xx",
												"value": "xx"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 119599298402352,
											"parameters": {
												"instance-variable": "yy",
												"value": "yy"
											}
										},
										{
											"id": "stop-timer",
											"objectClass": "basis",
											"sid": 807386365969263,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"noBall\""
											}
										},
										{
											"id": "instance-signal",
											"objectClass": "ball",
											"sid": 412169453922405,
											"parameters": {
												"tag": "\"fast\""
											}
										}
									],
									"sid": 127134084354486
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 911872238461420
										},
										{
											"id": "is-outside-layout",
											"objectClass": "ballShad",
											"sid": 352960288809557
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 459066793614101,
											"parameters": {
												"instance-variable": "on"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 119296523016509,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 155828875156418,
													"parameters": {
														"object": "ballShad"
													}
												},
												{
													"id": "pick-nearestfurthest",
													"objectClass": "ballShad",
													"sid": 554878707892960,
													"disabled": true,
													"parameters": {
														"which": "nearest",
														"x": "Bit.X",
														"y": "Bit.Y"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "jumper",
													"sid": 375035342687206,
													"parameters": {
														"instance-variable": "name",
														"comparison": 0,
														"value": "\"Bit\""
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 759625841705735,
													"disabled": true,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")",
														"y": "base.direct=2?base.Y+20: base.direct=1|base.direct=3?base.Y+10:base.direct>4?base.Y-10:base.Y+1"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ballShad",
													"sid": 840009390216829,
													"parameters": {
														"instance-variable": "on",
														"value": "true"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 312865827407883,
													"parameters": {
														"instance-variable": "dart",
														"value": "aGame.ballType"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "ballShad",
													"sid": 138800572279940,
													"parameters": {
														"angle": "0"
													}
												},
												{
													"id": "set-opacity",
													"objectClass": "ballShad",
													"sid": 996720380919950,
													"parameters": {
														"opacity": "Self.opac"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "ball",
													"sid": 520305284213720,
													"parameters": {
														"scale": "0.75"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "ball",
													"sid": 340498778533293,
													"disabled": true,
													"parameters": {
														"scale": "0.55"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "ball",
													"sid": 534565965754489,
													"disabled": true,
													"parameters": {
														"scale": "aBook.heroScaleCoeff*1.5"
													}
												},
												{
													"id": "set-size",
													"objectClass": "ball",
													"sid": 355036623451799,
													"disabled": true,
													"parameters": {
														"width": "Self.ImageWidth*aBook.heroScaleCoeff*1.5",
														"height": "Self.ImageHeight*aBook.heroScaleCoeff*1.5"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "ball",
													"sid": 764204992301827,
													"parameters": {
														"angle": "0"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 240170359926034,
													"disabled": true,
													"parameters": {
														"animation": "aUI.aBallName",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 450932388144193,
													"parameters": {
														"animation": "aGame.ballType",
														"from": "beginning"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 841081059096226,
													"parameters": {
														"instance-variable": "ballUID",
														"value": "ball.UID"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 490128100921690,
													"parameters": {
														"instance-variable": "xx",
														"value": "xx"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 266738803614511,
													"parameters": {
														"instance-variable": "yy",
														"value": "yy"
													}
												},
												{
													"id": "set-x",
													"objectClass": "ballShad",
													"sid": 901630950017723,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ballShad",
													"sid": 543086042924747,
													"parameters": {
														"y": "base.Y- (jumper.Y - Bit.ImagePointY(\"gun\"))"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ball",
													"sid": 437622151250174,
													"parameters": {
														"x": "ballShad.X",
														"y": "Bit.ImagePointY(\"gun\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 722598248529195,
													"parameters": {
														"instance-variable": "launchHeight",
														"value": "ballShad.Y - Bit.ImagePointY(\"gun\")"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ball",
													"sid": 576339126811880,
													"parameters": {
														"instance-variable": "on",
														"value": "true"
													}
												},
												{
													"id": "pin-to-object-properties",
													"objectClass": "ball",
													"sid": 596160839375281,
													"behaviorType": "Pin",
													"parameters": {
														"pin-to": "ballShad",
														"x": true,
														"y": false,
														"angle": false,
														"width-type": "no",
														"height-type": "no",
														"z": false
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 917084621819292,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												},
												{
													"id": "set-enabled",
													"objectClass": "ball",
													"sid": 193307374960617,
													"behaviorType": "Tween",
													"parameters": {
														"mode": "enabled"
													}
												},
												{
													"id": "tween-value",
													"objectClass": "ball",
													"sid": 558428179377011,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"dart\"",
														"start-value": "0",
														"end-value": "1",
														"time": "0.26",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 573497021230395,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "base",
															"sid": 194760906739309,
															"parameters": {
																"instance-variable": "jump"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "Bit",
															"sid": 929774797472226,
															"parameters": {
																"instance-variable": "state",
																"value": "\"stop\""
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "base",
															"sid": 108953203157128,
															"parameters": {
																"instance-variable": "move",
																"value": "false"
															}
														},
														{
															"id": "stop",
															"objectClass": "base",
															"sid": 697461070515461,
															"behaviorType": "mt"
														},
														{
															"id": "set-instvar-value",
															"objectClass": "aBook",
															"sid": 911010804712133,
															"parameters": {
																"instance-variable": "heroState",
																"value": "\"stop\""
															}
														}
													],
													"sid": 588148164948883
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nметает снаряд в очереди",
							"background-color": [
								0.9098039215686274,
								0.8352941176470589,
								0.6705882352941176,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 229587224188457,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"ballOut\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 273432558864880,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 291547421223764,
									"parameters": {
										"instance-variable": "nextBall"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 761144409413871,
									"parameters": {
										"instance-variable": "nextBall",
										"value": "false"
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 491744236935346,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"callFunction": "ball",
									"sid": 674483311406637,
									"parameters": [
										"\"targetBall\"",
										"Mouse.X",
										"Mouse.Y"
									]
								}
							],
							"sid": 953347943111224
						},
						{
							"eventType": "comment",
							"text": "позиционирование шара в руке",
							"background-color": [
								0.9098039215686274,
								0.8352941176470589,
								0.6705882352941176,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 507716737584460,
									"disabled": true,
									"parameters": {
										"animation": "\"dart\""
									}
								},
								{
									"id": "is-playing",
									"objectClass": "ball",
									"sid": 329612529805508,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"dart\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 272384402697454,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 125141830794008,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "jumper",
									"sid": 652121146562184,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ballShad",
									"sid": 173450007460665,
									"parameters": {
										"x": "Bit.ImagePointX(\"gun\")"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ballShad",
									"sid": 420872742823202,
									"parameters": {
										"y": "base.Y"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ballShad",
									"sid": 976835403635193,
									"disabled": true,
									"parameters": {
										"y": "base.Y- (jumper.Y - Bit.ImagePointY(\"gun\"))"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ballShad",
									"sid": 463685735056191,
									"disabled": true,
									"parameters": {
										"y": "jumper.Y"
									}
								},
								{
									"id": "set-x",
									"objectClass": "ball",
									"sid": 732128275822657,
									"parameters": {
										"x": "Bit.ImagePointX(\"gun\")"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ball",
									"sid": 786424376026019,
									"parameters": {
										"y": "Bit.ImagePointY(\"gun\")"
									}
								}
							],
							"sid": 454981825610084
						},
						{
							"eventType": "comment",
							"text": "\n\n\nбросок",
							"background-color": [
								0.996078431372549,
								0.7450980392156863,
								0.7450980392156863,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 151930354394564,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"dart\""
									}
								},
								{
									"id": "on-instance-signal",
									"objectClass": "ball",
									"sid": 618510218995741,
									"parameters": {
										"tag": "\"fast\""
									}
								}
							],
							"actions": [],
							"sid": 151028191565018,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 946994350754500,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 366844982956548,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "jumper",
											"sid": 906927752590553,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "гравитация реактивного плода в 10 раз меньше\nвысота прыжка и скорость также изменены для плоской дуги полёта.\nДальность увеличена в два раза."
										},
										{
											"id": "set-x",
											"objectClass": "ballShad",
											"sid": 204770708755466,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ballShad",
											"sid": 843355114490006,
											"disabled": true,
											"parameters": {
												"y": "base.Y- (jumper.Y - Bit.ImagePointY(\"gun\"))"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ballShad",
											"sid": 125627968509799,
											"disabled": true,
											"parameters": {
												"y": "jumper.Y"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ballShad",
											"sid": 843225707075492,
											"parameters": {
												"y": "base.Y"
											}
										},
										{
											"id": "set-x",
											"objectClass": "ball",
											"sid": 166288874990289,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 493104479195532,
											"parameters": {
												"y": "Bit.ImagePointY(\"gun\")"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 681035015520198,
											"parameters": {
												"instance-variable": "launchHeight",
												"value": "ballShad.Y - Bit.ImagePointY(\"gun\")"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 991712011869258,
											"disabled": true,
											"parameters": {
												"instance-variable": "ang",
												"value": "round(angle(Self.X,Self.Y,Self.xx,Self.yy)-360*floor(angle(Self.X,Self.Y,Self.xx,Self.yy)/360))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 846201916607761,
											"disabled": true,
											"parameters": {
												"instance-variable": "rangeIso",
												"value": "Functions.getIsoArray(Self.ang) * aGame.ballRange\n"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 380708674904072,
											"disabled": true,
											"parameters": {
												"instance-variable": "rangeIso",
												"value": "Functions.getIsoArray(Self.ang) * aGame.ballRange * (base.jump ? 1.5 : 1.0)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 338799054619508,
											"disabled": true,
											"parameters": {
												"instance-variable": "long",
												"value": "aGame.activeFruit=\"cucu\" ? Self.rangeIso : clamp(Functions.getIsoDist(base.X, base.Y, Self.xx, Self.yy), 120, Self.rangeIso)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 594199201168602,
											"parameters": {
												"instance-variable": "ang",
												"value": "round(angle(base.X, base.Y, Self.xx, Self.yy) - 360 * floor(angle(base.X, base.Y, Self.xx, Self.yy) / 360))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 519357867031097,
											"parameters": {
												"instance-variable": "long",
												"value": "clamp(Functions.getIsoDist(base.X, base.Y, Self.xx, Self.yy), 120, aGame.ballRange * (base.jump ? 1.5 : 1.0))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 520875743508294,
											"parameters": {
												"instance-variable": "xx",
												"value": "float(tokenat(Functions.getPos(base.X, base.Y, Self.ang, Self.long), 0, \";\"))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 822689252539966,
											"parameters": {
												"instance-variable": "yy",
												"value": "float(tokenat(Functions.getPos(base.X, base.Y, Self.ang, Self.long), 1, \";\"))"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 534896656729387,
											"parameters": {
												"instance-variable": "state",
												"value": "\"on\""
											}
										},
										{
											"type": "comment",
											"text": "Устанавливаем макс. высоту дуги: для cucu — 20, для остальных — база 100 + 20% от дистанции"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 352445899318129,
											"parameters": {
												"instance-variable": "arcHeight",
												"value": "aGame.ballType = \"cucu\" ? 20 : 100 + ballShad.long*0.2"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 481539893637929,
											"parameters": {
												"instance-variable": "vOffset",
												"value": "0"
											}
										},
										{
											"id": "set-enabled",
											"objectClass": "ballShad",
											"sid": 146509411494542,
											"behaviorType": "Tween",
											"parameters": {
												"mode": "enabled"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ballShad",
											"sid": 508644208051203,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\"",
												"property": "position",
												"end-x": "Self.xx",
												"end-y": "Self.yy",
												"time": "0.2 + (Self.long / Functions.getIsoArray(Self.ang)) / aGame.ballSpeed",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 526833266662424,
											"parameters": {
												"instance-variable": "gravity",
												"value": "aGame.activeFruit=\"cucu\"?400:4000"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 509299250468238,
											"parameters": {
												"instance-variable": "speed",
												"value": "aGame.activeFruit=\"cucu\"?-100:-(100+ballShad.long*0.2)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 621015719793302,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "aGame.activeFruit=\"cucu\"?-100:-800"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 705165677916825,
											"disabled": true,
											"parameters": {
												"animation": "\"ball\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 428195339141934,
											"parameters": {
												"instance-variable": "jump",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 949144852078020,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										},
										{
											"type": "comment",
											"text": "таймер отключающий активность шара для коллизий, чтобы он покинул тень героя"
										},
										{
											"id": "start-timer",
											"objectClass": "ballShad",
											"sid": 864394794818780,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.1",
												"type": "once",
												"tag": "\"out\""
											}
										},
										{
											"type": "comment",
											"text": "таймер для переключения групп"
										},
										{
											"id": "stop-timer",
											"objectClass": "base",
											"sid": 525960188885331,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"preBall\""
											}
										},
										{
											"id": "start-timer",
											"objectClass": "base",
											"sid": 667135222111600,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "0.3",
												"type": "once",
												"tag": "\"ballOut\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "base",
											"sid": 215823254296738,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 680832009797283,
											"parameters": [
												"base.directNumbers=8? \"ball\"&(base.direct=3 ? 1 : base.direct=4 ? 0 : base.direct=5 ? 7 : base.direct) : base.directNumbers=6? \"ball\" & (base.direct=2 ? 1 : base.direct=3 ? 0 : base.direct=4 ? 5 : base.direct) :  \"ball1\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"base.move=1?24:12",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "base",
											"sid": 171158243736015,
											"parameters": {
												"instance-variable": "ballAttack",
												"value": "false"
											}
										}
									],
									"sid": 345832144075979,
									"children": [
										{
											"eventType": "comment",
											"text": "Остановка героя при броске",
											"background-color": [
												0.9411764705882353,
												0.7372549019607844,
												0.7372549019607844,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "base",
													"sid": 657428534138986,
													"parameters": {
														"instance-variable": "jump"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "Bit",
													"sid": 190801333450091,
													"parameters": {
														"instance-variable": "state",
														"value": "\"stop\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "base",
													"sid": 235946481872798,
													"parameters": {
														"instance-variable": "move",
														"value": "false"
													}
												},
												{
													"id": "stop",
													"objectClass": "base",
													"sid": 637017563832481,
													"behaviorType": "mt"
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 790284316993582,
													"parameters": {
														"instance-variable": "heroState",
														"value": "\"stop\""
													}
												}
											],
											"sid": 354765079114706
										},
										{
											"eventType": "comment",
											"text": "Настройки для типа снаряда 'Мортира'",
											"background-color": [
												0.9333333333333333,
												0.7450980392156863,
												0.7450980392156863,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUI",
													"sid": 310572573873412,
													"parameters": {
														"instance-variable": "aBallName",
														"comparison": 0,
														"value": "\"mortar\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 820717983426378,
													"parameters": {
														"instance-variable": "arcHeight",
														"value": "ballShad.long * 0.8"
													}
												},
												{
													"type": "comment",
													"text": "Перезапускаем твин с увеличенным временем"
												},
												{
													"id": "stop-tweens",
													"objectClass": "ballShad",
													"sid": 350491886171123,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"go\""
													}
												},
												{
													"id": "tween-two-properties",
													"objectClass": "ballShad",
													"sid": 146166788789290,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"go\"",
														"property": "position",
														"end-x": "Self.xx",
														"end-y": "Self.yy",
														"time": "0.2 + (Self.long / Functions.getIsoArray(Self.ang)) / (aGame.ballSpeed*0.5)",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 575482983490635
										},
										{
											"eventType": "comment",
											"text": "\nдля реактивного плода угол и длина в изометрии (из-за продолговатости)\nвпоследствии надо сделать реактивную струю из частиц",
											"background-color": [
												0.9333333333333333,
												0.7450980392156863,
												0.7450980392156863,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUI",
													"sid": 592177607620087,
													"parameters": {
														"instance-variable": "aBallName",
														"comparison": 0,
														"value": "\"cucu\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aGame",
													"sid": 164549611515562,
													"disabled": true,
													"parameters": {
														"instance-variable": "activeFruit",
														"comparison": 0,
														"value": "\"cucu\""
													}
												}
											],
											"actions": [
												{
													"id": "set-angle",
													"objectClass": "ball",
													"sid": 413276022951219,
													"parameters": {
														"angle": "ballShad.ang"
													}
												},
												{
													"id": "set-width",
													"objectClass": "ball",
													"sid": 375872354319166,
													"parameters": {
														"width": "1/sqrt((sin(ballShad.ang)/(Self.Width*aTools.isoCoeff))^2+(cos(ballShad.ang)/Self.Width)^2)"
													}
												},
												{
													"type": "comment",
													"text": "разбрасывание семян в полёте"
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 373991785529793,
													"parameters": {
														"seconds": "0.05",
														"use-timescale": true
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 256706111182185,
													"parameters": {
														"object": "cucuSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 590425202525231,
													"parameters": {
														"seconds": "0.07",
														"use-timescale": true
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 869997022769879,
													"parameters": {
														"object": "cucuSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												}
											],
											"sid": 287998214376738
										},
										{
											"eventType": "comment",
											"text": "ОБНОВЛЕННАЯ ЛОГИКА СПИСАНИЯ (Вставить в _budo -> //бросок вместо старого блока)",
											"background-color": [
												0.49,
												0.7,
												0.38,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aGame",
													"sid": 686837456846294,
													"parameters": {
														"instance-variable": "ballType",
														"comparison": 1,
														"value": "\"ball\""
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "1. Списание из словарей",
													"background-color": [
														0.67,
														0.98,
														0.79,
														1
													]
												},
												{
													"id": "set-key",
													"objectClass": "balls",
													"sid": 251642565462941,
													"parameters": {
														"key": "aGame.ballType",
														"value": "balls.Get(aGame.ballType) - 1"
													}
												},
												{
													"id": "set-key",
													"objectClass": "itemsQ",
													"sid": 111108132492432,
													"parameters": {
														"key": "aGame.ballType",
														"value": "itemsQ.Get(aGame.ballType)-1"
													}
												},
												{
													"callFunction": "quantUpdate",
													"sid": 368204134946702,
													"parameters": [
														"itemsQ.Get(aGame.ballType)",
														"aGame.ballType",
														false
													]
												}
											],
											"sid": 759532902673588,
											"children": [
												{
													"eventType": "comment",
													"text": "2. Синхронизация с предметом в инвентаре",
													"background-color": [
														0.49,
														0.7,
														0.38,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "item",
															"sid": 709219894037826,
															"parameters": {
																"instance-variable": "iSign",
																"comparison": 0,
																"value": "aGame.ballType"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "item",
															"sid": 936126129316864,
															"parameters": {
																"instance-variable": "iQuant",
																"value": "balls.Get(aGame.ballType)"
															}
														}
													],
													"sid": 151780468742258
												},
												{
													"eventType": "comment",
													"text": "3. Если снаряды кончились — сброс на базовый шар",
													"background-color": [
														0.33,
														0.73,
														0.48,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-value",
															"objectClass": "balls",
															"sid": 927876720349727,
															"parameters": {
																"key": "aGame.ballType",
																"comparison": 3,
																"value": "0"
															}
														}
													],
													"actions": [
														{
															"id": "delete-key",
															"objectClass": "balls",
															"sid": 810166843228245,
															"parameters": {
																"key": "aGame.ballType"
															}
														},
														{
															"id": "delete-key",
															"objectClass": "itemsQ",
															"sid": 909072510018790,
															"parameters": {
																"key": "aGame.ballType"
															}
														}
													],
													"sid": 747675659579134,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "item",
																	"sid": 188450136205170,
																	"parameters": {
																		"instance-variable": "iSign",
																		"comparison": 0,
																		"value": "aGame.ballType"
																	}
																}
															],
															"actions": [
																{
																	"id": "destroy",
																	"objectClass": "item",
																	"sid": 919215651084376
																}
															],
															"sid": 402490960784446
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 394088699404131,
																	"parameters": {
																		"instance-variable": "ballType",
																		"value": "\"ball\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 859088179641210,
																	"parameters": {
																		"instance-variable": "ballRange",
																		"value": "Functions.targetArea(aGame.ballType)"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aUI",
																	"sid": 417916392288209,
																	"parameters": {
																		"instance-variable": "aBallName",
																		"value": "\"ball\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "ballAbil",
																	"sid": 391977176997544,
																	"parameters": {
																		"instance-variable": "abilName",
																		"value": "\"ball\""
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "ballAbil",
																	"sid": 416899265087267,
																	"parameters": {
																		"animation": "\"ball\"",
																		"from": "beginning"
																	}
																}
															],
															"sid": 211896857615598
														}
													]
												}
											]
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "\n\n\n после броска\n",
							"background-color": [
								0.8823529411764706,
								0.7764705882352941,
								0.7764705882352941,
								1
							]
						},
						{
							"eventType": "comment",
							"text": "таймер включающий активность шара",
							"background-color": [
								0.8823529411764706,
								0.7764705882352941,
								0.7764705882352941,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "ballShad",
									"sid": 593182290928750,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 408627712233402,
									"parameters": {
										"instance-variable": "state",
										"value": "\"run\""
									}
								}
							],
							"sid": 508601845404022,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-group-active",
											"objectClass": "System",
											"sid": 396005773350436,
											"parameters": {
												"group-name": "\"ballOut\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 661095247472720,
											"parameters": {
												"group-name": "\"ballOut\"",
												"state": "activated"
											}
										}
									],
									"sid": 401252720955827
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nвозврат шара",
							"background-color": [
								0.9411764705882353,
								0.803921568627451,
								0.6784313725490196,
								1
							]
						},
						{
							"eventType": "comment",
							"text": "Обнуление vOffset и вертикальной скорости при приземлении. Инициализация разгона",
							"background-color": [
								0.67,
								0.98,
								0.79,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ballShad",
									"sid": 764945062026314,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"go\""
									}
								}
							],
							"actions": [],
							"sid": 477496733407722,
							"children": [
								{
									"eventType": "comment",
									"text": ""
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 594265151777549,
											"parameters": {
												"animation": "\"ball\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 806417050988211,
											"parameters": {
												"animation": "\"energoBall\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 495255618832548,
											"parameters": {
												"animation": "\"eStarBall\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 679112999041719,
											"parameters": {
												"instance-variable": "hitGroundEnd",
												"value": "true"
											}
										},
										{
											"id": "instance-signal",
											"objectClass": "ballShad",
											"sid": 521115827148832,
											"parameters": {
												"tag": "\"back\""
											}
										},
										{
											"callFunction": "ballHit",
											"sid": 942064617224459,
											"parameters": [
												"\"target\""
											]
										}
									],
									"sid": 364042166832656,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": ""
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 352788567025988,
											"parameters": {
												"animation": "\"superBall\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 644755599410252,
											"parameters": {
												"animation": "\"windBall\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 808729692220593,
											"parameters": {
												"animation": "\"cageBall\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 483669554329114,
											"parameters": {
												"animation": "\"cucu\""
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 522092267958726,
											"parameters": {
												"instance-variable": "hitGroundEnd",
												"value": "true"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 907150759363113,
											"parameters": {
												"instance-variable": "destroy",
												"value": "true"
											}
										},
										{
											"id": "unpin",
											"objectClass": "ball",
											"sid": 175672973974176,
											"behaviorType": "Pin"
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 784608202814312,
											"parameters": {
												"animation": "\"crash\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ballShad",
											"sid": 633951648944498,
											"parameters": {
												"instance-variable": "on",
												"value": "false"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ballShad",
											"sid": 646544737997456,
											"parameters": {
												"x": "-2333",
												"y": "-32622"
											}
										},
										{
											"callFunction": "ballHit",
											"sid": 428771278333637,
											"parameters": [
												"\"target\""
											]
										}
									],
									"sid": 477701656491803,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "удар шара"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-outside-layout",
											"objectClass": "ballImpact",
											"sid": 300346122470605
										}
									],
									"actions": [],
									"sid": 580658183237504,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 441000334427858,
													"parameters": {
														"object": "ballImpact"
													}
												}
											],
											"actions": [
												{
													"id": "set-position-to-another-object",
													"objectClass": "ballImpact",
													"sid": 918795581672347,
													"parameters": {
														"object": "ballShad",
														"image-point-optional": "0"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ballImpact",
													"sid": 691167449682998,
													"parameters": {
														"animation": "\"hit\"",
														"from": "beginning"
													}
												}
											],
											"sid": 375470236932689
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "возвращение шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-instance-signal",
									"objectClass": "ballShad",
									"sid": 522105383764020,
									"parameters": {
										"tag": "\"back\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 517323873804688,
									"disabled": true,
									"parameters": {
										"text": "\".\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 239172102390849,
									"parameters": {
										"instance-variable": "vOffset",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 370032135156319,
									"parameters": {
										"instance-variable": "speed",
										"value": "-clamp(ballShad.long * 1.7, 80, 800)"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 938285893677586,
									"parameters": {
										"instance-variable": "back",
										"value": "true"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 410357726081356,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\"",
										"property": "position",
										"end-x": "base.X",
										"end-y": "base.Y",
										"time": "0.1+Self.long/aGame.ballSpeed",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 291947778978062,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aUI",
											"sid": 124973773884435,
											"parameters": {
												"instance-variable": "aBallName",
												"comparison": 0,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Начинаем возврат с небольшой скоростью"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 191956828733237,
											"parameters": {
												"instance-variable": "hSpeed",
												"value": "150"
											}
										}
									],
									"sid": 520067798355062
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 789287754704127
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "эта переменная меняет характер возвращения, можно использовать для разнообразия снарядов"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 490638528351282,
											"parameters": {
												"instance-variable": "hSpeed",
												"value": "aGame.ballSpeed * Self.jumpCoeff"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 503544637505699,
											"disabled": true,
											"parameters": {
												"instance-variable": "gravity",
												"value": "3000"
											}
										}
									],
									"sid": 730368337577632
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "? при коллизии с базой проглатывается (может быть полезно при запрыгивании на платформы)"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 457639485166694,
									"parameters": {
										"object": "basis"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 508755247988787,
									"parameters": {
										"instance-variable": "on"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 365713920520951,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 654836549164563,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 220788352201712,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 684248903575716,
									"parameters": {
										"instance-variable": "back"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 789829694691057,
									"disabled": true,
									"parameters": {
										"text": "\"B\""
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 782217535142627,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 182148844309619,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								}
							],
							"sid": 773443678373253,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 716273437845366,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 236164861419160,
											"disabled": true,
											"parameters": {
												"animation": "\"swirl\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 430508490522155,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 476014458960737
								}
							]
						},
						{
							"eventType": "comment",
							"text": " при коллизии с тенью проглатывается"
						},
						{
							"eventType": "comment",
							"text": "ФИКС ПРИЁМА: Отвязка от тени и полет к прыгающему Биту",
							"background-color": [
								0.49,
								0.7,
								0.38,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 450081512020181,
									"parameters": {
										"object": "shad"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 595530209432518,
									"parameters": {
										"instance-variable": "on"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "shad",
									"sid": 313070215955153,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 407183933218396,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 822192890538658,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 229316432049259,
									"parameters": {
										"instance-variable": "back"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 343984006066482,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 439403849747347,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 773921655610086,
									"disabled": true,
									"parameters": {
										"text": "\"H\""
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 325417593961199,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Bit",
									"sid": 607922915837163,
									"disabled": true,
									"parameters": {
										"animation": "\"ball9\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 728270190425057,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 342091175792640,
									"parameters": {
										"instance-variable": "jump",
										"value": "false"
									}
								}
							],
							"sid": 725262398110309,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 652480118073937,
											"parameters": {
												"object": "Bit"
											}
										}
									],
									"actions": [
										{
											"callFunction": "ballGoBank",
											"sid": 861931056819919,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 675758569952850,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 942037862278788,
													"parameters": {
														"animation": "\"ball9\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 582408368901280,
													"disabled": true,
													"parameters": {
														"animation": "\"swirl\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 499218281443114,
													"parameters": [
														"Bit.UID",
														"\"ball9\"",
														"0",
														"0",
														"basis.move=1?24:12",
														"0"
													]
												}
											],
											"sid": 589395615889804
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 368113992399559
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 541439748935793,
											"parameters": {
												"instance-variable": "goToHero",
												"value": "true"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "ballShad",
											"sid": 158475575737644,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"type": "comment",
											"text": "ОТВЯЗЫВАЕМ шар, чтобы он мог свободно лететь вверх к Биту"
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ballShad",
											"sid": 399772628519565,
											"disabled": true,
											"parameters": {
												"instance-variable": "back",
												"value": "false"
											}
										},
										{
											"id": "unpin",
											"objectClass": "ball",
											"sid": 370222132849098,
											"disabled": true,
											"behaviorType": "Pin"
										},
										{
											"id": "set-enabled",
											"objectClass": "ball",
											"sid": 160517877819383,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"mode": "enabled"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ball",
											"sid": 786602462987748,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallX\"",
												"property": "position",
												"end-x": "Bit.X",
												"end-y": "Bit.ImagePointY(2)",
												"time": "0.1",
												"ease": "easeoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 185206576226852,
											"disabled": true,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 971487747891484
								}
							]
						},
						{
							"eventType": "comment",
							"text": "костыль для обязательной отправки снарядов в банк"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "ball",
									"sid": 736287631402235,
									"parameters": {
										"object": "Bit"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 721413946605906,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 837878283952733,
									"parameters": {
										"instance-variable": "end"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "shad",
									"sid": 505765057951543,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "ballShad",
									"sid": 284037628764090,
									"parameters": {
										"object": "shad"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 158549790701443,
									"parameters": {
										"instance-variable": "on"
									}
								}
							],
							"actions": [
								{
									"callFunction": "ballGoBank",
									"sid": 968946906715186,
									"parameters": [
										"ball.UID"
									]
								}
							],
							"sid": 497389612473872,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 606267452664762,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 129518868361881,
											"disabled": true,
											"parameters": {
												"animation": "\"swirl\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 496774798919076,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 759574899249183
								}
							]
						},
						{
							"eventType": "comment",
							"text": "финишное долетание до Бита"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ballShad",
									"sid": 928233907846373,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 823018390887185,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 407918589666686,
									"parameters": {
										"text": "\"T\""
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 645586055225933,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\"",
										"property": "position",
										"end-x": "base.X",
										"end-y": "base.Y",
										"time": "0.3+Self.long/1500",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "unpin",
									"objectClass": "ball",
									"sid": 751079133574599,
									"behaviorType": "Pin"
								},
								{
									"id": "set-visible",
									"objectClass": "ballShad",
									"sid": 439569249656416,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "ball",
									"sid": 940207752306165,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "enabled"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "ball",
									"sid": 664219144935411,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\"",
										"property": "offsetY",
										"end-value": "Bit.ImagePointY(2)",
										"time": "0.12",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 419089422921370,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 314336561402991,
											"parameters": {
												"object": "Bit"
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "help",
											"sid": 581723655518124,
											"parameters": {
												"text": "0"
											}
										},
										{
											"callFunction": "ballGoBank",
											"sid": 236014198714329,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 388939920485492,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 641680093850002,
													"parameters": {
														"animation": "\"ball9\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 447299615813811,
													"parameters": [
														"Bit.UID",
														"\"ball9\"",
														"0",
														"0",
														"basis.move=1?24:12",
														"0"
													]
												}
											],
											"sid": 693613996016235,
											"disabled": true
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 226340994755307
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 623782857173028,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [],
									"sid": 147599036160965,
									"disabled": true,
									"children": [
										{
											"eventType": "comment",
											"text": "если Бит на земле"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "base",
													"sid": 875937521898247,
													"parameters": {
														"instance-variable": "hi",
														"comparison": 3,
														"value": "20"
													}
												}
											],
											"actions": [
												{
													"id": "append-text",
													"objectClass": "help",
													"sid": 151365608942879,
													"parameters": {
														"text": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 137828860191747,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallX\"",
														"property": "offsetX",
														"end-value": "Bit.X",
														"time": "0.12",
														"ease": "easeoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 356569324479675,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallY\"",
														"property": "offsetY",
														"end-value": "Bit.ImagePointY(\"center\")",
														"time": "0.12",
														"ease": "easeoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 763703175093367,
											"disabled": true
										},
										{
											"eventType": "comment",
											"text": "если Бит высоко смягчается поворот снаряда"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 131491148459116
												}
											],
											"actions": [
												{
													"id": "append-text",
													"objectClass": "help",
													"sid": 830703758572009,
													"parameters": {
														"text": "2"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 933958180063950,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallX\"",
														"property": "offsetX",
														"end-value": "Bit.X",
														"time": "0.12",
														"ease": "easeinsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 574153754313271,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallY\"",
														"property": "offsetY",
														"end-value": "Bit.ImagePointY(\"center\")",
														"time": "0.12",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 392294263071909,
											"disabled": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "?"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 582918251355235,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallX\""
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 373496583695466,
									"parameters": {
										"text": "3"
									}
								},
								{
									"callFunction": "ballGoBank",
									"sid": 129956058611452,
									"parameters": [
										"ball.UID"
									]
								}
							],
							"sid": 786088655804269,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 419960088517986,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "help",
											"sid": 881372844332080,
											"parameters": {
												"text": "4"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 315605117817024,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 172333452164536,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nЛогика удара о землю",
							"background-color": [
								0.49,
								0.7,
								0.38,
								1
							]
						},
						{
							"eventType": "comment",
							"text": "отскакивание шара от собственной тени на полу"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 662433722948722,
									"parameters": {
										"object": "ballShad"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ball",
									"sid": 834940680127869,
									"parameters": {
										"instance-variable": "destroy"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 247920934998902,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 438560463738972,
									"parameters": {
										"instance-variable": "dart",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 440634753330557,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [],
							"sid": 417921541213698,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 668171727785757,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "ballShad",
											"sid": 249358061067329,
											"behaviorType": "sfZScale",
											"parameters": {
												"function_name:0": "\"bump\""
											}
										}
									],
									"sid": 728169302290576
								}
							]
						},
						{
							"eventType": "comment",
							"text": "отскакивание шара в точке нуля"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 985419275904086,
									"parameters": {
										"instance-variable": "vOffset",
										"comparison": 5,
										"value": "0"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ball",
									"sid": 810575579473552,
									"parameters": {
										"instance-variable": "destroy"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Инвертируем скорость с потерей энергии (0.7)"
								}
							],
							"sid": 613690693215230,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 315374513636571,
											"parameters": {
												"instance-variable": "speed",
												"comparison": 4,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 975052748804886,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "ballShad",
											"sid": 897598169844397,
											"behaviorType": "sfZScale",
											"parameters": {
												"function_name:0": "\"bump\""
											}
										}
									],
									"sid": 793562169735258
								}
							]
						},
						{
							"eventType": "comment",
							"text": "угасание скорости при отскоке\nдля некоторых шаров - переход к реакциям"
						},
						{
							"eventType": "comment",
							"text": "!!! сделать угасание в зависимости от поверхностей"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "ballShad",
									"sid": 569604577810782,
									"behaviorType": "sfZScale",
									"parameters": {
										"function_name:0": "\"bump\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 357442057543296,
									"parameters": {
										"instance-variable": "speed",
										"value": "-Self.speed*0.7"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 646121592937450,
									"disabled": true,
									"parameters": {
										"instance-variable": "speed",
										"value": "-Self.speed"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 681928692794386,
									"disabled": true,
									"parameters": {
										"instance-variable": "speed",
										"value": "-Self.speed*0.8"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 916866216827101,
									"disabled": true,
									"parameters": {
										"instance-variable": "speed",
										"value": "-Self.speed*0.63"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 356090882990352,
									"disabled": true,
									"parameters": {
										"instance-variable": "speed",
										"value": "-Self.speed*0.5"
									}
								}
							],
							"sid": 230461480976306,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 932084396892167,
											"parameters": {
												"instance-variable": "back"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ball",
											"sid": 969574952388695,
											"parameters": {
												"instance-variable": "hitGroundEnd"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "ballHit",
											"sid": 365287189737492,
											"parameters": [
												"\"shad\""
											]
										}
									],
									"sid": 860512537184897,
									"children": [
										{
											"eventType": "comment",
											"text": "удар шара"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-outside-layout",
													"objectClass": "ballImpact",
													"sid": 851470005440688
												}
											],
											"actions": [],
											"sid": 248919857295701,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-random-instance",
															"objectClass": "System",
															"sid": 419880775093888,
															"parameters": {
																"object": "ballImpact"
															}
														}
													],
													"actions": [
														{
															"id": "set-position-to-another-object",
															"objectClass": "ballImpact",
															"sid": 573970890100921,
															"parameters": {
																"object": "ballShad",
																"image-point-optional": "0"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "ballImpact",
															"sid": 605061613128315,
															"parameters": {
																"animation": "\"wave\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-scale",
															"objectClass": "ballImpact",
															"sid": 395319607617425,
															"parameters": {
																"scale": "0.0015*abs(ball.speed)"
															}
														}
													],
													"sid": 994110889319722
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n снаряды после удара обо что-то\n"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-any-animation-finished",
									"objectClass": "ballImpact",
									"sid": 688505295880230
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "ballImpact",
									"sid": 669390633160667,
									"parameters": {
										"x": "-9999",
										"y": "1294"
									}
								},
								{
									"id": "set-scale",
									"objectClass": "ballImpact",
									"sid": 939392888123857,
									"parameters": {
										"scale": "1"
									}
								}
							],
							"sid": 339500042843557
						},
						{
							"functionName": "ballHit",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "hitObject",
									"type": "string",
									"initialValue": "shad",
									"comment": "",
									"sid": 220923313802739
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 271348753742460,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 731202613870269,
											"parameters": {
												"variable": "hitObject",
												"comparison": 0,
												"value": "\"target\""
											}
										}
									],
									"actions": [],
									"sid": 779169246743731
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 389451531403948
										}
									],
									"actions": [],
									"sid": 615050082682914,
									"children": [
										{
											"eventType": "comment",
											"text": "Шаг 3.4: Обновление ballHit под систему vOffset (замена действий в №650972516963071)",
											"background-color": [
												0.49,
												0.7,
												0.38,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ball",
													"sid": 806078228682927,
													"parameters": {
														"animation": "\"ball\""
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Вместо прямой установки Y, ставим минимальную высоту над землей"
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 666826127978982,
													"disabled": true,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "0"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 388616523364241,
													"disabled": true,
													"parameters": {
														"y": "ballShad.Y-4"
													}
												}
											],
											"sid": 446368564200032
										},
										{
											"eventType": "comment",
											"text": "ИСПРАВЛЕНИЕ ОТСКОКА (вместо блока Шаг 3.3): Теперь срабатывает только при касании земли",
											"background-color": [
												0.67,
												0.98,
												0.79,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "ball",
													"sid": 700445745240893,
													"parameters": {
														"instance-variable": "vOffset",
														"comparison": 3,
														"value": "0"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "ball",
													"sid": 135351406042912,
													"parameters": {
														"instance-variable": "speed",
														"comparison": 4,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Инвертируем скорость только при реальном касании (vOffset <= 0)"
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 305196218162280,
													"parameters": {
														"instance-variable": "speed",
														"value": "-Self.speed * 0.5"
													}
												},
												{
													"callFunction": "ballHit",
													"sid": 356279269893643,
													"parameters": [
														"\"shad\""
													]
												}
											],
											"sid": 555480021866575
										},
										{
											"eventType": "comment",
											"text": "! устаревшее, адаптировать"
										},
										{
											"eventType": "comment",
											"text": " взрывной плод"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ball",
													"sid": 772558101330234,
													"parameters": {
														"animation": "\"cBoom\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 198401845247125,
													"parameters": {
														"object": "cBoom",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-position-to-another-object",
													"objectClass": "cBoom",
													"sid": 952423947896884,
													"disabled": true,
													"parameters": {
														"object": "ball",
														"image-point-optional": "0"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "cBoom",
													"sid": 891274443234096,
													"parameters": {
														"animation": "\"boom\"",
														"from": "beginning"
													}
												},
												{
													"callFunction": "ballGoBank",
													"sid": 723437003900938,
													"parameters": [
														"ball.UID"
													]
												}
											],
											"sid": 194283419909695,
											"children": [
												{
													"eventType": "comment",
													"text": "разбрасывание семян"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "repeat",
															"objectClass": "System",
															"sid": 930293084481190,
															"parameters": {
																"count": "choose(1,2,3)"
															}
														}
													],
													"actions": [
														{
															"id": "spawn-another-object",
															"objectClass": "cBoom",
															"sid": 974734520409395,
															"parameters": {
																"object": "cBoomSeed",
																"layer": "\"iso\"",
																"image-point": "0",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-visible",
															"objectClass": "cBoomSeed",
															"sid": 739750848311932,
															"parameters": {
																"visibility": "invisible"
															}
														},
														{
															"id": "set-position",
															"objectClass": "cBoomSeed",
															"sid": 569488940146532,
															"parameters": {
																"x": "random(cBoom.X+100,cBoom.X-100)",
																"y": "random(cBoom.Y+40,cBoom.Y-40)"
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 458600645553063,
															"parameters": {
																"seconds": "0.1",
																"use-timescale": true
															}
														},
														{
															"id": "set-animation",
															"objectClass": "cBoomSeed",
															"sid": 253634663782333,
															"disabled": true,
															"parameters": {
																"animation": "\"seed\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-animation-frame",
															"objectClass": "cBoomSeed",
															"sid": 618568921669745,
															"parameters": {
																"frame-number": "choose(0,1,2,3,4,5,6,7)"
															}
														},
														{
															"id": "set-visible",
															"objectClass": "cBoomSeed",
															"sid": 884263134338419,
															"parameters": {
																"visibility": "visible"
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 832360052607781,
															"parameters": {
																"seconds": "5",
																"use-timescale": true
															}
														},
														{
															"id": "destroy",
															"objectClass": "cBoomSeed",
															"sid": 682234605215440
														}
													],
													"sid": 499167150597375
												}
											]
										},
										{
											"eventType": "comment",
											"text": "реактивный"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ball",
													"sid": 208894112604512,
													"parameters": {
														"animation": "\"cucu\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 339750700482690,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 651716734424520,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"callFunction": "ballGoBank",
													"sid": 206666771742946,
													"parameters": [
														"ball.UID"
													]
												}
											],
											"sid": 953700537063113,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-mirrored",
															"objectClass": "Bit",
															"sid": 538687348421820
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "bushInto",
															"sid": 236280827367150,
															"parameters": {
																"state": "mirrored"
															}
														}
													],
													"sid": 788240020075453
												}
											]
										},
										{
											"eventType": "comment",
											"text": "запутывающий"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ball",
													"sid": 500689400277132,
													"parameters": {
														"animation": "\"creep\""
													}
												}
											],
											"actions": [],
											"sid": 272036673793123,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 979439499177268,
															"parameters": {
																"variable": "hitObject",
																"comparison": 0,
																"value": "\"zoneStop\""
															}
														}
													],
													"actions": [
														{
															"id": "spawn-another-object",
															"objectClass": "ball",
															"sid": 427776130587785,
															"parameters": {
																"object": "bushInto",
																"layer": "\"iso\"",
																"image-point": "0",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "bushInto",
															"sid": 497880456007731,
															"parameters": {
																"animation": "choose(\"sm\",\"sd\",\"sl\")",
																"from": "beginning"
															}
														},
														{
															"callFunction": "ballGoBank",
															"sid": 408638483203750,
															"parameters": [
																"ball.UID"
															]
														}
													],
													"sid": 437178737446541
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 298920303393537,
															"parameters": {
																"variable": "hitObject",
																"comparison": 1,
																"value": "\"zoneStop\""
															}
														}
													],
													"actions": [
														{
															"id": "spawn-another-object",
															"objectClass": "ball",
															"sid": 551637536789400,
															"parameters": {
																"object": "bushInto",
																"layer": "\"iso\"",
																"image-point": "0",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "bushInto",
															"sid": 111967607125734,
															"parameters": {
																"animation": "choose(\"sm\",\"sd\",\"sl\")",
																"from": "beginning"
															}
														},
														{
															"id": "spawn-another-object",
															"objectClass": "ballShad",
															"sid": 886377030429797,
															"parameters": {
																"object": "creepTrap",
																"layer": "\"iso\"",
																"image-point": "0",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-animation",
															"objectClass": "creepTrap",
															"sid": 880939594799478,
															"parameters": {
																"animation": "\"trap\"",
																"from": "beginning"
															}
														},
														{
															"callFunction": "ballGoBank",
															"sid": 619378907330552,
															"parameters": [
																"ball.UID"
															]
														}
													],
													"sid": 257329522325134
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-mirrored",
															"objectClass": "Bit",
															"sid": 859565981035828
														}
													],
													"actions": [
														{
															"id": "set-mirrored",
															"objectClass": "bushInto",
															"sid": 956090379350863,
															"parameters": {
																"state": "mirrored"
															}
														}
													],
													"sid": 911336755900768
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": ""
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 915992833654194,
											"parameters": {
												"seconds": "0.1",
												"use-timescale": true
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 916964480480770,
											"parameters": {
												"instance-variable": "hitGroundEnd",
												"value": "false"
											}
										}
									],
									"sid": 179063484171936
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nшар возвращается в банк",
							"background-color": [
								0.611764705882353,
								0.8901960784313725,
								0.8705882352941177,
								1
							]
						},
						{
							"functionName": "ballGoBank",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "uid",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"sid": 379720984455746
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 102001659555881,
									"parameters": {
										"unique-id": "uid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 515805823234237,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 330203550128613,
									"disabled": true,
									"parameters": {
										"text": "\"L\""
									}
								},
								{
									"id": "unpin",
									"objectClass": "ball",
									"sid": 103251264189968,
									"behaviorType": "Pin"
								},
								{
									"id": "set-position",
									"objectClass": "ball",
									"sid": 996242940070510,
									"parameters": {
										"x": "-5000",
										"y": "-53000"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 494737340181578,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 736431355471607,
									"parameters": {
										"instance-variable": "jump",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 107668334415023,
									"parameters": {
										"instance-variable": "goToHero",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 326069705427023,
									"parameters": {
										"instance-variable": "destroy",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 308879129865780,
									"parameters": {
										"instance-variable": "hitGroundEnd",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 139221098913465,
									"parameters": {
										"instance-variable": "state",
										"value": "\"zero\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 208560250377390,
									"parameters": {
										"instance-variable": "hSpeed",
										"value": "0"
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "ball",
									"sid": 313783011819224,
									"behaviorType": "Tween"
								},
								{
									"id": "set-enabled",
									"objectClass": "ball",
									"sid": 401895592818305,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "disabled"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ball",
									"sid": 457532439516493,
									"parameters": {
										"animation": "\"i\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "ballShad",
									"sid": 115847430094514,
									"parameters": {
										"x": "-53000",
										"y": "-5000"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 195403731963583,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 874796519124848,
									"parameters": {
										"instance-variable": "back",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 513587376736258,
									"parameters": {
										"instance-variable": "end",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 775604567496081,
									"parameters": {
										"instance-variable": "state",
										"value": "\"zero\""
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "ballShad",
									"sid": 910431989815603,
									"behaviorType": "Tween"
								},
								{
									"id": "set-enabled",
									"objectClass": "ballShad",
									"sid": 306780755094603,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "disabled"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "ballShad",
									"sid": 331780871852904,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 768584464367924,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 655823362879041,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 995186456084084,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 766035813177588,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 985662221073084
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n физика прыжков шара, размер тени\n",
							"background-color": [
								0.5254901960784314,
								0.7333333333333333,
								0.9529411764705882,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 974832547676327,
									"parameters": {
										"object": "ball"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 492099515765365,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [],
							"sid": 206736694383577,
							"children": [
								{
									"eventType": "comment",
									"text": "для всех кроме реактивного"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 101179326402448,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 781900919883174,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 218098807390571,
											"parameters": {
												"instance-variable": "on"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 980376680298974,
											"parameters": {
												"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff*0.6",
												"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff*0.6"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 602010381732948,
											"parameters": {
												"opacity": "Self.opac-distance(0,Self.Y,0,ball.Y)/8"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 862143172413314,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 992562946603983,
									"children": [
										{
											"eventType": "comment",
											"text": " Расчет Y через прогресс твина (вставить внутрь условия ball.jump)",
											"background-color": [
												0.33,
												0.73,
												0.48,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-playing",
													"objectClass": "ballShad",
													"sid": 900015227158033,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"go\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 578636236541731,
													"disabled": true,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "((1 - ballShad.Tween.Progress(\"go\")) * ball.launchHeight) + (sin(ballShad.Tween.Progress(\"go\") * 180) * ball.arcHeight)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 580334804303868,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "(ball.launchHeight * (1 - ballShad.Tween.Progress(\"go\"))) + (ball.arcHeight * 4 * ballShad.Tween.Progress(\"go\") * (1 - ballShad.Tween.Progress(\"go\")))"
													}
												},
												{
													"type": "comment",
													"text": "Сдвигаем шар по X на 10% от высоты, чтобы видеть дугу при вертикальных бросках"
												},
												{
													"id": "set-x",
													"objectClass": "ball",
													"sid": 200474773408063,
													"parameters": {
														"x": "ballShad.X + (ball.vOffset * 0.15)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 959609195719820,
													"parameters": {
														"y": "ballShad.Y - ball.vOffset"
													}
												}
											],
											"sid": 279234725704302
										},
										{
											"eventType": "comment",
											"text": "--- ОБНОВЛЕННАЯ ЛОГИКА ВОЗВРАТА (Заменяет блоки от МАГНИТНЫЙ ВОЗВРАТ до конца нырка) ---",
											"background-color": [
												0.33,
												0.73,
												0.48,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ballShad",
													"sid": 664519690871667,
													"parameters": {
														"instance-variable": "back"
													}
												}
											],
											"actions": [],
											"sid": 648048716247953,
											"children": [
												{
													"eventType": "comment",
													"text": "ФАЗА 1: Обычный возврат по земле (Гравитация) - честная изометрия",
													"background-color": [
														0.67,
														0.98,
														0.79,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "ball",
															"sid": 160517141445748,
															"parameters": {
																"instance-variable": "goToHero"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 863949941755776,
															"parameters": {
																"instance-variable": "speed",
																"value": "ball.gravity * dt"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 733559989188639,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "ball.speed * dt"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "ball",
															"sid": 825145576429283,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "min(Self.vOffset, 0)"
															}
														},
														{
															"id": "set-y",
															"objectClass": "ball",
															"sid": 280690649077355,
															"parameters": {
																"y": "ballShad.Y + ball.vOffset"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 884760325073411,
															"parameters": {
																"instance-variable": "hSpeed",
																"value": "3000 * dt"
															}
														},
														{
															"type": "comment",
															"text": "FIX: Используем getIsoArray для корректной изометрической скорости по прямой",
															"background-color": [
																0.8,
																1,
																0.8,
																1
															]
														},
														{
															"id": "set-position",
															"objectClass": "ballShad",
															"sid": 793846183572190,
															"parameters": {
																"x": "Self.X + cos(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt * Functions.getIsoArray(angle(Self.X, Self.Y, base.X, base.Y))",
																"y": "Self.Y + sin(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt * Functions.getIsoArray(angle(Self.X, Self.Y, base.X, base.Y))"
															}
														}
													],
													"sid": 837377832102891,
													"children": [
														{
															"eventType": "comment",
															"text": "Триггер перехода в режим магнита"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 539775307517207,
																	"parameters": {
																		"first-value": "distance(ballShad.X, ballShad.Y, base.X, base.Y)",
																		"comparison": 2,
																		"second-value": "20"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "ball",
																	"sid": 284566997722355,
																	"parameters": {
																		"instance-variable": "goToHero",
																		"value": "true"
																	}
																}
															],
															"sid": 263219009028643
														}
													]
												},
												{
													"eventType": "comment",
													"text": "ФАЗА 1: Обычный возврат по земле (Гравитация) - искривленный вариант, более живой внешне",
													"background-color": [
														0.67,
														0.98,
														0.79,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "ball",
															"sid": 823585661943231,
															"parameters": {
																"instance-variable": "goToHero"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 790939735544038,
															"parameters": {
																"instance-variable": "speed",
																"value": "ball.gravity * dt"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 800016084679011,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "ball.speed * dt"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "ball",
															"sid": 866354587541801,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "min(Self.vOffset, 0)"
															}
														},
														{
															"id": "set-y",
															"objectClass": "ball",
															"sid": 666446991361987,
															"parameters": {
																"y": "ballShad.Y + ball.vOffset"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 996444090677011,
															"parameters": {
																"instance-variable": "hSpeed",
																"value": "3000 * dt"
															}
														},
														{
															"type": "comment",
															"text": "FIX: Изометрическая коррекция (Y * 0.5)",
															"background-color": [
																0.8,
																1,
																0.8,
																1
															]
														},
														{
															"id": "set-position",
															"objectClass": "ballShad",
															"sid": 801150498968732,
															"parameters": {
																"x": "Self.X + cos(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt",
																"y": "Self.Y + sin(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt * 0.5"
															}
														}
													],
													"sid": 259221768093664,
													"disabled": true,
													"children": [
														{
															"eventType": "comment",
															"text": "Триггер перехода в режим магнита"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 694854775940247,
																	"parameters": {
																		"first-value": "distance(ballShad.X, ballShad.Y, base.X, base.Y)",
																		"comparison": 2,
																		"second-value": "20"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "ball",
																	"sid": 893044729572354,
																	"parameters": {
																		"instance-variable": "goToHero",
																		"value": "true"
																	}
																}
															],
															"sid": 822602251849322,
															"disabled": true
														}
													]
												},
												{
													"eventType": "comment",
													"text": "ФАЗА 2: Нырок в Бита (Магнит) - честная изометрия",
													"background-color": [
														0.49,
														0.7,
														0.38,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "ball",
															"sid": 640358154060120,
															"parameters": {
																"instance-variable": "goToHero"
															}
														}
													],
													"actions": [
														{
															"id": "set-visible",
															"objectClass": "ballShad",
															"sid": 356613693513528,
															"parameters": {
																"visibility": "invisible"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 715512822449303,
															"parameters": {
																"instance-variable": "hSpeed",
																"value": "4000 * dt"
															}
														},
														{
															"type": "comment",
															"text": "FIX: Используем getIsoArray для корректной изометрической скорости по прямой",
															"background-color": [
																0.8,
																1,
																0.8,
																1
															]
														},
														{
															"id": "set-position",
															"objectClass": "ballShad",
															"sid": 943487912814282,
															"parameters": {
																"x": "Self.X + cos(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt * Functions.getIsoArray(angle(Self.X, Self.Y, base.X, base.Y))",
																"y": "Self.Y + sin(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt * Functions.getIsoArray(angle(Self.X, Self.Y, base.X, base.Y))"
															}
														},
														{
															"type": "comment",
															"text": "Лерпим vOffset к высоте центра Бита (отрицательное значение)"
														},
														{
															"id": "set-instvar-value",
															"objectClass": "ball",
															"sid": 784222203519370,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "lerp(Self.vOffset, Bit.ImagePointY(\"center\") - ballShad.Y, 15 * dt)"
															}
														},
														{
															"type": "comment",
															"text": "Принудительно ставим шар в позицию (Shadow + Height)"
														},
														{
															"id": "set-x",
															"objectClass": "ball",
															"sid": 181916671796104,
															"parameters": {
																"x": "ballShad.X"
															}
														},
														{
															"id": "set-y",
															"objectClass": "ball",
															"sid": 139882774534795,
															"parameters": {
																"y": "ballShad.Y + ball.vOffset"
															}
														}
													],
													"sid": 351033985665689,
													"children": [
														{
															"eventType": "comment",
															"text": "Финальное поглощение по дистанции"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 108919087593106,
																	"parameters": {
																		"first-value": "distance(ball.X, ball.Y, Bit.X, Bit.Y)",
																		"comparison": 2,
																		"second-value": "30"
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "ballGoBank",
																	"sid": 878173883012737,
																	"parameters": [
																		"ball.UID"
																	]
																}
															],
															"sid": 774140621548025
														}
													]
												},
												{
													"eventType": "comment",
													"text": "ФАЗА 2: Нырок в Бита (Магнит) - искривленный вариант",
													"background-color": [
														0.49,
														0.7,
														0.38,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "ball",
															"sid": 434268373869408,
															"parameters": {
																"instance-variable": "goToHero"
															}
														}
													],
													"actions": [
														{
															"id": "set-visible",
															"objectClass": "ballShad",
															"sid": 998501856992929,
															"parameters": {
																"visibility": "invisible"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 886352953732191,
															"parameters": {
																"instance-variable": "hSpeed",
																"value": "4000 * dt"
															}
														},
														{
															"type": "comment",
															"text": "FIX: Изометрическая коррекция (Y * 0.5)",
															"background-color": [
																0.8,
																1,
																0.8,
																1
															]
														},
														{
															"id": "set-position",
															"objectClass": "ballShad",
															"sid": 997922451178506,
															"parameters": {
																"x": "Self.X + cos(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt",
																"y": "Self.Y + sin(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt * 0.5"
															}
														},
														{
															"type": "comment",
															"text": "Лерпим vOffset к высоте центра Бита (отрицательное значение)"
														},
														{
															"id": "set-instvar-value",
															"objectClass": "ball",
															"sid": 381159056177987,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "lerp(Self.vOffset, Bit.ImagePointY(\"center\") - ballShad.Y, 15 * dt)"
															}
														},
														{
															"type": "comment",
															"text": "Принудительно ставим шар в позицию (Shadow + Height)"
														},
														{
															"id": "set-x",
															"objectClass": "ball",
															"sid": 598240994376738,
															"parameters": {
																"x": "ballShad.X"
															}
														},
														{
															"id": "set-y",
															"objectClass": "ball",
															"sid": 272163028790035,
															"parameters": {
																"y": "ballShad.Y + ball.vOffset"
															}
														}
													],
													"sid": 648860165675295,
													"disabled": true,
													"children": [
														{
															"eventType": "comment",
															"text": "Финальное поглощение по дистанции"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 608601374028778,
																	"parameters": {
																		"first-value": "distance(ball.X, ball.Y, Bit.X, Bit.Y)",
																		"comparison": 2,
																		"second-value": "30"
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "ballGoBank",
																	"sid": 624622019998068,
																	"parameters": [
																		"ball.UID"
																	]
																}
															],
															"sid": 309605108201773,
															"disabled": true
														}
													]
												},
												{
													"eventType": "comment",
													"text": "ФАЗА 2: Нырок в Бита (Магнит) - без изометрии",
													"background-color": [
														0.49,
														0.7,
														0.38,
														1
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "ball",
															"sid": 110042635662269,
															"parameters": {
																"instance-variable": "goToHero"
															}
														}
													],
													"actions": [
														{
															"id": "set-visible",
															"objectClass": "ballShad",
															"sid": 698063705173127,
															"parameters": {
																"visibility": "invisible"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "ball",
															"sid": 415673237275542,
															"parameters": {
																"instance-variable": "hSpeed",
																"value": "4000 * dt"
															}
														},
														{
															"id": "set-position",
															"objectClass": "ballShad",
															"sid": 136758451929621,
															"parameters": {
																"x": "Self.X + cos(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt",
																"y": "Self.Y + sin(angle(Self.X, Self.Y, base.X, base.Y)) * ball.hSpeed * dt"
															}
														},
														{
															"type": "comment",
															"text": "Лерпим vOffset к высоте центра Бита (отрицательное значение)"
														},
														{
															"id": "set-instvar-value",
															"objectClass": "ball",
															"sid": 117701889032770,
															"parameters": {
																"instance-variable": "vOffset",
																"value": "lerp(Self.vOffset, Bit.ImagePointY(\"center\") - ballShad.Y, 15 * dt)"
															}
														},
														{
															"type": "comment",
															"text": "Принудительно ставим шар в позицию (Shadow + Height)"
														},
														{
															"id": "set-x",
															"objectClass": "ball",
															"sid": 468279441993270,
															"parameters": {
																"x": "ballShad.X"
															}
														},
														{
															"id": "set-y",
															"objectClass": "ball",
															"sid": 717265818778388,
															"parameters": {
																"y": "ballShad.Y + ball.vOffset"
															}
														}
													],
													"sid": 642140018517769,
													"disabled": true,
													"children": [
														{
															"eventType": "comment",
															"text": "Финальное поглощение по дистанции"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 301654075571986,
																	"parameters": {
																		"first-value": "distance(ball.X, ball.Y, Bit.X, Bit.Y)",
																		"comparison": 2,
																		"second-value": "30"
																	}
																}
															],
															"actions": [
																{
																	"callFunction": "ballGoBank",
																	"sid": 582132619591749,
																	"parameters": [
																		"ball.UID"
																	]
																}
															],
															"sid": 844636731370252,
															"disabled": true
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "для реактивного, сильно уменьшенная гравитация, плоская дуга полёта"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 973542375554373,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 611926337643188,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 163359668003876,
											"parameters": {
												"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 575988405432534,
											"parameters": {
												"opacity": "Self.opac-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 217334096137503,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 767240218167896,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 264313168629310,
													"parameters": {
														"instance-variable": "jump"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 947093157545443,
													"parameters": {
														"instance-variable": "shadDelta",
														"value": "ballShad.Y-Self.startY"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 762794564929649,
													"parameters": {
														"instance-variable": "jumpHi",
														"value": "self.Y+(self.speed*base.zScale*dt-0.5*Self.gravity*dt^2)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 266351617542821,
													"parameters": {
														"y": "Self.jumpHi+Self.shadDelta"
													}
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 828344353597215,
													"parameters": {
														"instance-variable": "speed",
														"value": "(Self.gravity)*dt"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 272413628507038,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												}
											],
											"sid": 771780487728290
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n столкновение с шаром в момент приближения его к земле - двойная проверка коллизии, тени и шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 379126834236590,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "point",
									"sid": 147444026109187,
									"parameters": {
										"instance-variable": "ballTarget"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 215957016502170,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 709353779318400,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 738282079927640,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 451168852299000,
											"parameters": {
												"instance-variable": "hitUID",
												"comparison": 1,
												"value": "point.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 953586063515379,
											"parameters": {
												"instance-variable": "hitUID",
												"value": "point.UID"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 393956389494837,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"ball\""
											}
										}
									],
									"sid": 365694018418628
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 895333164545099,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "point",
									"sid": 702053628250457,
									"parameters": {
										"instance-variable": "ballTarget"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 755387849920577,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [],
							"sid": 836189255954559,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ballShad",
											"sid": 213310820699257,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 335246430957837,
											"parameters": {
												"instance-variable": "hitUID",
												"comparison": 1,
												"value": "point.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 586675169191407,
											"parameters": {
												"instance-variable": "hitUID",
												"value": "point.UID"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 832043483412382,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"ball\""
											}
										}
									],
									"sid": 103687514890194
								}
							]
						},
						{
							"eventType": "comment",
							"text": "для реактивного плода дополнительно проверка одиночных коллизий"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 150634703177633,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "ball",
									"sid": 940212442376088,
									"parameters": {
										"animation": "\"cucu\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 127437279529609,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 975765079980267,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								}
							],
							"sid": 210232444783557
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 223189344849522,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 566345713839888,
									"parameters": {
										"instance-variable": "dart",
										"comparison": 0,
										"value": "\"cucu\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 380060856394453,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 1,
										"value": "point.UID"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 664985486758026,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 663438904969675,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 185705651287923,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "nut",
									"sid": 103464287115757,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "nut",
									"sid": 454008793791823,
									"parameters": {
										"instance-variable": "destroy"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 735542589567685,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 0,
										"value": "nut.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 938208259507475,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 346679384152056,
									"disabled": true,
									"parameters": {
										"text": "\"b\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ball",
									"sid": 725414292392536,
									"parameters": {
										"animation": "\"crash\"",
										"from": "beginning"
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "ballShad",
									"sid": 583139410091172,
									"behaviorType": "Tween"
								},
								{
									"callFunction": "nutDestroy",
									"sid": 641681751757648,
									"parameters": [
										"nut.UID",
										"nut.Y"
									]
								}
							],
							"sid": 187148876189495
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 731081419846047,
									"parameters": {
										"object": "ser"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 372635175710853,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [],
							"sid": 729565134969864,
							"children": [
								{
									"eventType": "comment",
									"text": "шар замораживает всех, кого касается на линии броска"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ballShad",
											"sid": 861296614641814,
											"parameters": {
												"object": "ser"
											}
										},
										{
											"id": "is-visible",
											"objectClass": "ser",
											"sid": 681213865093604
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ser",
											"sid": 391955199636332,
											"parameters": {
												"instance-variable": "dartFormU"
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ser",
											"sid": 276677933540668,
											"parameters": {
												"animation": "\"piton\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ser",
											"sid": 857950050105905,
											"parameters": {
												"animation": "\"pitonEnd\""
											},
											"isInverted": true
										},
										{
											"id": "compare-animation-frame-tag",
											"objectClass": "ser",
											"sid": 280518136745137,
											"parameters": {
												"comparison": 1,
												"tag": "\"under\""
											}
										},
										{
											"id": "compare-animation-frame-tag",
											"objectClass": "ser",
											"sid": 946314928673373,
											"parameters": {
												"comparison": 1,
												"tag": "\"start\""
											}
										}
									],
									"actions": [],
									"sid": 209913217969519,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 765636294080500,
													"parameters": {
														"animation": "\"cocoon\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 336220779099239,
													"parameters": {
														"animation": "\"cocoonLoop\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 145191758378664,
													"parameters": {
														"animation": "\"mGun\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 979681871802704,
													"parameters": {
														"animation": "\"drop\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "instance-signal",
													"objectClass": "ser",
													"sid": 613172586178301,
													"parameters": {
														"tag": "\"frosen\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 265253641343562,
													"parameters": {
														"animation": "\"crash\"",
														"from": "beginning"
													}
												}
											],
											"sid": 831755608210448,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "stop-all-tweens",
															"objectClass": "ballShad",
															"sid": 623626914719822,
															"behaviorType": "Tween"
														},
														{
															"id": "stop-all-timers",
															"objectClass": "ballShad",
															"sid": 150651527723764,
															"disabled": true,
															"behaviorType": "Timer"
														}
													],
													"sid": 297082991450045
												}
											]
										},
										{
											"eventType": "comment",
											"text": "в аторежиме разбивается о выбранную цель"
										},
										{
											"eventType": "comment",
											"text": "в аторежиме разбивается о выбранную цель, в ручном - о первую цель"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "snowball",
													"sid": 564136748568214,
													"disabled": true,
													"parameters": {
														"instance-variable": "targUID",
														"comparison": 0,
														"value": "ser.UID"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "snowball",
													"sid": 641963049037048,
													"disabled": true,
													"parameters": {
														"instance-variable": "targUID",
														"comparison": 0,
														"value": "-1"
													}
												}
											],
											"actions": [],
											"sid": 462442554310737,
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nвозвращение шара в банк"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "ball",
									"sid": 177249828019674,
									"parameters": {
										"animation": "\"crash\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "ballGoBank",
									"sid": 675923222116301,
									"parameters": [
										"ball.UID"
									]
								}
							],
							"sid": 698817999151167
						}
					],
					"sid": 398126200249659
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   анимации и реакции связанные с шаром\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballOut",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\nотскок от запретных зон - отключен"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 857218843741762,
									"parameters": {
										"object": "zoneStop"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 952950484088965,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 193710365400760,
							"disabled": true,
							"children": [
								{
									"eventType": "comment",
									"text": "шар отскакивает"
								},
								{
									"eventType": "variable",
									"name": "progress",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 989503642238393
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-playing",
											"objectClass": "ballShad",
											"sid": 903212891359877,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 451398293090802,
											"parameters": {
												"instance-variable": "dart",
												"comparison": 0,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 764774204107685,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 606517105894672,
											"parameters": {
												"variable": "progress",
												"value": "ballShad.Tween.Progress(\"go\")"
											}
										},
										{
											"id": "stop-tweens",
											"objectClass": "ballShad",
											"sid": 786665350423537,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "instance-signal",
											"objectClass": "ballShad",
											"sid": 793303997970212,
											"parameters": {
												"tag": "\"back\""
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ballShad",
											"sid": 803092635334773,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"back\"",
												"property": "position",
												"end-x": "base.X",
												"end-y": "base.Y",
												"time": "0.1+Self.long/aGame.ballSpeed*progress",
												"ease": "easeinsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 391452801416325,
									"disabled": true
								},
								{
									"eventType": "comment",
									"text": "плоды исчезают или реагируют"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 312752916150751
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 263580541899054,
											"parameters": {
												"instance-variable": "dart",
												"comparison": 1,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "ballHitNordik",
											"sid": 413057485301982,
											"disabled": true,
											"parameters": [
												"\"zoneStop\""
											]
										},
										{
											"callFunction": "ballHit",
											"sid": 759369778933435,
											"parameters": [
												"\"zoneStop\""
											]
										}
									],
									"sid": 239153936636736,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nпроглатывание вернувшегося шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 702823826255427,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\""
									}
								},
								{
									"id": "is-pinned",
									"objectClass": "ball",
									"sid": 234761167898259,
									"behaviorType": "Pin",
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 978964312538361,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 492993282276454,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 967671806122023,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 129367564796778,
											"parameters": {
												"object": "Bit"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 655714576654040,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 274323589469435,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 714216227352327,
											"disabled": true,
											"parameters": [
												"\"ball9\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"basis.move=1?24:12",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"callFunction": "ballGoBank",
											"sid": 769120221833280,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 635412093980989
								},
								{
									"eventType": "comment",
									"text": "если шар пролетел мимо направляем прямо к герою"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 150227879565159
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 424300812119077,
											"parameters": {
												"object": "Bit"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 771239107315600,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallX\"",
												"property": "offsetX",
												"end-value": "Bit.X",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 895497008735093,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallY\"",
												"property": "offsetY",
												"end-value": "Bit.ImagePointY(2)",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 631097144832017
								}
							]
						},
						{
							"eventType": "comment",
							"text": "завершение анимации бросания шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 744560861710953,
									"parameters": {
										"animation": "\"ball0\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 146104812731883,
									"parameters": {
										"animation": "\"ball1\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 243964175643626,
									"parameters": {
										"animation": "\"ball2\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 684609687110670,
									"parameters": {
										"animation": "\"ball6\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 165584487056393,
									"parameters": {
										"animation": "\"ball7\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 956804808970151,
									"parameters": {
										"animation": "\"ball9\""
									}
								},
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 881751504809085,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"getBall\""
									}
								}
							],
							"actions": [],
							"sid": 973182623487538,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 953158240020733,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "person.name"
											}
										}
									],
									"actions": [],
									"sid": 619588224370970,
									"children": [
										{
											"eventType": "comment",
											"text": "возврат к анимации движения"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "basis",
													"sid": 516902225042543,
													"parameters": {
														"instance-variable": "move"
													}
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 969695745042195,
													"parameters": [
														"person.UID",
														"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"0",
														"person.AnimationFrame",
														"555",
														"0"
													]
												}
											],
											"sid": 683888743734882
										},
										{
											"eventType": "comment",
											"text": "переход к анимации стояния"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 342942836458620
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 783719401109041,
													"parameters": [
														"person.UID",
														"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
														"0",
														"0",
														"777",
														"0"
													]
												}
											],
											"sid": 212391486387996
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "отключение группы"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 458745452856114,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 261758600160120,
									"parameters": {
										"group-name": "\"ballOut\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 931751894330546
						}
					],
					"sid": 521573656900537
				},
				{
					"eventType": "comment",
					"text": " \n\n\n   стратегии Бита\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "strategy",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "jump",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 974052915506050
						},
						{
							"eventType": "variable",
							"name": "hide",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 962358345328532
						},
						{
							"eventType": "variable",
							"name": "gun",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 600550153918270
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 924708298316782,
									"parameters": {
										"interval-seconds": "0.33"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 424921319995216,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 257439378000697,
									"parameters": {
										"instance-variable": "respawn"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 128392508310145,
									"parameters": {
										"instance-variable": "intersept"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 819781916508156,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aMico",
											"sid": 491117792294858,
											"parameters": {
												"instance-variable": "BitHide"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 239827219406401,
											"parameters": {
												"instance-variable": "autoVega"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 104313759974217,
											"parameters": {
												"variable": "hide",
												"value": "1"
											}
										}
									],
									"sid": 561636959705153,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 969783567473025,
											"parameters": {
												"instance-variable": "autoGun"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 646201071321885,
											"parameters": {
												"variable": "gun",
												"value": "1"
											}
										}
									],
									"sid": 105975536079152
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 643708726060281,
											"parameters": {
												"instance-variable": "jump"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 784357785585771,
											"parameters": {
												"variable": "jump",
												"value": "1"
											}
										}
									],
									"sid": 774349530983984
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 308805810332211
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 993836705778661,
											"parameters": {
												"instance-variable": "move"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 925980001817617,
											"parameters": {
												"variable": "jump",
												"value": "clamp(jump-1,0,10)"
											}
										}
									],
									"sid": 388215382406117
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 604091467695408,
									"parameters": {
										"interval-seconds": "7"
									}
								}
							],
							"actions": [],
							"sid": 892152325933110,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 844297300872292,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "hide"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 910493754885772,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "gun"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 263539790877482,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 995489363083856,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"jump\""
											}
										}
									],
									"sid": 808347848761539
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 300284402914016
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 686741211818451,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "jump"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 583532868801930,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "gun"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 151012471544163,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 832573930303245,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"hide\""
											}
										}
									],
									"sid": 387910862254764
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 239600853288115
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 162415441363177,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "jump"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 851713002152310,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "hide"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 543816546065138,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 659522071277999,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"gun\""
											}
										}
									],
									"sid": 507722666641499
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 804589673582173
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 669321913702936,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"zero\""
											}
										}
									],
									"sid": 497184743141151
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 657090854352556,
											"parameters": {
												"variable": "gun"
											}
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 130753743956752,
											"parameters": {
												"variable": "gun"
											}
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 832886996818690,
											"parameters": {
												"variable": "gun"
											}
										}
									],
									"sid": 762252368627636
								}
							]
						}
					],
					"sid": 823954859734686
				},
				{
					"eventType": "comment",
					"text": "\n\n\nвылетающие из кустов листья от различных реакций - по завершении анимации удаляем"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "bushInto",
							"sid": 226337877889136
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "bushInto",
							"sid": 199465946208846
						}
					],
					"sid": 157500249592639
				}
			],
			"sid": 182490014787728
		}
	],
	"sid": 988122769842385
}