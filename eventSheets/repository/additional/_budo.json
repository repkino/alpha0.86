{
	"name": "_budo",
	"events": [
		{
			"eventType": "comment",
			"text": "\n\n\n\nЛист атаки \"Бросок снаряда\": мицелиевого шара, энерго-сферы и так далее. \nКое-что надо модернизировать.\n\n"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "budo",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "\n\n\n атака снарядами - новая функция"
				},
				{
					"functionName": "attack",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "forceTargetMod",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 642024343226787
						},
						{
							"name": "endTargetMod",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 283050565665906
						},
						{
							"name": "forceSnowball",
							"type": "boolean",
							"initialValue": "false",
							"comment": "",
							"sid": 135373970504806
						},
						{
							"name": "forceBallType",
							"type": "string",
							"initialValue": "zero",
							"comment": "",
							"sid": 324675346587909
						},
						{
							"name": "strike",
							"type": "boolean",
							"initialValue": "true",
							"comment": "",
							"sid": 827923528293265
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 120276587750738,
					"children": [
						{
							"eventType": "comment",
							"text": "принудительное включение снежка"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 902678236228310,
									"parameters": {
										"variable": "forceSnowball"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 545381577656769,
									"parameters": {
										"instance-variable": "snowBall",
										"value": "true"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 293736107984577,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "deactivated"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 374948903344139,
									"parameters": {
										"group-name": "\"preGun\"",
										"state": "activated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 349131778151940,
									"parameters": {
										"group-name": "\"gun\"",
										"state": "activated"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aIns",
									"sid": 486947907282897,
									"parameters": {
										"instance-variable": "gunDirectTarget",
										"value": "1"
									}
								}
							],
							"sid": 862721946598018,
							"children": [
								{
									"eventType": "comment",
									"text": "! сделать смену снаряда - в переменных и UI"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 568814878933853
								}
							]
						},
						{
							"eventType": "comment",
							"text": "принудительное включение типа снарядов"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 612818514189667
								},
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 534227884726302,
									"parameters": {
										"variable": "forceBallType",
										"comparison": 1,
										"value": "\"zero\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 835533224906250,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 296333704745511,
									"parameters": {
										"instance-variable": "snowBall",
										"value": "false"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 774005855143415,
									"parameters": {
										"group-name": "\"preGun\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 517701499362984,
									"parameters": {
										"group-name": "\"gun\"",
										"state": "deactivated"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 715346174516529,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "activated"
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 876734697421487,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								}
							],
							"sid": 493233137763231,
							"children": [
								{
									"eventType": "comment",
									"text": "! сделать смену снаряда - в переменных и UI"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [],
									"sid": 669746740281428
								}
							]
						},
						{
							"eventType": "comment",
							"text": "включение режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 476517998893701,
									"parameters": {
										"variable": "forceTargetMod"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 576387410460959,
									"parameters": {
										"instance-variable": "targetMod"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "? "
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 354561145112914,
									"parameters": {
										"group-name": "\"ballTarget\"",
										"state": "activated"
									}
								},
								{
									"callFunction": "ballTarget",
									"sid": 642405383043655,
									"parameters": [
										"aGame.ballType"
									]
								}
							],
							"sid": 806846925244180
						},
						{
							"eventType": "comment",
							"text": "отключение режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 650627233156707
								},
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 418507382459817,
									"parameters": {
										"variable": "endTargetMod"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 866681069930446,
									"parameters": {
										"instance-variable": "targetMod"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 558694373396859,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"endBallTarget\""
									}
								}
							],
							"sid": 908489836333939
						},
						{
							"eventType": "comment",
							"text": "атака"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 202363822416611,
									"parameters": {
										"variable": "strike"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 343604748374185,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 1,
										"value": "\"noMouse\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 839552566240405,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 1,
										"value": "\"onlyJump\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aaa",
									"sid": 959641838830060,
									"parameters": {
										"instance-variable": "controlBlock"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 945512454279264,
									"parameters": {
										"instance-variable": "noGun"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 600343466053758,
									"disabled": true,
									"parameters": {
										"instance-variable": "hero",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBook",
									"sid": 232951739906295,
									"disabled": true,
									"parameters": {
										"instance-variable": "keyboard"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 614686611436338,
									"disabled": true,
									"parameters": {
										"object": "map"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "map",
									"sid": 474002821027783,
									"disabled": true,
									"parameters": {
										"instance-variable": "callM",
										"comparison": 0,
										"value": "\"ball\""
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "info",
									"sid": 798025251483273,
									"disabled": true,
									"parameters": {
										"text": "\"b\""
									}
								}
							],
							"sid": 347458635947031,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 607371308162262,
											"parameters": {
												"instance-variable": "snowBall"
											}
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 496527688816348,
											"parameters": {
												"group-name": "\"ball\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 681194056314560,
											"parameters": {
												"group-name": "\"preGun\"",
												"state": "activated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 645871172555021,
											"parameters": {
												"group-name": "\"gun\"",
												"state": "activated"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aIns",
											"sid": 744236766555747,
											"parameters": {
												"instance-variable": "gunDirectTarget",
												"value": "1"
											}
										},
										{
											"callFunction": "gun",
											"sid": 481197790863038,
											"parameters": [
												false,
												true,
												"-1"
											]
										}
									],
									"sid": 570146807479152
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 832281967495674
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 441458135003154,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [],
									"sid": 347587853634626,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "basis",
													"sid": 556867926738181,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"preBall\""
													}
												},
												{
													"id": "is-timer-running",
													"objectClass": "basis",
													"sid": 988694743041178,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"ballOut\""
													}
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "aGame",
													"sid": 712736961733320,
													"parameters": {
														"instance-variable": "nextBall",
														"value": "true"
													}
												}
											],
											"sid": 122546889477665,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 907481625138846
												}
											],
											"actions": [
												{
													"id": "set-boolean-instvar",
													"objectClass": "aGame",
													"sid": 915721812987730,
													"disabled": true,
													"parameters": {
														"instance-variable": "nextBall",
														"value": "false"
													}
												},
												{
													"id": "append-text",
													"objectClass": "info",
													"sid": 197331434594560,
													"disabled": true,
													"parameters": {
														"text": "\"c\""
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 804422997211243,
													"parameters": {
														"group-name": "\"preGun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 387246939706870,
													"parameters": {
														"group-name": "\"gun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 285980572224435,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "activated"
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "basis",
													"sid": 265898055714858,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"noBall\""
													}
												},
												{
													"id": "start-timer",
													"objectClass": "basis",
													"sid": 244317329092289,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.35",
														"type": "once",
														"tag": "\"preBall\""
													}
												},
												{
													"callFunction": "ball",
													"sid": 714718918948796,
													"parameters": [
														"\"target\"",
														"Mouse.X",
														"Mouse.Y"
													]
												}
											],
											"sid": 430192504997564
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "\n\n\nрежим прицеливания: включение, сопровождение, отключение"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballTarget",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "При нажатии на панели кнопки шара или плода активируется режим прицела на курсоре, который будет стрелять (кидать) шарами на ЛКМ, пока не кончатся плоды. Отключение режима через нажатие на ту же кнопку или любую другую кнопку панелей, кроме плодов - они активируют режим с другим плодом. Так же нажатие ПКМ и СКМ и Esc отключат режим, также это сделает пробел при этом стреляя в обычном режиме. Также отключение может вызвать нападение на героя. Если режим отключается, надо отключить и группы шара. В режиме другие функции мыши отключаются."
						},
						{
							"functionName": "ballTarget",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "button",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 750392641655978
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 885532827150923,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 167536321396638,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "mouse-button-is-down",
									"objectClass": "Mouse",
									"sid": 697094756670798,
									"disabled": true,
									"parameters": {
										"mouse-button": "left"
									}
								}
							],
							"actions": [],
							"sid": 133968950078944,
							"children": [
								{
									"eventType": "comment",
									"text": "включение режима прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 845071904340512,
											"parameters": {
												"instance-variable": "targetMod"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 370154698969472,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "true"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 937109951914062,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 914162306582064,
											"disabled": true,
											"parameters": {
												"instance-variable": "canimation",
												"value": "aGame.activeFruit"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 411511875692446,
											"disabled": true,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 161562012015725,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "1"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 956824939717917,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cursor",
											"sid": 556107772782193,
											"parameters": {
												"animation": "\"targetNot\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 787821590609380,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetNot\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 945436966173418,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 623942336621757,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 213324381922383,
													"parameters": {
														"instance-variable": "snowBall"
													}
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 719053186233049,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 810387582945490,
													"parameters": {
														"group-name": "\"preGun\"",
														"state": "activated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 627251790371827,
													"parameters": {
														"group-name": "\"gun\"",
														"state": "activated"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aIns",
													"sid": 239858467277729,
													"parameters": {
														"instance-variable": "gunDirectTarget",
														"value": "1"
													}
												}
											],
											"sid": 267267597212963
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 783768509834058
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 973405352771947,
													"parameters": {
														"group-name": "\"preGun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 519240364921781,
													"parameters": {
														"group-name": "\"gun\"",
														"state": "deactivated"
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 260672301166426,
													"parameters": {
														"group-name": "\"ball\"",
														"state": "activated"
													}
												},
												{
													"id": "stop-timer",
													"objectClass": "basis",
													"sid": 125544530511986,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"noBall\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "Bit",
													"sid": 609323515042643,
													"parameters": {
														"animation": "\"dart\"",
														"from": "beginning"
													}
												}
											],
											"sid": 439259810818627
										}
									]
								},
								{
									"eventType": "comment",
									"text": "отключение"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 289741863513606
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 912311171203572,
											"parameters": {
												"instance-variable": "targetMod"
											}
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "aGame",
											"sid": 687601351805743,
											"parameters": {
												"instance-variable": "targetMod",
												"value": "false"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 752127739296501,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"cursor\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 751031003089309,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 521296962550215,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "aTools.cursorSizeCoeff"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 628673951229916,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 574381874876662,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 915071124783217,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "start-timer",
											"objectClass": "basis",
											"sid": 829795090409277,
											"behaviorType": "Timer",
											"parameters": {
												"duration": "5",
												"type": "once",
												"tag": "\"noBall\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 500181039764381,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 982517923741988,
											"parameters": {
												"group-name": "\"ball\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 147689513930136,
											"parameters": {
												"group-name": "\"preGun\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 576021349746889,
											"parameters": {
												"group-name": "\"gun\"",
												"state": "deactivated"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 101763434972817,
											"parameters": {
												"group-name": "\"ballTarget\"",
												"state": "deactivated"
											}
										}
									],
									"sid": 379784138698085
								},
								{
									"eventType": "comment",
									"text": "! устаревшее"
								},
								{
									"eventType": "comment",
									"text": "реакция основной кнопки"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 382742735679617,
											"parameters": {
												"variable": "button",
												"comparison": 0,
												"value": "\"fruits\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "buttFruits",
											"sid": 907970999879627,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttFruits",
											"sid": 629722251557569,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 522273463584065,
											"parameters": {
												"instance-variable": "lastFruit",
												"value": "button"
											}
										}
									],
									"sid": 532984370801184,
									"disabled": true
								},
								{
									"eventType": "comment",
									"text": "! устаревшее"
								},
								{
									"eventType": "comment",
									"text": "реакция кнопки плода"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 708084541260924
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 253975142109645,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 327258688406497,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 293344830954985,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 640582107192979,
											"parameters": {
												"instance-variable": "lastFruit",
												"value": "button"
											}
										}
									],
									"sid": 736666639221209,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nрежим прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 895033448251863,
									"parameters": {
										"instance-variable": "targetMod"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 434610694806696,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 659717078712226,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 112007515644410,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 745434860864838,
											"parameters": {
												"interval-seconds": "0.1"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 682444019265941,
											"parameters": {
												"object": "peel"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 108739924914470,
											"parameters": {
												"object": "cocobutton"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 521347421703854,
									"children": [
										{
											"eventType": "comment",
											"text": ""
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 341903100197183,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 606668425958530,
													"parameters": {
														"object": "map"
													}
												}
											],
											"actions": [],
											"sid": 481200848685038,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "point",
															"sid": 449447147792353,
															"parameters": {
																"instance-variable": "ballTarget"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "map",
															"sid": 702300224642013,
															"parameters": {
																"instance-variable": "ball"
															}
														}
													],
													"actions": [],
													"sid": 637447397884976,
													"children": [
														{
															"eventType": "comment",
															"text": "определение ареала прицеливания через обратное преобразование"
														},
														{
															"eventType": "variable",
															"name": "ang",
															"type": "number",
															"initialValue": "0",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 831813898971895
														},
														{
															"eventType": "variable",
															"name": "bIso",
															"type": "number",
															"initialValue": "0",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 984113491143581
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 618880943628826,
																	"parameters": {
																		"variable": "ang",
																		"value": "round(angle(basis.X,basis.Y,Mouse.X,Mouse.Y)-360*floor(angle(basis.X,basis.Y,Mouse.X,Mouse.Y)/360))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 176779972676381,
																	"parameters": {
																		"instance-variable": "mouseDist",
																		"value": "Functions.getIsoDist (basis.X,basis.Y,Mouse.X,Mouse.Y)"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 459655948591849,
																	"disabled": true,
																	"parameters": {
																		"variable": "bIso",
																		"value": "Functions.getIsoArray(ang)*aGame.ballRange"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 184583689630829,
																	"disabled": true,
																	"parameters": {
																		"variable": "bIso",
																		"value": "1/sqrt((sin(ang)/aGame.ballRIso)^2+(cos(ang)/aGame.ballRange)^2)"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 306559662930858,
																	"disabled": true,
																	"parameters": {
																		"variable": "bIso",
																		"value": "aGame.activeFruit=\"cucu\"?bIso*2:bIso"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 214087563035945,
																	"disabled": true,
																	"parameters": {
																		"instance-variable": "ballLong",
																		"value": "bIso"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 156742419859156,
																	"disabled": true,
																	"parameters": {
																		"instance-variable": "ballLong",
																		"value": "clamp(Functions.getIsoDist (basis.X,basis.Y,Mouse.X,Mouse.Y),120,bIso)"
																	}
																}
															],
															"sid": 389362727349959
														},
														{
															"eventType": "comment",
															"text": "если в зоне - курсор прицеливания, поворот гг к курсору "
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "aGame",
																	"sid": 332031199338878,
																	"parameters": {
																		"instance-variable": "mouseDist",
																		"comparison": 3,
																		"value": "aGame.ballRange"
																	}
																}
															],
															"actions": [
																{
																	"id": "callselffunction0",
																	"objectClass": "basis",
																	"sid": 610694412058052,
																	"behaviorType": "sf",
																	"parameters": {
																		"function_name:0": "\"rotateToMouse\""
																	}
																}
															],
															"sid": 613334665754814,
															"children": [
																{
																	"eventType": "comment",
																	"text": "противник"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "point",
																			"sid": 803306593119715,
																			"parameters": {
																				"instance-variable": "ballTarget"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 860815519926872,
																			"parameters": {
																				"animation": "\"ball\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 732430067190750,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"target\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 591085020591491,
																			"disabled": true,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 103664617307959
																},
																{
																	"eventType": "comment",
																	"text": "земля"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 675540514268938
																		},
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "map",
																			"sid": 818187991395434,
																			"parameters": {
																				"instance-variable": "ball"
																			}
																		}
																	],
																	"actions": [],
																	"sid": 953097418633633,
																	"children": [
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "is-boolean-instance-variable-set",
																					"objectClass": "aGame",
																					"sid": 834795540891556,
																					"parameters": {
																						"instance-variable": "snowBall"
																					}
																				}
																			],
																			"actions": [
																				{
																					"id": "set-animation",
																					"objectClass": "cursor",
																					"sid": 978408678644552,
																					"parameters": {
																						"animation": "\"targetS\"",
																						"from": "current-frame"
																					}
																				},
																				{
																					"id": "set-instvar-value",
																					"objectClass": "cursor",
																					"sid": 698221319855388,
																					"disabled": true,
																					"parameters": {
																						"instance-variable": "canimation",
																						"value": "\"targetStop\""
																					}
																				},
																				{
																					"id": "monitorstr1",
																					"objectClass": "vm",
																					"sid": 938714648188610,
																					"disabled": true,
																					"parameters": {
																						"tag0": "\"cursor\"",
																						"string1": "cursor.canimation"
																					}
																				}
																			],
																			"sid": 195972286230931
																		},
																		{
																			"eventType": "block",
																			"conditions": [
																				{
																					"id": "else",
																					"objectClass": "System",
																					"sid": 582103976814794
																				}
																			],
																			"actions": [
																				{
																					"id": "set-animation",
																					"objectClass": "cursor",
																					"sid": 165151638771537,
																					"parameters": {
																						"animation": "\"target\"",
																						"from": "current-frame"
																					}
																				}
																			],
																			"sid": 729825000230142
																		}
																	]
																},
																{
																	"eventType": "comment",
																	"text": "если курсор в зоне, но стрелять по объекту нельзя"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 247414115582575
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 373604670957149,
																			"parameters": {
																				"animation": "\"targetBlock\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 801023111593551,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"targetBlock\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 387624166516926,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 972827429394047
																}
															]
														},
														{
															"eventType": "comment",
															"text": "если курсор вне зоны"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 138250277568438
																}
															],
															"actions": [
																{
																	"id": "set-animation",
																	"objectClass": "cursor",
																	"sid": 321549387620755,
																	"parameters": {
																		"animation": "\"targetNot\"",
																		"from": "current-frame"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "cursor",
																	"sid": 368490488860185,
																	"parameters": {
																		"instance-variable": "canimation",
																		"value": "\"targetNot\""
																	}
																},
																{
																	"id": "monitorstr1",
																	"objectClass": "vm",
																	"sid": 291760136168468,
																	"parameters": {
																		"tag0": "\"cursor\"",
																		"string1": "cursor.canimation"
																	}
																}
															],
															"sid": 491827685234432
														}
													],
													"isOrBlock": true
												},
												{
													"eventType": "comment",
													"text": "нельзя стрелять по объекту"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 915426253230688
														}
													],
													"actions": [
														{
															"id": "set-animation",
															"objectClass": "cursor",
															"sid": 815310475414882,
															"parameters": {
																"animation": "\"targetBlock\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "cursor",
															"sid": 325454186701055,
															"parameters": {
																"instance-variable": "canimation",
																"value": "\"targetBlock\""
															}
														},
														{
															"id": "monitorstr1",
															"objectClass": "vm",
															"sid": 770678520398398,
															"parameters": {
																"tag0": "\"cursor\"",
																"string1": "cursor.canimation"
															}
														}
													],
													"sid": 623566829847049
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "comment",
											"text": "курсор над пустотой"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 876907304175182
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "cursor",
													"sid": 672812046243813,
													"parameters": {
														"animation": "\"targetBlock\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 753520801825963,
													"parameters": {
														"instance-variable": "canimation",
														"value": "\"targetBlock\""
													}
												},
												{
													"id": "monitorstr1",
													"objectClass": "vm",
													"sid": 320372396774013,
													"parameters": {
														"tag0": "\"cursor\"",
														"string1": "cursor.canimation"
													}
												}
											],
											"sid": 915513790911703
										}
									]
								},
								{
									"eventType": "comment",
									"text": "\n\n способы отключения режима прицеливания\n"
								},
								{
									"eventType": "comment",
									"text": "клик над панелями"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-any-click",
											"objectClass": "Mouse",
											"sid": 681805028940050
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 642594184054737,
											"parameters": {
												"object": "peel"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 170016034512889,
											"parameters": {
												"object": "invSecTB"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 926342368402070,
											"parameters": {
												"object": "inventory"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 183161626297114,
											"parameters": {
												"object": "invSecR"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 202233630882958,
											"parameters": {
												"object": "indSecSet"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 905696301787310,
											"disabled": true,
											"parameters": {
												"object": "buttFruits"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 925326402120084,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 732611712475994,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 133148661278489,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 719538854854462,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"inventory\""
													}
												}
											],
											"actions": [
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 479664695755743,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												}
											],
											"sid": 953858037681515,
											"isOrBlock": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "навигация над панелью, открывание способностей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onselffunction0",
											"objectClass": "inventory",
											"sid": 239734052139859,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 704662815759499,
											"parameters": {
												"key": 27
											}
										},
										{
											"id": "onselffunction0",
											"objectClass": "buttForms",
											"sid": 413712783805606,
											"disabled": true,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"forms\""
											}
										},
										{
											"id": "onselffunction0",
											"objectClass": "buttFlowers",
											"sid": 508875205211419,
											"disabled": true,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"flowers\""
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 387496284014865,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 485420823035709,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 516245238221569,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 396253208364136,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "при правом клике"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 630108026785645,
											"parameters": {
												"mouse-button": "right",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 220918856716673,
											"parameters": {
												"mouse-button": "middle",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 733525983361647,
											"parameters": {
												"mouse-button": "button-4",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 150579842688096,
											"parameters": {
												"mouse-button": "button-5",
												"click-type": "clicked"
											}
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 965657320581773,
											"parameters": {
												"seconds": "0.3",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 647566289497083,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										}
									],
									"sid": 138337950337394,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nфункция отключения режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "cursor",
									"sid": 721587205982259,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"endBallTarget\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 538705464274271,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 558065000087534,
									"parameters": {
										"instance-variable": "targetMod",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aTools",
									"sid": 261173402033815,
									"parameters": {
										"instance-variable": "mouseState",
										"value": "\"cursor\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 843662916442963,
									"disabled": true,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "0.8"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 356062135870277,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "aTools.cursorSizeCoeff"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 127609707295972,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"resize\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 665585848974724,
									"parameters": {
										"instance-variable": "canimation",
										"value": "\"targetEnd\""
									}
								},
								{
									"id": "monitorstr1",
									"objectClass": "vm",
									"sid": 381243515268557,
									"parameters": {
										"tag0": "\"cursor\"",
										"string1": "cursor.canimation"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 645766824346033,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "5",
										"type": "once",
										"tag": "\"noBall\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 884421328481771,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 282414998534419,
									"disabled": true,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 171792330566688,
									"parameters": {
										"group-name": "\"preGun\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 544191320401470,
									"parameters": {
										"group-name": "\"gun\"",
										"state": "deactivated"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 599009893352686,
									"parameters": {
										"group-name": "\"ballTarget\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 491676849080919
						},
						{
							"eventType": "comment",
							"text": "\n\nбросок левой кнопкой мыши в режиме прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-click",
									"objectClass": "Mouse",
									"sid": 147037002865813,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked"
									}
								},
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 921728928006124,
									"parameters": {
										"key": 32
									}
								}
							],
							"actions": [],
							"sid": 442765562844275,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 226715982165628,
											"parameters": {
												"instance-variable": "targetMod"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aMico",
											"sid": 604907838884917,
											"parameters": {
												"instance-variable": "BitSpiky",
												"comparison": 2,
												"value": "25"
											}
										}
									],
									"actions": [],
									"sid": 864932134652035,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "cursor",
													"sid": 441178295296419,
													"parameters": {
														"animation": "\"target\""
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "cursor",
													"sid": 433107090336537,
													"parameters": {
														"animation": "\"ball\""
													}
												}
											],
											"actions": [
												{
													"callFunction": "ballNordik",
													"sid": 383211778603280,
													"disabled": true,
													"parameters": [
														"\"target\"",
														"Mouse.X",
														"Mouse.Y"
													]
												},
												{
													"callFunction": "ball",
													"sid": 597556127869713,
													"disabled": true,
													"parameters": [
														"\"target\"",
														"Mouse.X",
														"Mouse.Y"
													]
												},
												{
													"callFunction": "attack",
													"sid": 165396519638123,
													"parameters": [
														false,
														false,
														false,
														"\"zero\"",
														true
													]
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 227359841313365,
													"disabled": true,
													"parameters": {
														"instance-variable": "canimation",
														"value": "\"targetEnd\""
													}
												},
												{
													"id": "monitorstr1",
													"objectClass": "vm",
													"sid": 623315802729477,
													"disabled": true,
													"parameters": {
														"tag0": "\"cursor\"",
														"string1": "cursor.canimation"
													}
												}
											],
											"sid": 498372555748772,
											"disabled": true,
											"isOrBlock": true
										}
									]
								}
							],
							"isOrBlock": true
						}
					],
					"sid": 715237644369189
				},
				{
					"eventType": "comment",
					"text": "\n\n\n    метание шара\n"
				},
				{
					"eventType": "comment",
					"text": "выполнение броска"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ball",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\n\n1/sqrt((sin(Sprite.Angle)/(a*ISO))^2+(cos(Sprite.Angle)/a)^2)"
						},
						{
							"functionName": "ball",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "mod",
									"type": "string",
									"initialValue": "key",
									"comment": "",
									"sid": 593737115746509
								},
								{
									"name": "xx",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 944895576236769
								},
								{
									"name": "yy",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 439229489852964
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 152954221114063,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 390350229458517,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "basis",
									"sid": 925874511200340,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"ballOut\""
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 793889939752406,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aMico",
									"sid": 646988372748211,
									"parameters": {
										"instance-variable": "BitSpiky",
										"comparison": 2,
										"value": "25"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 402020901482689,
									"disabled": true,
									"parameters": {
										"text": "\"L\""
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 541659446823307,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"type": "comment",
									"text": "! нужно добавить энергозатраты"
								}
							],
							"sid": 267360661643866,
							"children": [
								{
									"eventType": "comment",
									"text": "поворот героя к курсору"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 890159130370623,
											"parameters": {
												"instance-variable": "task",
												"value": "\"ball\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 973044478407448,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 886796318188157,
											"disabled": true,
											"parameters": [
												"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"basis.move=1?24:12",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 259180443800400,
											"disabled": true,
											"parameters": [
												"\"dart\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"30",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 748662515384485,
											"disabled": true,
											"parameters": {
												"animation": "\"swirl\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 416457357165969,
											"parameters": {
												"animation": "\"dart\"",
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 807400958604401,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "2"
											}
										},
										{
											"id": "start-animation",
											"objectClass": "Bit",
											"sid": 460032823607919,
											"parameters": {
												"from": "beginning"
											}
										}
									],
									"sid": 269427121756505
								},
								{
									"eventType": "comment",
									"text": "если не режим прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 753360595819347,
											"parameters": {
												"variable": "mod",
												"comparison": 1,
												"value": "\"target\""
											}
										}
									],
									"actions": [],
									"sid": 454024102544268,
									"children": [
										{
											"eventType": "comment",
											"text": "если цель законная"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 625285267586518,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "point",
													"sid": 475934798102895,
													"parameters": {
														"instance-variable": "ballTarget"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 125969654119513,
													"parameters": {
														"variable": "xx",
														"value": "point.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 280609986804886,
													"parameters": {
														"variable": "yy",
														"value": "point.Y"
													}
												}
											],
											"sid": 326810080123131,
											"children": [
												{
													"eventType": "comment",
													"text": "поворот гг к курсору"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 857483110416368,
															"parameters": {
																"key": 32
															},
															"isInverted": true
														},
														{
															"id": "mouse-button-is-down",
															"objectClass": "Mouse",
															"sid": 630599611090475,
															"parameters": {
																"mouse-button": "middle"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "callselffunction0",
															"objectClass": "basis",
															"sid": 566184100879899,
															"behaviorType": "sf",
															"parameters": {
																"function_name:0": "\"rotateToMouse\""
															}
														},
														{
															"customAction": "anim",
															"objectClass": "aaa",
															"sid": 234499402735641,
															"disabled": true,
															"parameters": [
																"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
																"2",
																"0",
																"\"zero\"",
																false,
																false,
																"\"Bit\"",
																"basis.move=1?24:12",
																"0",
																true,
																"\"zero\""
															]
														},
														{
															"customAction": "anim",
															"objectClass": "aaa",
															"sid": 119713197569119,
															"disabled": true,
															"parameters": [
																"\"dart\"",
																"2",
																"0",
																"\"zero\"",
																false,
																false,
																"\"Bit\"",
																"30",
																"0",
																true,
																"\"zero\""
															]
														},
														{
															"id": "set-animation",
															"objectClass": "Bit",
															"sid": 881115001215919,
															"disabled": true,
															"parameters": {
																"animation": "\"swirl\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "Bit",
															"sid": 699217501093296,
															"parameters": {
																"animation": "\"dart\"",
																"from": "beginning"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "Bit",
															"sid": 103633103490173,
															"parameters": {
																"instance-variable": "animPriority",
																"value": "2"
															}
														},
														{
															"id": "start-animation",
															"objectClass": "Bit",
															"sid": 688640451624901,
															"parameters": {
																"from": "beginning"
															}
														}
													],
													"sid": 749316596332799
												}
											]
										},
										{
											"eventType": "comment",
											"text": "координаты для броска - мышь"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 657199555334542
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 926120571277032,
													"parameters": {
														"variable": "xx",
														"value": "Mouse.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 838878774614263,
													"parameters": {
														"variable": "yy",
														"value": "Mouse.Y"
													}
												}
											],
											"sid": 128196801987210
										}
									]
								},
								{
									"eventType": "comment",
									"text": "! устаревшее, адаптировать"
								},
								{
									"eventType": "comment",
									"text": "вычетаем единицу из ключа шара/плода"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 951236271259339,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 475850751784846,
											"disabled": true,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "aGame.activeFruit"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "bAbil",
											"sid": 357493380272378,
											"disabled": true,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"bFruits\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 542974170140897,
											"parameters": {
												"group-name": "aGame.activeFruit",
												"state": "activated"
											}
										},
										{
											"id": "set-key",
											"objectClass": "dFruits",
											"sid": 233729180228715,
											"parameters": {
												"key": "aGame.activeFruit",
												"value": "dFruits.Get(aGame.activeFruit)-1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 294644063955939,
											"disabled": true,
											"parameters": {
												"text": "\"ch\""
											}
										}
									],
									"sid": 361444903635100,
									"disabled": true
								},
								{
									"eventType": "comment",
									"text": "! устаревшее, адаптировать"
								},
								{
									"eventType": "comment",
									"text": "если значение ключа 0 удаляем ключ, уменьшаем панель на количество ключей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 811347556807124,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-value",
											"objectClass": "dFruits",
											"sid": 535132604881132,
											"parameters": {
												"key": "aGame.activeFruit",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "delete-key",
											"objectClass": "dFruits",
											"sid": 917757611721487,
											"parameters": {
												"key": "aGame.activeFruit"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 241456538656262,
											"disabled": true,
											"parameters": {
												"instance-variable": "widthFruits",
												"value": "clamp(280+dFruits.KeyCount*70,285,1275)"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "peel",
											"sid": 907174705735505,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"inventory\"",
												"property": "offsetWidth",
												"end-value": "aUIN.widthFruits",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 120666688589855,
											"disabled": true,
											"parameters": {
												"text": "\"e\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 819748614621725,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 259020052228188,
											"parameters": {
												"instance-variable": "activeFruit",
												"value": "\"ball\""
											}
										}
									],
									"sid": 625320456155385,
									"disabled": true,
									"children": [
										{
											"eventType": "comment",
											"text": "при исчезновении плода, если был режим прицеливания, режим отключается"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "aGame",
													"sid": 825180325008024,
													"parameters": {
														"instance-variable": "targetMod"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 378526836439385,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aTools",
													"sid": 152164311814917,
													"parameters": {
														"instance-variable": "mouseState",
														"value": "\"cursor\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 387025623195983,
													"disabled": true,
													"parameters": {
														"instance-variable": "sizeCoeff",
														"value": "0.8"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 763677166198190,
													"parameters": {
														"instance-variable": "sizeCoeff",
														"value": "aTools.cursorSizeCoeff"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 608518776421914,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"resize\""
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 349498352873718,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 179907479329226,
													"parameters": {
														"group-name": "\"ballTarget\"",
														"state": "deactivated"
													}
												}
											],
											"sid": 932605124312237,
											"disabled": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "! устаревшее, адаптировать"
								},
								{
									"eventType": "comment",
									"text": "обновляем значки плодов"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 108624950406225,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "buttFruits",
											"sid": 825266430373575,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 547144831340990,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "buttFruits",
											"sid": 893528148260438,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"fruits\""
											}
										}
									],
									"sid": 668733680375569,
									"disabled": true
								},
								{
									"eventType": "comment",
									"text": "определение отзеркаливания гг"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 170232442286677,
											"parameters": {
												"state": "not-mirrored"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 145013505749554,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 941765077984458,
											"parameters": {
												"instance-variable": "task",
												"value": "\"zero\""
											}
										}
									],
									"sid": 193959242710391
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 765433659500358,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 330355263851124,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 519010883480254
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 296044953820829,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "2"
											}
										},
										{
											"id": "compare-x",
											"objectClass": "basis",
											"sid": 800243153469294,
											"parameters": {
												"comparison": 4,
												"x-co-ordinate": "Mouse.X"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 770534176279096,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 831832433569413
								},
								{
									"eventType": "comment",
									"text": "\n\nвыбор шара"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-outside-layout",
											"objectClass": "ballShad",
											"sid": 352960288809557
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 459066793614101,
											"parameters": {
												"instance-variable": "on"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 119296523016509,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-random-instance",
													"objectClass": "System",
													"sid": 155828875156418,
													"parameters": {
														"object": "ballShad"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "jumper",
													"sid": 375035342687206,
													"parameters": {
														"instance-variable": "name",
														"comparison": 0,
														"value": "\"Bit\""
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 759625841705735,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")",
														"y": "basis.direct=2?basis.Y+20: basis.direct=1|basis.direct=3?basis.Y+10:basis.direct>4?basis.Y-10:basis.Y+1"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ballShad",
													"sid": 840009390216829,
													"parameters": {
														"instance-variable": "on",
														"value": "true"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 477339592647133,
													"parameters": {
														"instance-variable": "dart",
														"value": "aGame.activeFruit"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "ballShad",
													"sid": 138800572279940,
													"parameters": {
														"angle": "0"
													}
												},
												{
													"id": "set-opacity",
													"objectClass": "ballShad",
													"sid": 996720380919950,
													"parameters": {
														"opacity": "Self.opas"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "ball",
													"sid": 520305284213720,
													"disabled": true,
													"parameters": {
														"scale": "0.75"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "ball",
													"sid": 340498778533293,
													"parameters": {
														"scale": "0.55"
													}
												},
												{
													"id": "set-scale",
													"objectClass": "ball",
													"sid": 534565965754489,
													"disabled": true,
													"parameters": {
														"scale": "aBook.heroScaleCoeff*1.5"
													}
												},
												{
													"id": "set-size",
													"objectClass": "ball",
													"sid": 355036623451799,
													"disabled": true,
													"parameters": {
														"width": "Self.ImageWidth*aBook.heroScaleCoeff*1.5",
														"height": "Self.ImageHeight*aBook.heroScaleCoeff*1.5"
													}
												},
												{
													"id": "set-angle",
													"objectClass": "ball",
													"sid": 764204992301827,
													"parameters": {
														"angle": "0"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 445455742022250,
													"disabled": true,
													"parameters": {
														"animation": "\"bStar\"",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 825606787369320,
													"parameters": {
														"animation": "\"snow\"",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 505117937704598,
													"disabled": true,
													"parameters": {
														"animation": "aGame.activeFruit",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 620041362896436,
													"disabled": true,
													"parameters": {
														"animation": "aGame.ballType",
														"from": "beginning"
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 655998550778516,
													"disabled": true,
													"parameters": {
														"animation": "aUI.aBallName",
														"from": "beginning"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 841081059096226,
													"parameters": {
														"instance-variable": "ballUID",
														"value": "ball.UID"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 490128100921690,
													"parameters": {
														"instance-variable": "xx",
														"value": "xx"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ballShad",
													"sid": 266738803614511,
													"parameters": {
														"instance-variable": "yy",
														"value": "yy"
													}
												},
												{
													"id": "set-x",
													"objectClass": "ballShad",
													"sid": 901630950017723,
													"parameters": {
														"x": "Bit.ImagePointX(\"gun\")"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ballShad",
													"sid": 543086042924747,
													"parameters": {
														"y": "base.Y- (jumper.Y - Bit.ImagePointY(\"gun\"))"
													}
												},
												{
													"id": "set-position",
													"objectClass": "ball",
													"sid": 437622151250174,
													"parameters": {
														"x": "ballShad.X",
														"y": "Bit.ImagePointY(\"gun\")"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 722598248529195,
													"parameters": {
														"instance-variable": "launchHeight",
														"value": "ballShad.Y - Bit.ImagePointY(\"gun\")"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "ball",
													"sid": 576339126811880,
													"parameters": {
														"instance-variable": "on",
														"value": "true"
													}
												},
												{
													"id": "pin-to-object-properties",
													"objectClass": "ball",
													"sid": 596160839375281,
													"behaviorType": "Pin",
													"parameters": {
														"pin-to": "ballShad",
														"x": true,
														"y": false,
														"angle": false,
														"width-type": "no",
														"height-type": "no",
														"z": false
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 917084621819292,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												},
												{
													"id": "set-enabled",
													"objectClass": "ball",
													"sid": 193307374960617,
													"behaviorType": "Tween",
													"parameters": {
														"mode": "enabled"
													}
												},
												{
													"id": "tween-value",
													"objectClass": "ball",
													"sid": 558428179377011,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"dart\"",
														"start-value": "0",
														"end-value": "1",
														"time": "0.26",
														"ease": "noease",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 573497021230395
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nметает снаряд в очереди"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 229587224188457,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"ballOut\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 273432558864880,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 291547421223764,
									"parameters": {
										"instance-variable": "nextBall"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aGame",
									"sid": 761144409413871,
									"parameters": {
										"instance-variable": "nextBall",
										"value": "false"
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 491744236935346,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"callFunction": "ball",
									"sid": 332050317180675,
									"parameters": [
										"\"target\"",
										"Mouse.X",
										"Mouse.Y"
									]
								}
							],
							"sid": 953347943111224
						},
						{
							"eventType": "comment",
							"text": "позиционирование шара в руке"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 507716737584460,
									"disabled": true,
									"parameters": {
										"animation": "\"dart\""
									}
								},
								{
									"id": "is-playing",
									"objectClass": "ball",
									"sid": 329612529805508,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"dart\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 272384402697454,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 125141830794008,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "jumper",
									"sid": 652121146562184,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-x",
									"objectClass": "ballShad",
									"sid": 173450007460665,
									"parameters": {
										"x": "Bit.ImagePointX(\"gun\")"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ballShad",
									"sid": 867969593288098,
									"parameters": {
										"y": "base.Y- (jumper.Y - Bit.ImagePointY(\"gun\"))"
									}
								},
								{
									"id": "set-x",
									"objectClass": "ball",
									"sid": 732128275822657,
									"parameters": {
										"x": "Bit.ImagePointX(\"gun\")"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ball",
									"sid": 786424376026019,
									"parameters": {
										"y": "Bit.ImagePointY(\"gun\")"
									}
								}
							],
							"sid": 454981825610084
						},
						{
							"eventType": "comment",
							"text": "\n\n\nбросок",
							"background-color": [
								0.996078431372549,
								0.7450980392156863,
								0.7450980392156863,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 232587340572606,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"dart\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 605520234037611,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 333246479285904,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "jumper",
									"sid": 184247410831806,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "гравитация реактивного плода в 10 раз меньше\nвысота прыжка и скорость так же изменены для плоской дуги полёта.\nДальность увеличена в два раза."
								},
								{
									"id": "set-x",
									"objectClass": "ballShad",
									"sid": 976130588559812,
									"parameters": {
										"x": "Bit.ImagePointX(\"gun\")"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ballShad",
									"sid": 999311356866174,
									"parameters": {
										"y": "base.Y- (jumper.Y - Bit.ImagePointY(\"gun\"))"
									}
								},
								{
									"id": "set-x",
									"objectClass": "ball",
									"sid": 990255219178759,
									"parameters": {
										"x": "Bit.ImagePointX(\"gun\")"
									}
								},
								{
									"id": "set-y",
									"objectClass": "ball",
									"sid": 728241574923990,
									"parameters": {
										"y": "Bit.ImagePointY(\"gun\")"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 323750977779306,
									"parameters": {
										"instance-variable": "launchHeight",
										"value": "ballShad.Y - Bit.ImagePointY(\"gun\")"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 917808450903204,
									"parameters": {
										"instance-variable": "ang",
										"value": "round(angle(Self.X,Self.Y,Self.xx,Self.yy)-360*floor(angle(Self.X,Self.Y,Self.xx,Self.yy)/360))"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 797074154234232,
									"parameters": {
										"instance-variable": "rangeIso",
										"value": "Functions.getIsoArray(Self.ang) * aGame.ballRange\n"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 129672763232962,
									"parameters": {
										"instance-variable": "rangeIso",
										"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso*2:Self.rangeIso"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 725829362854129,
									"parameters": {
										"instance-variable": "long",
										"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso: clamp(distance(base.X,base.Y,Self.xx,Self.yy),120,Self.rangeIso)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 649135370575514,
									"parameters": {
										"instance-variable": "state",
										"value": "\"on\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 424426722542419,
									"disabled": true,
									"parameters": {
										"instance-variable": "ang",
										"value": "round(angle(base.X,base.Y,Self.xx,Self.yy)-360*floor(angle(base.X,base.Y,Self.xx,Self.yy)/360))"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 294757988832727,
									"disabled": true,
									"parameters": {
										"instance-variable": "rangeIso",
										"value": "1/sqrt((sin(Self.ang)/aGame.ballRIso)^2+(cos(Self.ang)/aGame.ballRange)^2)\n"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 630063761285838,
									"disabled": true,
									"parameters": {
										"instance-variable": "long",
										"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso: clamp(distance(Self.X,Self.Y,Self.xx,Self.yy),120,Self.rangeIso)"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 597684896923467,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"go\"",
										"property": "position",
										"end-x": "Self.xx",
										"end-y": "Self.yy",
										"time": "0.2+Self.long/aGame.ballSpeed",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"type": "comment",
									"text": "Устанавливаем макс. высоту дуги: для cucu — 20, для остальных — база 100 + 20% от дистанции"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 612591720417845,
									"parameters": {
										"instance-variable": "arcHeight",
										"value": "aGame.activeFruit = \"cucu\" ? \"20\" : \"100 + (ballShad.long * 0.2)\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 982142778694665,
									"parameters": {
										"instance-variable": "vOffset",
										"value": "0"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "ballShad",
									"sid": 194279193455723,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "enabled"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 296688685459890,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"go\"",
										"property": "position",
										"end-x": "Self.xx",
										"end-y": "Self.yy",
										"time": "0.2 + (Self.long / Functions.getIsoArray(Self.ang)) / aGame.ballSpeed",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 319406504142367,
									"parameters": {
										"instance-variable": "gravity",
										"value": "aGame.activeFruit=\"cucu\"?400:4000"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 955350429985823,
									"parameters": {
										"instance-variable": "speed",
										"value": "aGame.activeFruit=\"cucu\"?-100:-(100+ballShad.long)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 830995758508752,
									"disabled": true,
									"parameters": {
										"instance-variable": "speed",
										"value": "aGame.activeFruit=\"cucu\"?-100:-800"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ball",
									"sid": 279249245668632,
									"disabled": true,
									"parameters": {
										"animation": "\"ball\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 983723651536488,
									"parameters": {
										"instance-variable": "jump",
										"value": "true"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 515839065724173,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"type": "comment",
									"text": "таймер отключающий активность шара для коллизий, чтобы он покинул тень героя"
								},
								{
									"id": "start-timer",
									"objectClass": "ballShad",
									"sid": 276255186940473,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.1",
										"type": "once",
										"tag": "\"out\""
									}
								},
								{
									"type": "comment",
									"text": "таймер для переключения групп"
								},
								{
									"id": "stop-timer",
									"objectClass": "base",
									"sid": 442058233662468,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"preBall\""
									}
								},
								{
									"id": "start-timer",
									"objectClass": "base",
									"sid": 599114100094474,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.3",
										"type": "once",
										"tag": "\"ballOut\""
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "base",
									"sid": 695141622222122,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"rotateToMouse\""
									}
								},
								{
									"customAction": "anim",
									"objectClass": "aaa",
									"sid": 449831913130076,
									"parameters": [
										"base.directNumbers=8? \"ball\"&(base.direct=3 ? 1 : base.direct=4 ? 0 : base.direct=5 ? 7 : base.direct) : base.directNumbers=6? \"ball\" & (base.direct=2 ? 1 : base.direct=3 ? 0 : base.direct=4 ? 5 : base.direct) :  \"ball1\"",
										"2",
										"0",
										"\"zero\"",
										false,
										false,
										"\"Bit\"",
										"base.move=1?24:12",
										"0",
										true,
										"\"zero\""
									]
								}
							],
							"sid": 509783848454723,
							"children": [
								{
									"eventType": "comment",
									"text": "Настройки для типа снаряда 'Мортира'",
									"background-color": [
										0.52,
										0.73,
										0.95,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aUI",
											"sid": 842253375146995,
											"parameters": {
												"instance-variable": "aBallName",
												"comparison": 0,
												"value": "\"mortar\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 811098383836117,
											"parameters": {
												"instance-variable": "arcHeight",
												"value": "ballShad.long * 0.8"
											}
										},
										{
											"type": "comment",
											"text": "Перезапускаем твин с увеличенным временем"
										},
										{
											"id": "stop-tweens",
											"objectClass": "ballShad",
											"sid": 107732946173282,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ballShad",
											"sid": 967348291375736,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\"",
												"property": "position",
												"end-x": "Self.xx",
												"end-y": "Self.yy",
												"time": "0.2 + (Self.long / Functions.getIsoArray(Self.ang)) / (aGame.ballSpeed*0.5)",
												"ease": "noease",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 210440942274252
								},
								{
									"eventType": "comment",
									"text": "\nдля реактивного плода угол и длина в изометрии (из-за продолговатости)\nвпоследствии надо сделать реактивную струю из частиц"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aUI",
											"sid": 148367179998295,
											"parameters": {
												"instance-variable": "aBallName",
												"comparison": 0,
												"value": "\"cucu\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 582758230963004,
											"disabled": true,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											}
										}
									],
									"actions": [
										{
											"id": "set-angle",
											"objectClass": "ball",
											"sid": 332219236156221,
											"parameters": {
												"angle": "ballShad.ang"
											}
										},
										{
											"id": "set-width",
											"objectClass": "ball",
											"sid": 916404916215945,
											"parameters": {
												"width": "1/sqrt((sin(ballShad.ang)/(Self.Width*aTools.isoCoeff))^2+(cos(ballShad.ang)/Self.Width)^2)"
											}
										},
										{
											"type": "comment",
											"text": "разбрасывание семян в полёте"
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 552230453721620,
											"parameters": {
												"seconds": "0.05",
												"use-timescale": true
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "ballShad",
											"sid": 695869449613514,
											"parameters": {
												"object": "cucuSeed",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 691363444713105,
											"parameters": {
												"seconds": "0.07",
												"use-timescale": true
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "ballShad",
											"sid": 581551499978254,
											"parameters": {
												"object": "cucuSeed",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										}
									],
									"sid": 204945443834601
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n после броска\n"
						},
						{
							"eventType": "comment",
							"text": "таймер включающий активность шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "ballShad",
									"sid": 593182290928750,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 408627712233402,
									"parameters": {
										"instance-variable": "state",
										"value": "\"run\""
									}
								}
							],
							"sid": 508601845404022,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-group-active",
											"objectClass": "System",
											"sid": 396005773350436,
											"parameters": {
												"group-name": "\"ballOut\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 661095247472720,
											"parameters": {
												"group-name": "\"ballOut\"",
												"state": "activated"
											}
										}
									],
									"sid": 401252720955827
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nвозврат шара"
						},
						{
							"eventType": "comment",
							"text": "Обнуление vOffset и вертикальной скорости при приземлении. Инициализация разгона",
							"background-color": [
								0.67,
								0.98,
								0.79,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ballShad",
									"sid": 667949312458252,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"go\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 666316983290080,
									"disabled": true,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 517323873804688,
									"disabled": true,
									"parameters": {
										"text": "\".\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 239172102390849,
									"parameters": {
										"instance-variable": "vOffset",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 370032135156319,
									"parameters": {
										"instance-variable": "speed",
										"value": "-clamp(ballShad.long * 1.7, 80, 800)"
									}
								},
								{
									"type": "comment",
									"text": ""
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 938285893677586,
									"parameters": {
										"instance-variable": "back",
										"value": "true"
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 410357726081356,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\"",
										"property": "position",
										"end-x": "base.X",
										"end-y": "base.Y",
										"time": "0.1+Self.long/aGame.ballSpeed",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 291947778978062,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aUI",
											"sid": 124973773884435,
											"parameters": {
												"instance-variable": "aBallName",
												"comparison": 0,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Начинаем возврат с небольшой скоростью"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 191956828733237,
											"parameters": {
												"instance-variable": "hSpeed",
												"value": "150"
											}
										}
									],
									"sid": 520067798355062
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 789287754704127
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "эта переменная меняет характер возвращения, можно использовать для разнообразия снарядов"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 490638528351282,
											"parameters": {
												"instance-variable": "hSpeed",
												"value": "aGame.ballSpeed * Self.jumpCoeff"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 503544637505699,
											"disabled": true,
											"parameters": {
												"instance-variable": "gravity",
												"value": "3000"
											}
										}
									],
									"sid": 730368337577632
								}
							]
						},
						{
							"eventType": "comment",
							"text": "? при коллизии с базой проглатывается (может быть полезно при запрыгивании на платформы)"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 457639485166694,
									"parameters": {
										"object": "basis"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 508755247988787,
									"parameters": {
										"instance-variable": "on"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 365713920520951,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 654836549164563,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 220788352201712,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 789829694691057,
									"disabled": true,
									"parameters": {
										"text": "\"B\""
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 782217535142627,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 182148844309619,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								}
							],
							"sid": 773443678373253,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 716273437845366,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 236164861419160,
											"disabled": true,
											"parameters": {
												"animation": "\"swirl\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 430508490522155,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 476014458960737
								}
							]
						},
						{
							"eventType": "comment",
							"text": " при коллизии с тенью проглатывается"
						},
						{
							"eventType": "comment",
							"text": "ФИКС ПРИЁМА: Отвязка от тени и полет к прыгающему Биту (замена действий в №725262398110309)",
							"background-color": [
								0.49,
								0.7,
								0.38,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 450081512020181,
									"parameters": {
										"object": "shad"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 595530209432518,
									"parameters": {
										"instance-variable": "on"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "shad",
									"sid": 313070215955153,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 407183933218396,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 822192890538658,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 343984006066482,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 439403849747347,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 773921655610086,
									"disabled": true,
									"parameters": {
										"text": "\"H\""
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 325417593961199,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Bit",
									"sid": 607922915837163,
									"disabled": true,
									"parameters": {
										"animation": "\"ball9\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 728270190425057,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 342091175792640,
									"parameters": {
										"instance-variable": "jump",
										"value": "false"
									}
								}
							],
							"sid": 725262398110309,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 652480118073937,
											"parameters": {
												"object": "Bit"
											}
										}
									],
									"actions": [
										{
											"callFunction": "ballGoBank",
											"sid": 861931056819919,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 675758569952850,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 942037862278788,
													"parameters": {
														"animation": "\"ball9\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 582408368901280,
													"disabled": true,
													"parameters": {
														"animation": "\"swirl\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 499218281443114,
													"parameters": [
														"Bit.UID",
														"\"ball9\"",
														"0",
														"0",
														"basis.move=1?24:12",
														"0"
													]
												}
											],
											"sid": 589395615889804
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 368113992399559
										}
									],
									"actions": [
										{
											"id": "set-boolean-instvar",
											"objectClass": "ball",
											"sid": 541439748935793,
											"parameters": {
												"instance-variable": "goToHero",
												"value": "true"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "ballShad",
											"sid": 158475575737644,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"type": "comment",
											"text": "ОТВЯЗЫВАЕМ шар, чтобы он мог свободно лететь вверх к Биту"
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "ballShad",
											"sid": 399772628519565,
											"disabled": true,
											"parameters": {
												"instance-variable": "back",
												"value": "false"
											}
										},
										{
											"id": "unpin",
											"objectClass": "ball",
											"sid": 370222132849098,
											"disabled": true,
											"behaviorType": "Pin"
										},
										{
											"id": "set-enabled",
											"objectClass": "ball",
											"sid": 160517877819383,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"mode": "enabled"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ball",
											"sid": 786602462987748,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallX\"",
												"property": "position",
												"end-x": "Bit.X",
												"end-y": "Bit.ImagePointY(2)",
												"time": "0.1",
												"ease": "easeoutsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 185206576226852,
											"disabled": true,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 971487747891484
								}
							]
						},
						{
							"eventType": "comment",
							"text": "костыль для обязательной отправки снарядов в банк"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "ball",
									"sid": 736287631402235,
									"parameters": {
										"object": "Bit"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 721413946605906,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 837878283952733,
									"parameters": {
										"instance-variable": "end"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "shad",
									"sid": 505765057951543,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "ballShad",
									"sid": 284037628764090,
									"parameters": {
										"object": "shad"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 158549790701443,
									"parameters": {
										"instance-variable": "on"
									}
								}
							],
							"actions": [
								{
									"callFunction": "ballGoBank",
									"sid": 968946906715186,
									"parameters": [
										"ball.UID"
									]
								}
							],
							"sid": 497389612473872,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 606267452664762,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 129518868361881,
											"disabled": true,
											"parameters": {
												"animation": "\"swirl\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 496774798919076,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 759574899249183
								}
							]
						},
						{
							"eventType": "comment",
							"text": "финишное долетание до Бита"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ballShad",
									"sid": 928233907846373,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 823018390887185,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 407918589666686,
									"parameters": {
										"text": "\"T\""
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 645586055225933,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\"",
										"property": "position",
										"end-x": "base.X",
										"end-y": "base.Y",
										"time": "0.3+Self.long/1500",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "unpin",
									"objectClass": "ball",
									"sid": 751079133574599,
									"behaviorType": "Pin"
								},
								{
									"id": "set-visible",
									"objectClass": "ballShad",
									"sid": 439569249656416,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "ball",
									"sid": 940207752306165,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "enabled"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "ball",
									"sid": 664219144935411,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\"",
										"property": "offsetY",
										"end-value": "Bit.ImagePointY(2)",
										"time": "0.12",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 419089422921370,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 314336561402991,
											"parameters": {
												"object": "Bit"
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "help",
											"sid": 581723655518124,
											"parameters": {
												"text": "0"
											}
										},
										{
											"callFunction": "ballGoBank",
											"sid": 236014198714329,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 388939920485492,
									"disabled": true,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 641680093850002,
													"parameters": {
														"animation": "\"ball9\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 447299615813811,
													"parameters": [
														"Bit.UID",
														"\"ball9\"",
														"0",
														"0",
														"basis.move=1?24:12",
														"0"
													]
												}
											],
											"sid": 693613996016235,
											"disabled": true
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 226340994755307
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 623782857173028,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [],
									"sid": 147599036160965,
									"disabled": true,
									"children": [
										{
											"eventType": "comment",
											"text": "если Бит на земле"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "base",
													"sid": 875937521898247,
													"parameters": {
														"instance-variable": "hi",
														"comparison": 3,
														"value": "20"
													}
												}
											],
											"actions": [
												{
													"id": "append-text",
													"objectClass": "help",
													"sid": 151365608942879,
													"parameters": {
														"text": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 137828860191747,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallX\"",
														"property": "offsetX",
														"end-value": "Bit.X",
														"time": "0.12",
														"ease": "easeoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 356569324479675,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallY\"",
														"property": "offsetY",
														"end-value": "Bit.ImagePointY(\"center\")",
														"time": "0.12",
														"ease": "easeoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 763703175093367,
											"disabled": true
										},
										{
											"eventType": "comment",
											"text": "если Бит высоко смягчается поворот снаряда"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 131491148459116
												}
											],
											"actions": [
												{
													"id": "append-text",
													"objectClass": "help",
													"sid": 830703758572009,
													"parameters": {
														"text": "2"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 933958180063950,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallX\"",
														"property": "offsetX",
														"end-value": "Bit.X",
														"time": "0.12",
														"ease": "easeinsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												},
												{
													"id": "tween-one-property",
													"objectClass": "ball",
													"sid": 574153754313271,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"getBallY\"",
														"property": "offsetY",
														"end-value": "Bit.ImagePointY(\"center\")",
														"time": "0.12",
														"ease": "easeinoutsine",
														"destroy-on-complete": "no",
														"loop": "no",
														"ping-pong": "no",
														"repeat-count": "1"
													}
												}
											],
											"sid": 392294263071909,
											"disabled": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "?"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 582918251355235,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallX\""
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 373496583695466,
									"parameters": {
										"text": "3"
									}
								},
								{
									"callFunction": "ballGoBank",
									"sid": 129956058611452,
									"parameters": [
										"ball.UID"
									]
								}
							],
							"sid": 786088655804269,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 419960088517986,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "help",
											"sid": 881372844332080,
											"parameters": {
												"text": "4"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 315605117817024,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 172333452164536,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nотскакивание шара от собственной тени на полу\nдля плодов - переход к реакциям"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-y",
									"objectClass": "ball",
									"sid": 978801780320554,
									"parameters": {
										"comparison": 4,
										"y-co-ordinate": "ballShad.Y"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 656367035973282,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "ballShad",
									"sid": 487470525035071,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"callFunction": "ballHitNordik",
									"sid": 805954277599400,
									"disabled": true,
									"parameters": [
										"\"shad\""
									]
								},
								{
									"callFunction": "ballHit",
									"sid": 270070196602091,
									"parameters": [
										"\"shad\""
									]
								}
							],
							"sid": 884490799098655,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": "Шаг 3.3: Логика удара о землю (замена события №884490799098655)",
							"background-color": [
								0.49,
								0.7,
								0.38,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 842393786442001,
									"parameters": {
										"instance-variable": "vOffset",
										"comparison": 5,
										"value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 408672361382287,
									"parameters": {
										"instance-variable": "speed",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "Инвертируем скорость с потерей энергии (0.7)"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 471317181892990,
									"parameters": {
										"instance-variable": "speed",
										"value": "-Self.speed * 0.7"
									}
								},
								{
									"callFunction": "ballHit",
									"sid": 391407059063778,
									"parameters": [
										"\"shad\""
									]
								}
							],
							"sid": 865097979437618
						},
						{
							"eventType": "comment",
							"text": "\n\n\n снаряды после удара обо что-то\n"
						},
						{
							"eventType": "comment",
							"text": "\nшар возвращается в банк",
							"background-color": [
								0.611764705882353,
								0.8901960784313725,
								0.8705882352941177,
								1
							]
						},
						{
							"functionName": "ballGoBank",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "uid",
									"type": "number",
									"initialValue": "-1",
									"comment": "",
									"sid": 379720984455746
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 527105475531370,
									"parameters": {
										"unique-id": "uid"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 314063314060307,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 677771388708440,
									"disabled": true,
									"parameters": {
										"text": "\"L\""
									}
								},
								{
									"id": "unpin",
									"objectClass": "ball",
									"sid": 781499553192481,
									"behaviorType": "Pin"
								},
								{
									"id": "set-position",
									"objectClass": "ball",
									"sid": 190734151716635,
									"parameters": {
										"x": "-5000",
										"y": "-53000"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 861710794170583,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 493752378329182,
									"parameters": {
										"instance-variable": "jump",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 869734288716312,
									"parameters": {
										"instance-variable": "goToHero",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 621123506064016,
									"parameters": {
										"instance-variable": "state",
										"value": "\"zero\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 917017876062798,
									"parameters": {
										"instance-variable": "hSpeed",
										"value": "0"
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "ball",
									"sid": 158266212780923,
									"behaviorType": "Tween"
								},
								{
									"id": "set-enabled",
									"objectClass": "ball",
									"sid": 939357774828642,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "disabled"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ball",
									"sid": 980975269586350,
									"parameters": {
										"animation": "\"i\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-position",
									"objectClass": "ballShad",
									"sid": 630070194071259,
									"parameters": {
										"x": "-53000",
										"y": "-5000"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 401058319528576,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 447805826751211,
									"parameters": {
										"instance-variable": "back",
										"value": "false"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 227718221431608,
									"parameters": {
										"instance-variable": "end",
										"value": "false"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 286291792859006,
									"parameters": {
										"instance-variable": "state",
										"value": "\"zero\""
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "ballShad",
									"sid": 391200356645340,
									"behaviorType": "Tween"
								},
								{
									"id": "set-enabled",
									"objectClass": "ballShad",
									"sid": 639533934162448,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "disabled"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "ballShad",
									"sid": 707976907176788,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 373601359147060,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 473451013284696,
											"parameters": {
												"animation": "\"ball9\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Bit",
											"sid": 936709045905947,
											"parameters": {
												"instance-variable": "animPriority",
												"value": "0"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 828294191012549,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										}
									],
									"sid": 533347878319482
								}
							]
						},
						{
							"eventType": "comment",
							"text": "! устаревшее, адаптировать"
						},
						{
							"functionName": "ballHit",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "hitObject",
									"type": "string",
									"initialValue": "shad",
									"comment": "",
									"sid": 220923313802739
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 271348753742460,
							"children": [
								{
									"eventType": "comment",
									"text": "Шаг 3.4: Обновление ballHit под систему vOffset (замена действий в №650972516963071)",
									"background-color": [
										0.49,
										0.7,
										0.38,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 660012400157082,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Вместо прямой установки Y, ставим минимальную высоту над землей"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 534167436152766,
											"disabled": true,
											"parameters": {
												"instance-variable": "vOffset",
												"value": "0"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 935712393385918,
											"disabled": true,
											"parameters": {
												"y": "ballShad.Y-4"
											}
										}
									],
									"sid": 164228038434453
								},
								{
									"eventType": "comment",
									"text": "ИСПРАВЛЕНИЕ ОТСКОКА (вместо блока Шаг 3.3): Теперь срабатывает только при касании земли",
									"background-color": [
										0.67,
										0.98,
										0.79,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 858188716354009,
											"parameters": {
												"instance-variable": "vOffset",
												"comparison": 3,
												"value": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 134414196384185,
											"parameters": {
												"instance-variable": "speed",
												"comparison": 4,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "Инвертируем скорость только при реальном касании (vOffset <= 0)"
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 215620160121972,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed * 0.5"
											}
										},
										{
											"callFunction": "ballHit",
											"sid": 478138378580607,
											"parameters": [
												"\"shad\""
											]
										}
									],
									"sid": 880876113404069
								},
								{
									"eventType": "comment",
									"text": " взрывной плод"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 379063274842215,
											"parameters": {
												"animation": "\"cBoom\""
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "ball",
											"sid": 325525832799493,
											"parameters": {
												"object": "cBoom",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "cBoom",
											"sid": 981015263259122,
											"disabled": true,
											"parameters": {
												"object": "ball",
												"image-point-optional": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cBoom",
											"sid": 719474047285679,
											"parameters": {
												"animation": "\"boom\"",
												"from": "beginning"
											}
										},
										{
											"callFunction": "ballGoBank",
											"sid": 609404582592221,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 774375054134629,
									"children": [
										{
											"eventType": "comment",
											"text": "разбрасывание семян"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 888063205299389,
													"parameters": {
														"count": "choose(1,2,3)"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "cBoom",
													"sid": 272381912345914,
													"parameters": {
														"object": "cBoomSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-visible",
													"objectClass": "cBoomSeed",
													"sid": 974069748182005,
													"parameters": {
														"visibility": "invisible"
													}
												},
												{
													"id": "set-position",
													"objectClass": "cBoomSeed",
													"sid": 508072543516210,
													"parameters": {
														"x": "random(cBoom.X+100,cBoom.X-100)",
														"y": "random(cBoom.Y+40,cBoom.Y-40)"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 123479787608752,
													"parameters": {
														"seconds": "0.1",
														"use-timescale": true
													}
												},
												{
													"id": "set-animation",
													"objectClass": "cBoomSeed",
													"sid": 731045738415724,
													"disabled": true,
													"parameters": {
														"animation": "\"seed\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-animation-frame",
													"objectClass": "cBoomSeed",
													"sid": 303070839449882,
													"parameters": {
														"frame-number": "choose(0,1,2,3,4,5,6,7)"
													}
												},
												{
													"id": "set-visible",
													"objectClass": "cBoomSeed",
													"sid": 663912803534218,
													"parameters": {
														"visibility": "visible"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 154091571232653,
													"parameters": {
														"seconds": "5",
														"use-timescale": true
													}
												},
												{
													"id": "destroy",
													"objectClass": "cBoomSeed",
													"sid": 771298275309283
												}
											],
											"sid": 290218129370297
										}
									]
								},
								{
									"eventType": "comment",
									"text": "реактивный"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 778145054558075,
											"parameters": {
												"animation": "\"cucu\""
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "ball",
											"sid": 282977275521757,
											"parameters": {
												"object": "bushInto",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "bushInto",
											"sid": 697459779182867,
											"parameters": {
												"animation": "choose(\"sm\",\"sd\",\"sl\")",
												"from": "beginning"
											}
										},
										{
											"callFunction": "ballGoBank",
											"sid": 168159021853836,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 773685887282606,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Bit",
													"sid": 619197987731688
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "bushInto",
													"sid": 331512645225129,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 331595265493697
										}
									]
								},
								{
									"eventType": "comment",
									"text": "запутывающий"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 146997599971651,
											"parameters": {
												"animation": "\"creep\""
											}
										}
									],
									"actions": [],
									"sid": 846925270607314,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 416509017101039,
													"parameters": {
														"variable": "hitObject",
														"comparison": 0,
														"value": "\"zoneStop\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 136638837390334,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 622712243324955,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"callFunction": "ballGoBank",
													"sid": 283045142609869,
													"parameters": [
														"ball.UID"
													]
												}
											],
											"sid": 747977947006235
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 189238233816861,
													"parameters": {
														"variable": "hitObject",
														"comparison": 1,
														"value": "\"zoneStop\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 451916112329148,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 538116088718985,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 793621376589798,
													"parameters": {
														"object": "creepTrap",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "creepTrap",
													"sid": 563751904223108,
													"parameters": {
														"animation": "\"trap\"",
														"from": "beginning"
													}
												},
												{
													"callFunction": "ballGoBank",
													"sid": 396934027006982,
													"parameters": [
														"ball.UID"
													]
												}
											],
											"sid": 244721555401276
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Bit",
													"sid": 396375129636962
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "bushInto",
													"sid": 384528470590499,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 819029233421551
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\nкоэфф угасание скорости при отскоке"
						},
						{
							"eventType": "comment",
							"text": "!!! сделать угасание в зависимости от поверхностей"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 323770617055215,
									"parameters": {
										"object": "ballShad"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 497795053806046,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 931769060318925,
									"parameters": {
										"instance-variable": "dart",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 392580333805433,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [],
							"sid": 580333037365292,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 729060525281667,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 777013916304966,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.7"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 941042934503857,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 272284238354438,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 788898827646791,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.63"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 212658947983344,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.5"
											}
										}
									],
									"sid": 981182140907884
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n физика прыжков шара, размер тени\n",
							"background-color": [
								0.5254901960784314,
								0.7333333333333333,
								0.9529411764705882,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 974832547676327,
									"parameters": {
										"object": "ball"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 492099515765365,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 933078401014086,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [],
							"sid": 206736694383577,
							"children": [
								{
									"eventType": "comment",
									"text": "для всех кроме реактивного"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 101179326402448,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 781900919883174,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ballShad",
											"sid": 218098807390571,
											"parameters": {
												"instance-variable": "on"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 742235660751506,
											"parameters": {
												"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 556660158946533,
											"parameters": {
												"opacity": "Self.opas-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 862143172413314,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 992562946603983,
									"children": [
										{
											"eventType": "comment",
											"text": "Шаг 2: Расчет Y через прогресс твина (вставить внутрь условия ball.jump)",
											"background-color": [
												0.33,
												0.73,
												0.48,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-playing",
													"objectClass": "ballShad",
													"sid": 900015227158033,
													"behaviorType": "Tween",
													"parameters": {
														"tags": "\"go\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 578636236541731,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "((1 - ballShad.Tween.Progress(\"go\")) * ball.launchHeight) + (sin(ballShad.Tween.Progress(\"go\") * 180) * ball.arcHeight)"
													}
												},
												{
													"type": "comment",
													"text": "Сдвигаем шар по X на 10% от высоты, чтобы видеть дугу при вертикальных бросках"
												},
												{
													"id": "set-x",
													"objectClass": "ball",
													"sid": 200474773408063,
													"parameters": {
														"x": "ballShad.X + (ball.vOffset * 0.15)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 959609195719820,
													"parameters": {
														"y": "ballShad.Y - ball.vOffset"
													}
												}
											],
											"sid": 279234725704302
										},
										{
											"eventType": "comment",
											"text": "Шаг 3.2: Физика отскока через vOffset (вставить в блок Else)",
											"background-color": [
												0.33,
												0.73,
												0.48,
												1
											]
										},
										{
											"eventType": "comment",
											"text": "МАГНИТНЫЙ ВОЗВРАТ: Тень преследует Бита (добавить в блок Else №447899889860895)",
											"background-color": [
												0.33,
												0.73,
												0.48,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 984805493126742
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ballShad",
													"sid": 188340253547291,
													"parameters": {
														"instance-variable": "back"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 931440774537971,
													"parameters": {
														"instance-variable": "goToHero"
													},
													"isInverted": true
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 235034722457918,
													"disabled": true,
													"parameters": {
														"instance-variable": "jump"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "Тень шара плавно движется к текущим координатам Бита (base)"
												},
												{
													"type": "comment",
													"text": "Применяем гравитацию к скорости"
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 714123190591757,
													"parameters": {
														"instance-variable": "speed",
														"value": "ball.gravity * dt"
													}
												},
												{
													"type": "comment",
													"text": "Меняем смещение (vOffset) на основе скорости"
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 565216209186575,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "ball.speed * dt"
													}
												},
												{
													"type": "comment",
													"text": "Ограничиваем, чтобы шар не проваливался под тень (землю)"
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 650092533105746,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "min(Self.vOffset, 0)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 248154764300669,
													"parameters": {
														"y": "ballShad.Y + ball.vOffset"
													}
												},
												{
													"id": "set-size",
													"objectClass": "ballShad",
													"sid": 560296347693027,
													"disabled": true,
													"parameters": {
														"width": "Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
														"height": "(Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
													}
												},
												{
													"type": "comment",
													"text": "Разгоняем шар горизонтально"
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 743908304649248,
													"parameters": {
														"instance-variable": "hSpeed",
														"value": "3000 * dt"
													}
												},
												{
													"type": "comment",
													"text": "Двигаем тень к Биту с текущей скоростью (вместо лерпа)"
												},
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 719390640966214,
													"parameters": {
														"x": "Self.X + cos(angle(Self.X, Self.Y, basis.X, basis.Y)) * ball.hSpeed * dt",
														"y": "Self.Y + sin(angle(Self.X, Self.Y, basis.X, basis.Y)) * ball.hSpeed * dt"
													}
												}
											],
											"sid": 447899889860895,
											"children": [
												{
													"eventType": "comment",
													"text": "Если шар близко, заставляем его 'нырнуть' в центр корпуса"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 480084214903031,
															"parameters": {
																"first-value": "distance(ballShad.X, ballShad.Y, base.X, base.Y)",
																"comparison": 2,
																"second-value": "30"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "ball",
															"sid": 567402468283123,
															"parameters": {
																"instance-variable": "goToHero",
																"value": "true"
															}
														},
														{
															"id": "set-visible",
															"objectClass": "ballShad",
															"sid": 834764996166405,
															"parameters": {
																"visibility": "invisible"
															}
														}
													],
													"sid": 457784309639727
												}
											]
										},
										{
											"eventType": "comment",
											"text": "\n 'нырок' в Бита ",
											"background-color": [
												0.33,
												0.73,
												0.48,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 567173558060432
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 767675455082643,
													"parameters": {
														"instance-variable": "goToHero"
													}
												}
											],
											"actions": [
												{
													"id": "set-position",
													"objectClass": "ballShad",
													"sid": 900584503793879,
													"parameters": {
														"x": "Self.X + cos(angle(Self.X, Self.Y, basis.X, basis.Y)) * ball.hSpeed * dt",
														"y": "Self.Y + sin(angle(Self.X, Self.Y, basis.X, basis.Y)) * ball.hSpeed * dt"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 667890801125283,
													"disabled": true,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "lerp(Self.vOffset, 40, 10 * dt)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 489235289858796,
													"parameters": {
														"instance-variable": "vOffset",
														"value": "lerp(Self.vOffset, (ballShad.Y - Bit.ImagePointY(\"center\")) + 20, 10 * dt)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 779769421985297,
													"parameters": {
														"y": "ballShad.Y - ball.vOffset"
													}
												}
											],
											"sid": 604289492481430,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 218263632169635,
															"parameters": {
																"first-value": "distance(ball.X, ball.Y, Bit.X, Bit.Y)",
																"comparison": 2,
																"second-value": "20"
															}
														}
													],
													"actions": [],
													"sid": 361262276933269,
													"disabled": true
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "для реактивного, сильно уменьшенная гравитация, плоская дуга полёта"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 973542375554373,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 611926337643188,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 163359668003876,
											"parameters": {
												"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 575988405432534,
											"parameters": {
												"opacity": "Self.opas-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 217334096137503,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 767240218167896,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 264313168629310,
													"parameters": {
														"instance-variable": "jump"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 947093157545443,
													"parameters": {
														"instance-variable": "shadDelta",
														"value": "ballShad.Y-Self.startY"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 762794564929649,
													"parameters": {
														"instance-variable": "jumpHi",
														"value": "self.Y+(self.speed*basis.zScale*dt-0.5*Self.gravity*dt^2)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 266351617542821,
													"parameters": {
														"y": "Self.jumpHi+Self.shadDelta"
													}
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 828344353597215,
													"parameters": {
														"instance-variable": "speed",
														"value": "(Self.gravity)*dt"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 272413628507038,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												}
											],
											"sid": 771780487728290
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n столкновение с шаром в момент приближения его к земле - двойная проверка коллизии, тени и шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 379126834236590,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "point",
									"sid": 147444026109187,
									"parameters": {
										"instance-variable": "ballTarget"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 215957016502170,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 709353779318400,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 738282079927640,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 451168852299000,
											"parameters": {
												"instance-variable": "hitUID",
												"comparison": 1,
												"value": "point.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 953586063515379,
											"parameters": {
												"instance-variable": "hitUID",
												"value": "point.UID"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 393956389494837,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"ball\""
											}
										}
									],
									"sid": 365694018418628
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 895333164545099,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "point",
									"sid": 702053628250457,
									"parameters": {
										"instance-variable": "ballTarget"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 755387849920577,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [],
							"sid": 836189255954559,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ballShad",
											"sid": 213310820699257,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 335246430957837,
											"parameters": {
												"instance-variable": "hitUID",
												"comparison": 1,
												"value": "point.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 586675169191407,
											"parameters": {
												"instance-variable": "hitUID",
												"value": "point.UID"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 832043483412382,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"ball\""
											}
										}
									],
									"sid": 103687514890194
								}
							]
						},
						{
							"eventType": "comment",
							"text": "для реактивного плода дополнительно проверка одиночных коллизий"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 150634703177633,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "ball",
									"sid": 940212442376088,
									"parameters": {
										"animation": "\"cucu\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 127437279529609,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 975765079980267,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								}
							],
							"sid": 210232444783557
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 223189344849522,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 566345713839888,
									"parameters": {
										"instance-variable": "dart",
										"comparison": 0,
										"value": "\"cucu\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 380060856394453,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 1,
										"value": "point.UID"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 664985486758026,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 663438904969675,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 185705651287923,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "nut",
									"sid": 103464287115757,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "nut",
									"sid": 454008793791823,
									"parameters": {
										"instance-variable": "destroy"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 735542589567685,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 0,
										"value": "nut.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 938208259507475,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [
								{
									"id": "append-text",
									"objectClass": "help",
									"sid": 346679384152056,
									"disabled": true,
									"parameters": {
										"text": "\"b\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ball",
									"sid": 725414292392536,
									"parameters": {
										"animation": "\"crash\"",
										"from": "beginning"
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "ballShad",
									"sid": 583139410091172,
									"behaviorType": "Tween"
								},
								{
									"callFunction": "nutDestroy",
									"sid": 641681751757648,
									"parameters": [
										"nut.UID",
										"nut.Y"
									]
								}
							],
							"sid": 187148876189495
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 731081419846047,
									"parameters": {
										"object": "ser"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 372635175710853,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [],
							"sid": 729565134969864,
							"children": [
								{
									"eventType": "comment",
									"text": "шар замораживает всех, кого касается на линии броска"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ballShad",
											"sid": 861296614641814,
											"parameters": {
												"object": "ser"
											}
										},
										{
											"id": "is-visible",
											"objectClass": "ser",
											"sid": 681213865093604
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ser",
											"sid": 391955199636332,
											"parameters": {
												"instance-variable": "dartFormU"
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ser",
											"sid": 276677933540668,
											"parameters": {
												"animation": "\"piton\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ser",
											"sid": 857950050105905,
											"parameters": {
												"animation": "\"pitonEnd\""
											},
											"isInverted": true
										},
										{
											"id": "compare-animation-frame-tag",
											"objectClass": "ser",
											"sid": 280518136745137,
											"parameters": {
												"comparison": 1,
												"tag": "\"under\""
											}
										},
										{
											"id": "compare-animation-frame-tag",
											"objectClass": "ser",
											"sid": 946314928673373,
											"parameters": {
												"comparison": 1,
												"tag": "\"start\""
											}
										}
									],
									"actions": [],
									"sid": 209913217969519,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 765636294080500,
													"parameters": {
														"animation": "\"cocoon\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 336220779099239,
													"parameters": {
														"animation": "\"cocoonLoop\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 145191758378664,
													"parameters": {
														"animation": "\"mGun\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 979681871802704,
													"parameters": {
														"animation": "\"drop\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "instance-signal",
													"objectClass": "ser",
													"sid": 613172586178301,
													"parameters": {
														"tag": "\"frosen\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 265253641343562,
													"parameters": {
														"animation": "\"crash\"",
														"from": "beginning"
													}
												}
											],
											"sid": 831755608210448,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "stop-all-tweens",
															"objectClass": "ballShad",
															"sid": 623626914719822,
															"behaviorType": "Tween"
														},
														{
															"id": "stop-all-timers",
															"objectClass": "ballShad",
															"sid": 150651527723764,
															"disabled": true,
															"behaviorType": "Timer"
														}
													],
													"sid": 297082991450045
												}
											]
										},
										{
											"eventType": "comment",
											"text": "в аторежиме разбивается о выбранную цель"
										},
										{
											"eventType": "comment",
											"text": "в аторежиме разбивается о выбранную цель, в ручном - о первую цель"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "snowball",
													"sid": 564136748568214,
													"disabled": true,
													"parameters": {
														"instance-variable": "targUID",
														"comparison": 0,
														"value": "ser.UID"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "snowball",
													"sid": 641963049037048,
													"disabled": true,
													"parameters": {
														"instance-variable": "targUID",
														"comparison": 0,
														"value": "-1"
													}
												}
											],
											"actions": [],
											"sid": 462442554310737,
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nвозвращение шара в банк"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "ball",
									"sid": 177249828019674,
									"parameters": {
										"animation": "\"crash\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "ballGoBank",
									"sid": 675923222116301,
									"parameters": [
										"ball.UID"
									]
								}
							],
							"sid": 698817999151167
						}
					],
					"sid": 398126200249659
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   анимации и реакции связанные с шаром\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballOut",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\nотскок от запретных зон"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 857218843741762,
									"parameters": {
										"object": "zoneStop"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 952950484088965,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 193710365400760,
							"children": [
								{
									"eventType": "comment",
									"text": "шар отскакивает"
								},
								{
									"eventType": "variable",
									"name": "progress",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 989503642238393
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-playing",
											"objectClass": "ballShad",
											"sid": 903212891359877,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 451398293090802,
											"parameters": {
												"instance-variable": "dart",
												"comparison": 0,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 764774204107685,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 606517105894672,
											"parameters": {
												"variable": "progress",
												"value": "ballShad.Tween.Progress(\"go\")"
											}
										},
										{
											"id": "stop-tweens",
											"objectClass": "ballShad",
											"sid": 786665350423537,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ballShad",
											"sid": 803092635334773,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"back\"",
												"property": "position",
												"end-x": "base.X",
												"end-y": "base.Y",
												"time": "0.1+Self.long/aGame.ballSpeed*progress",
												"ease": "easeinsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 391452801416325
								},
								{
									"eventType": "comment",
									"text": "плоды исчезают или реагируют"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 312752916150751
										}
									],
									"actions": [
										{
											"callFunction": "ballHitNordik",
											"sid": 413057485301982,
											"disabled": true,
											"parameters": [
												"\"zoneStop\""
											]
										},
										{
											"callFunction": "ballHit",
											"sid": 759369778933435,
											"parameters": [
												"\"zoneStop\""
											]
										}
									],
									"sid": 239153936636736
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nпроглатывание вернувшегося шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 702823826255427,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\""
									}
								},
								{
									"id": "is-pinned",
									"objectClass": "ball",
									"sid": 234761167898259,
									"behaviorType": "Pin",
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 978964312538361,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 492993282276454,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 967671806122023,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 129367564796778,
											"parameters": {
												"object": "Bit"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 655714576654040,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 274323589469435,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 714216227352327,
											"disabled": true,
											"parameters": [
												"\"ball9\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"basis.move=1?24:12",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"callFunction": "ballGoBank",
											"sid": 769120221833280,
											"parameters": [
												"ball.UID"
											]
										}
									],
									"sid": 635412093980989
								},
								{
									"eventType": "comment",
									"text": "если шар пролетел мимо направляем прямо к герою"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 150227879565159
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 424300812119077,
											"parameters": {
												"object": "Bit"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 771239107315600,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallX\"",
												"property": "offsetX",
												"end-value": "Bit.X",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 895497008735093,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallY\"",
												"property": "offsetY",
												"end-value": "Bit.ImagePointY(2)",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 631097144832017
								}
							]
						},
						{
							"eventType": "comment",
							"text": "завершение анимации бросания шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 744560861710953,
									"parameters": {
										"animation": "\"ball0\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 146104812731883,
									"parameters": {
										"animation": "\"ball1\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 243964175643626,
									"parameters": {
										"animation": "\"ball2\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 684609687110670,
									"parameters": {
										"animation": "\"ball6\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 165584487056393,
									"parameters": {
										"animation": "\"ball7\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 956804808970151,
									"parameters": {
										"animation": "\"ball9\""
									}
								},
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 881751504809085,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"getBall\""
									}
								}
							],
							"actions": [],
							"sid": 973182623487538,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 953158240020733,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "person.name"
											}
										}
									],
									"actions": [],
									"sid": 619588224370970,
									"children": [
										{
											"eventType": "comment",
											"text": "возврат к анимации движения"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "basis",
													"sid": 516902225042543,
													"parameters": {
														"instance-variable": "move"
													}
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 969695745042195,
													"parameters": [
														"person.UID",
														"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"0",
														"person.AnimationFrame",
														"555",
														"0"
													]
												}
											],
											"sid": 683888743734882
										},
										{
											"eventType": "comment",
											"text": "переход к анимации стояния"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 342942836458620
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 783719401109041,
													"parameters": [
														"person.UID",
														"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
														"0",
														"0",
														"777",
														"0"
													]
												}
											],
											"sid": 212391486387996
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "отключение группы"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 458745452856114,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 261758600160120,
									"parameters": {
										"group-name": "\"ballOut\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 931751894330546
						}
					],
					"sid": 521573656900537
				},
				{
					"eventType": "comment",
					"text": " \n\n\n   стратегии Бита\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "strategy",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "jump",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 974052915506050
						},
						{
							"eventType": "variable",
							"name": "hide",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 962358345328532
						},
						{
							"eventType": "variable",
							"name": "gun",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 600550153918270
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 924708298316782,
									"parameters": {
										"interval-seconds": "0.33"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 424921319995216,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 257439378000697,
									"parameters": {
										"instance-variable": "respawn"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 128392508310145,
									"parameters": {
										"instance-variable": "intersept"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 819781916508156,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aMico",
											"sid": 491117792294858,
											"parameters": {
												"instance-variable": "BitHide"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 239827219406401,
											"parameters": {
												"instance-variable": "autoVega"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 104313759974217,
											"parameters": {
												"variable": "hide",
												"value": "1"
											}
										}
									],
									"sid": 561636959705153,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 969783567473025,
											"parameters": {
												"instance-variable": "autoGun"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 646201071321885,
											"parameters": {
												"variable": "gun",
												"value": "1"
											}
										}
									],
									"sid": 105975536079152
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 643708726060281,
											"parameters": {
												"instance-variable": "jump"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 784357785585771,
											"parameters": {
												"variable": "jump",
												"value": "1"
											}
										}
									],
									"sid": 774349530983984
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 308805810332211
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 993836705778661,
											"parameters": {
												"instance-variable": "move"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 925980001817617,
											"parameters": {
												"variable": "jump",
												"value": "clamp(jump-1,0,10)"
											}
										}
									],
									"sid": 388215382406117
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 604091467695408,
									"parameters": {
										"interval-seconds": "7"
									}
								}
							],
							"actions": [],
							"sid": 892152325933110,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 844297300872292,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "hide"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 910493754885772,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "gun"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 263539790877482,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 995489363083856,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"jump\""
											}
										}
									],
									"sid": 808347848761539
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 300284402914016
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 686741211818451,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "jump"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 583532868801930,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "gun"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 151012471544163,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 832573930303245,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"hide\""
											}
										}
									],
									"sid": 387910862254764
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 239600853288115
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 162415441363177,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "jump"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 851713002152310,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "hide"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 543816546065138,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 659522071277999,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"gun\""
											}
										}
									],
									"sid": 507722666641499
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 804589673582173
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 669321913702936,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"zero\""
											}
										}
									],
									"sid": 497184743141151
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 657090854352556,
											"parameters": {
												"variable": "gun"
											}
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 130753743956752,
											"parameters": {
												"variable": "gun"
											}
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 832886996818690,
											"parameters": {
												"variable": "gun"
											}
										}
									],
									"sid": 762252368627636
								}
							]
						}
					],
					"sid": 823954859734686
				},
				{
					"eventType": "comment",
					"text": "\n\n\nвылетающие из кустов листья от различных реакций - по завершении анимации удаляем"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "bushInto",
							"sid": 226337877889136
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "bushInto",
							"sid": 199465946208846
						}
					],
					"sid": 157500249592639
				}
			],
			"sid": 182490014787728
		}
	],
	"sid": 988122769842385
}