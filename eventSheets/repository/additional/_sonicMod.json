{
	"name": "_sonicMod",
	"events": [
		{
			"eventType": "comment",
			"text": "\n\n\n\n\nмеханика разрушения грибов и клубков ударом в прыжке с вращением  \n"
		},
		{
			"eventType": "comment",
			"text": "активация достижений, сеттинг разрушаемых объектов"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 253300174674274
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "aTools",
					"sid": 867215311463329,
					"parameters": {
						"instance-variable": "n",
						"comparison": 0,
						"value": "frame.n"
					}
				}
			],
			"actions": [
				{
					"id": "destroy",
					"objectClass": "vRipple",
					"sid": 826467212979444
				}
			],
			"sid": 942976405169486,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-outside-layout",
							"objectClass": "achivments",
							"sid": 832957146930902,
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 694292679738075,
							"parameters": {
								"group-name": "\"achiv\"",
								"state": "activated"
							}
						}
					],
					"sid": 862333306417861,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "achivments",
									"sid": 421370087238783,
									"parameters": {
										"instance-variable": "onShad"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "achivShad",
									"sid": 913187073638104,
									"parameters": {
										"instance-variable": "ind",
										"comparison": 0,
										"value": "achivments.ind"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "achivments",
									"sid": 621907985256538,
									"parameters": {
										"x": "achivShad.X",
										"y": "achivShad.Y-Self.hi"
									}
								}
							],
							"sid": 428874230584644
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-outside-layout",
							"objectClass": "vegaClaster",
							"sid": 695476225283667,
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 633175092243840,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 128154391214925,
									"parameters": {
										"object": "vegaClaster"
									}
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 782085615730844,
									"disabled": true,
									"parameters": {
										"seconds": "0.07*loopindex",
										"use-timescale": true
									}
								},
								{
									"id": "set-animation-speed",
									"objectClass": "vegaClaster",
									"sid": 738339252428595,
									"disabled": true,
									"parameters": {
										"speed": "random(6,12)"
									}
								},
								{
									"id": "start-animation",
									"objectClass": "vegaClaster",
									"sid": 149703798468012,
									"disabled": true,
									"parameters": {
										"from": "beginning"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "vegaClaster",
									"sid": 646150912895780,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 767610911136288,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "Chance",
											"objectClass": "Utils",
											"sid": 408036483334701,
											"parameters": {
												"chance": "1",
												"outof": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "vegaClaster",
											"sid": 993268845232184,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 641519236518361
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "создание паттернов"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 603123326835948,
							"parameters": {
								"first-value": "vPatterns.Count",
								"comparison": 2,
								"second-value": "10"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "camera",
							"sid": 738017243951998,
							"parameters": {
								"instance-variable": "main"
							}
						}
					],
					"actions": [],
					"sid": 611933714913302,
					"children": [
						{
							"eventType": "comment",
							"text": "для пола"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "camera",
									"sid": 563571870658013,
									"parameters": {
										"instance-variable": "florType",
										"comparison": 0,
										"value": "\"F1\""
									}
								}
							],
							"actions": [],
							"sid": 270557260213419,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 931720675479673,
											"parameters": {
												"count": "200"
											}
										}
									],
									"actions": [
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 420037436258400,
											"parameters": {
												"object-to-create": "vPattF1",
												"layer": "\"horizon\"",
												"x": "-8500",
												"y": "-7500",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										}
									],
									"sid": 833375712151923
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "достижения (в терниевых клубках)"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "achiv",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "comment",
					"text": "z-сортировка для клубка по тени"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-on-screen",
							"objectClass": "achivments",
							"sid": 602592045542118
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "achivments",
							"sid": 930379542714109,
							"parameters": {
								"instance-variable": "onShad"
							}
						}
					],
					"actions": [],
					"sid": 289857699002615,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "achivShad",
									"sid": 988977639390195,
									"parameters": {
										"instance-variable": "ind",
										"comparison": 0,
										"value": "achivments.ind"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-object",
									"objectClass": "achivments",
									"sid": 233541852924137,
									"parameters": {
										"where": "in-front",
										"object": "achivShad"
									}
								}
							],
							"sid": 834381836956951
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "achivments",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Bit",
									"sid": 339186278341911,
									"parameters": {
										"object": "achivments"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "achivShad",
									"sid": 784991594475887,
									"parameters": {
										"instance-variable": "ind",
										"comparison": 0,
										"value": "achivments.ind"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 636516874423520,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "senseDist",
									"sid": 821914321999820,
									"disabled": true,
									"parameters": {
										"object": "achivments"
									}
								}
							],
							"actions": [],
							"sid": 271240098577408,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 141322147158682,
											"parameters": {
												"first-value": "distance(base.X,base.Y,achivShad.X,achivShad.Y)",
												"comparison": 2,
												"second-value": "120"
											}
										}
									],
									"actions": [],
									"sid": 960005208771818,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 259573219900879,
													"parameters": {
														"animation": "\"sonicJump\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) "
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 937739565728326,
													"parameters": {
														"animation": "\"sonicAirCharge\""
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 461035930877792,
													"parameters": {
														"animation": "\"sonicLand\""
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "Bit",
													"sid": 936720053490133,
													"parameters": {
														"animation": "\"sonicGrow\""
													}
												}
											],
											"actions": [
												{
													"customAction": "win",
													"objectClass": "achivments",
													"sid": 326891742701780,
													"parameters": [
														"achivments.TaDaSeconds"
													]
												},
												{
													"id": "callselffunction0",
													"objectClass": "base",
													"sid": 772839154908433,
													"disabled": true,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"stop\""
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "base",
													"sid": 229520946261435,
													"parameters": {
														"instance-variable": "serpentTarget",
														"value": "false"
													}
												}
											],
											"sid": 336144151902623,
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "hero",
									"sid": 523445337056827,
									"parameters": {
										"object": "achivments"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "achivShad",
									"sid": 873177165918218,
									"parameters": {
										"instance-variable": "ind",
										"comparison": 0,
										"value": "achivments.ind"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "hero",
									"sid": 772856953498183,
									"parameters": {
										"instance-variable": "heroName",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 339622869400611,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 785216145472201,
									"parameters": {
										"first-value": "distance(basis.X,basis.Y,achivShad.X,achivShad.Y)",
										"comparison": 2,
										"second-value": "120"
									}
								}
							],
							"actions": [],
							"sid": 259762797907852
						},
						{
							"eventType": "comment",
							"text": "\n\n\n"
						},
						{
							"aceType": "action",
							"aceName": "win",
							"objectClass": "achivments",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "tadaTimeSec",
									"type": "number",
									"initialValue": "5",
									"comment": "",
									"sid": 929376996519052
								}
							],
							"eventType": "custom-ace-block",
							"conditions": [],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 738165404333371,
									"disabled": true,
									"parameters": {
										"text": "\"ach\""
									}
								},
								{
									"id": "create-object",
									"objectClass": "System",
									"sid": 568756856177135,
									"parameters": {
										"object-to-create": "achivFX",
										"layer": "\"air\"",
										"x": "tCage.x",
										"y": "tCage.y",
										"create-hierarchy": false,
										"template-name": "\"\""
									}
								},
								{
									"id": "set-visible",
									"objectClass": "achivFX",
									"sid": 116904634341491,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-spraying",
									"objectClass": "achivFX",
									"sid": 776393765873237,
									"disabled": true,
									"parameters": {
										"state": "spraying"
									}
								},
								{
									"id": "play",
									"objectClass": "Audio",
									"sid": 640789652936197,
									"parameters": {
										"audio-file": "fairy-win",
										"loop": "not-looping",
										"volume": "0",
										"stereo-pan": "0",
										"tag-optional": "\"\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "achivments",
									"sid": 961948678546308,
									"disabled": true,
									"parameters": {
										"animation": "\"open\"",
										"from": "beginning"
									}
								},
								{
									"id": "change-tags",
									"objectClass": "saver",
									"sid": 357687493641471,
									"parameters": {
										"action": "add",
										"tags": "achivments.sign"
									}
								},
								{
									"id": "set-collisions-enabled",
									"objectClass": "achivments",
									"sid": 604574100009528,
									"parameters": {
										"collisions": "disabled"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "achivments",
									"sid": 786054109112487,
									"parameters": {
										"instance-variable": "destroyed",
										"value": "true"
									}
								},
								{
									"customAction": "NoMOUSE",
									"objectClass": "aIns",
									"sid": 666207290940913,
									"parameters": [
										true,
										true,
										true,
										true,
										"0"
									]
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 401351221187456,
									"parameters": {
										"seconds": "tadaTimeSec",
										"use-timescale": true
									}
								},
								{
									"customAction": "mouseBack",
									"objectClass": "aIns",
									"sid": 382831933216138,
									"parameters": [
										true,
										true,
										true,
										true
									]
								}
							],
							"sid": 866799123251977,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "tCage",
											"sid": 495730443636172,
											"parameters": {
												"unique-id": "achivments.UID"
											}
										}
									],
									"actions": [
										{
											"id": "tween-two-properties",
											"objectClass": "tCage",
											"sid": 161148906217977,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"win\"",
												"property": "scale",
												"end-x": "0.75",
												"end-y": "0.75",
												"time": "0.1",
												"ease": "easeoutback",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "tCage",
											"sid": 678170061909228,
											"parameters": {
												"animation": "\"on\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "tCage",
											"sid": 723376091485384,
											"parameters": {
												"frame-number": "2"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 575054021223083,
											"parameters": {
												"seconds": "0.1",
												"use-timescale": true
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "tCage",
											"sid": 158393292745617,
											"parameters": {
												"frame-number": "1"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 123237332322687,
											"parameters": {
												"seconds": "0.1",
												"use-timescale": true
											}
										},
										{
											"id": "set-animation-frame",
											"objectClass": "tCage",
											"sid": 509514298630033,
											"parameters": {
												"frame-number": "2"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 387084771615304,
											"parameters": {
												"seconds": "0.1",
												"use-timescale": true
											}
										},
										{
											"id": "set-animation",
											"objectClass": "tCage",
											"sid": 585593348726602,
											"parameters": {
												"animation": "\"open\"",
												"from": "beginning"
											}
										}
									],
									"sid": 885847303909059
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "shine",
											"sid": 887094898236965,
											"parameters": {
												"instance-variable": "FX"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "shine",
											"sid": 856292018654302,
											"parameters": {
												"instance-variable": "sign",
												"comparison": 0,
												"value": "achivments.sign"
											}
										}
									],
									"actions": [
										{
											"id": "setactivated0",
											"objectClass": "shine",
											"sid": 915280799779013,
											"behaviorType": "Rotate",
											"parameters": {
												"activated2": "yes"
											}
										},
										{
											"id": "setacceleration3",
											"objectClass": "shine",
											"sid": 360886583959891,
											"behaviorType": "Rotate",
											"parameters": {
												"rotation_acceleration0": "999"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "shine",
											"sid": 210212480145107,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"win\"",
												"property": "scale",
												"end-x": "2",
												"end-y": "2",
												"time": "1",
												"ease": "easeinoutcubic",
												"destroy-on-complete": "yes",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 113070771988488,
											"disabled": true,
											"parameters": {
												"seconds": "1.0",
												"use-timescale": true
											}
										},
										{
											"id": "setacceleration3",
											"objectClass": "shine",
											"sid": 666985905418194,
											"disabled": true,
											"behaviorType": "Rotate",
											"parameters": {
												"rotation_acceleration0": "999"
											}
										}
									],
									"sid": 819086521450488
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 530742477408150,
											"parameters": {
												"instance-variable": "hero",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 558177956086052,
											"parameters": {
												"animation": "\"jumpHappy\"",
												"from": "beginning"
											}
										}
									],
									"sid": 947993687294143
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "shineWin",
											"sid": 550577221206254,
											"parameters": {
												"unique-id": "achivments.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "shineWin",
											"sid": 420450641207448,
											"parameters": {
												"animation": "\"end\"",
												"from": "beginning"
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "shineWin",
											"sid": 200175701754215,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"win\"",
												"property": "scale",
												"end-x": "2",
												"end-y": "2",
												"time": "1",
												"ease": "easeinoutcubic",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 909577074855174
								},
								{
									"eventType": "comment",
									"text": ""
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 103261626217750,
											"parameters": {
												"instance-variable": "sign",
												"comparison": 0,
												"value": "\"jumpAbil\""
											}
										}
									],
									"actions": [
										{
											"customAction": "zoomTo",
											"objectClass": "aIns",
											"sid": 720643793225742,
											"parameters": [
												false,
												true,
												false,
												"-1",
												false,
												false,
												false,
												"2",
												"0",
												"0",
												"1",
												"3",
												false,
												false,
												"1",
												false,
												"0",
												"\"zero\"",
												false,
												false,
												false,
												false,
												true,
												false,
												false,
												"0",
												"\"\""
											]
										},
										{
											"id": "append-text",
											"objectClass": "help",
											"sid": 934696685998378,
											"disabled": true,
											"parameters": {
												"text": "\"ivment\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 139847080221389,
											"parameters": {
												"instance-variable": "intro",
												"value": "\"jump\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 499171187239226,
											"parameters": {
												"seconds": "achivments.TaDaSeconds",
												"use-timescale": true
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 724305751022733,
											"disabled": true,
											"parameters": {
												"group-name": "\"gotoLocation\"",
												"state": "activated"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 324437160323555,
											"disabled": true,
											"parameters": {
												"instance-variable": "n",
												"value": "204"
											}
										},
										{
											"callFunction": "gotoLayout",
											"sid": 160433270830782,
											"disabled": true,
											"parameters": [
												"\"\"",
												"\"\"",
												"-1",
												"\"\"",
												"0",
												"0"
											]
										}
									],
									"sid": 619011512852440,
									"disabled": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 818970131924621,
											"parameters": {
												"instance-variable": "sign",
												"comparison": 0,
												"value": "\"spikeOff\""
											}
										}
									],
									"actions": [],
									"sid": 593419592271200
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 784124635543395,
											"parameters": {
												"instance-variable": "sign",
												"comparison": 0,
												"value": "\"snowgun\""
											}
										}
									],
									"actions": [],
									"sid": 255008281201630
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 846136254235845,
											"parameters": {
												"instance-variable": "sign",
												"comparison": 0,
												"value": "\"dublicate\""
											}
										}
									],
									"actions": [],
									"sid": 160663733180541
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "achivments",
											"sid": 904560826005279,
											"parameters": {
												"instance-variable": "sign",
												"comparison": 0,
												"value": "\"ShapeyStory\""
											}
										}
									],
									"actions": [],
									"sid": 514128190859204
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-frame-changed",
									"objectClass": "achivments",
									"sid": 552790014714425
								},
								{
									"id": "is-animation-playing",
									"objectClass": "achivments",
									"sid": 156375171615096,
									"parameters": {
										"animation": "\"open\""
									}
								},
								{
									"id": "compare-animation-frame-tag",
									"objectClass": "achivments",
									"sid": 546325017404129,
									"parameters": {
										"comparison": 0,
										"tag": "\"coil\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "achivments",
									"sid": 316905890761738,
									"disabled": true,
									"parameters": {
										"animation": "\"zero\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 900483307521336,
									"parameters": {
										"instance-variable": "sonicMod",
										"value": "0"
									}
								},
								{
									"id": "instance-signal",
									"objectClass": "achivments",
									"sid": 144315290190114,
									"parameters": {
										"tag": "Self.sign&\"Win\""
									}
								}
							],
							"sid": 662004251584202
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "achivments",
									"sid": 133612806527347,
									"parameters": {
										"animation": "\"open\""
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "achivments",
									"sid": 309621869643202,
									"parameters": {
										"animation": "\"zero\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 904717529787083,
									"parameters": {
										"instance-variable": "sonicMod",
										"value": "0"
									}
								},
								{
									"id": "instance-signal",
									"objectClass": "achivments",
									"sid": 626181116769933,
									"parameters": {
										"tag": "Self.sign&\"Win\""
									}
								}
							],
							"sid": 173558975205657,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "shineWin",
									"sid": 968003704481115,
									"parameters": {
										"animation": "\"end\""
									}
								}
							],
							"actions": [],
							"sid": 947445487038642,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-animation-speed",
											"objectClass": "shineWin",
											"sid": 685912595952220,
											"parameters": {
												"comparison": 2,
												"number": "0"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "shineWin",
											"sid": 962800025088279
										}
									],
									"sid": 679854528240193
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-animation-speed",
											"objectClass": "shineWin",
											"sid": 698648190599667,
											"parameters": {
												"comparison": 4,
												"number": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "shineWin",
											"sid": 915047052544025,
											"parameters": {
												"animation": "\"end\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-animation-speed",
											"objectClass": "shineWin",
											"sid": 254102075656398,
											"parameters": {
												"speed": "-12"
											}
										},
										{
											"id": "start-animation",
											"objectClass": "shineWin",
											"sid": 265136629571543,
											"parameters": {
												"from": "current-frame"
											}
										}
									],
									"sid": 418101339406711
								}
							]
						}
					],
					"sid": 539841213397809
				}
			],
			"sid": 978633825826843
		},
		{
			"eventType": "comment",
			"text": "вызов атаки соника"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "onselffunction0",
					"objectClass": "point",
					"sid": 322671453617788,
					"behaviorType": "sfPoint",
					"parameters": {
						"function_name:0": "\"sonic\""
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "base",
					"sid": 497301172125819,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "\"Bit\""
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "aBit",
					"sid": 190453120376517,
					"parameters": {
						"instance-variable": "sonicTargetUID",
						"value": "point.UID"
					}
				}
			],
			"sid": 114464689321348,
			"children": [
				{
					"eventType": "comment",
					"text": "включение группы исполнителя удара"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-group-active",
							"objectClass": "System",
							"sid": 975239407388621,
							"parameters": {
								"group-name": "\"sonicWargame\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 981776268155824,
							"parameters": {
								"group-name": "\"sonicWargame\"",
								"state": "activated"
							}
						}
					],
					"sid": 976233633109979
				},
				{
					"eventType": "comment",
					"text": "если дистанция до разрушаемого объекта меньше дельты объекта"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "point",
							"sid": 203309581677119,
							"parameters": {
								"instance-variable": "deltaPfmt",
								"comparison": 2,
								"value": "Functions.getIsoDist(base.X,base.Y,Self.X,Self.Y)"
							}
						}
					],
					"actions": [],
					"sid": 177365806984218,
					"children": [
						{
							"eventType": "comment",
							"text": "если герой слишком близко к объекту - слегка отбегает"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 538314781576743,
									"parameters": {
										"first-value": "distance(base.X,base.Y,point.X,point.Y)",
										"comparison": 4,
										"second-value": "20"
									}
								}
							],
							"actions": [
								{
									"callFunction": "pfmt",
									"sid": 833434228297135,
									"parameters": [
										"base.UID",
										"\"Bit\"",
										"point.X",
										"point.Y",
										"1",
										"1",
										"2",
										"\"zero\"",
										"-1",
										"point.deltaPfmt-10"
									]
								}
							],
							"sid": 734981354688250
						},
						{
							"eventType": "comment",
							"text": "иначе вызов атаки"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 181510428167566
								}
							],
							"actions": [
								{
									"customAction": "sonic",
									"objectClass": "Bit",
									"sid": 738383996552016,
									"parameters": [
										"point.level",
										"point.UID"
									]
								}
							],
							"sid": 155025367925387
						}
					]
				},
				{
					"eventType": "comment",
					"text": "если дистанция до разрушаемого объекта больше дельты объекта - вызов атаки"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 663729844704649
						}
					],
					"actions": [
						{
							"customAction": "sonic",
							"objectClass": "Bit",
							"sid": 507514908485498,
							"parameters": [
								"point.level",
								"point.UID"
							]
						}
					],
					"sid": 296755587762501
				}
			]
		},
		{
			"eventType": "comment",
			"text": "исполнение атаки соника"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "sonicWargame",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "comment",
					"text": "прыжок соника"
				},
				{
					"aceType": "action",
					"aceName": "sonic",
					"objectClass": "Bit",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "level",
							"type": "number",
							"initialValue": "1",
							"comment": "",
							"sid": 852593186910228
						},
						{
							"name": "pointUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 354622915908152
						}
					],
					"eventType": "custom-ace-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 918525993429962,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "\"Bit\""
							}
						}
					],
					"actions": [],
					"sid": 721362415417018,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "element",
									"sid": 514993933654299,
									"parameters": {
										"object": "base"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "base",
									"sid": 455851020247265,
									"parameters": {
										"instance-variable": "inTrap"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "base",
									"sid": 362333779602502,
									"parameters": {
										"instance-variable": "freeToMove"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aIns",
									"sid": 705840396095413,
									"parameters": {
										"instance-variable": "hNoBigJump"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aTools",
									"sid": 129180819983235,
									"parameters": {
										"instance-variable": "cursorName",
										"comparison": 1,
										"value": "\"zoneStop\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 508785262012902,
									"parameters": {
										"instance-variable": "respawn"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBit",
									"sid": 324179938895958,
									"parameters": {
										"instance-variable": "interseptor",
										"comparison": 1,
										"value": "\"shoko\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBit",
									"sid": 130099684160778,
									"parameters": {
										"instance-variable": "interseptor",
										"comparison": 1,
										"value": "\"ufo\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 695740331695167,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 1,
										"value": "\"noControl\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 427302242623614,
									"disabled": true,
									"parameters": {
										"instance-variable": "intersept"
									},
									"isInverted": true
								},
								{
									"id": "mouse-button-is-down",
									"objectClass": "Mouse",
									"sid": 438402171836231,
									"disabled": true,
									"parameters": {
										"mouse-button": "right"
									}
								}
							],
							"actions": [],
							"sid": 723881042616486,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-topbottom",
											"objectClass": "element",
											"sid": 208395826644520,
											"parameters": {
												"which": "top"
											}
										}
									],
									"actions": [],
									"sid": 355631003915914,
									"children": [
										{
											"bookmark": true,
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "element",
													"sid": 802096929327432,
													"parameters": {
														"instance-variable": "mType",
														"comparison": 0,
														"value": "\"road\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "element",
													"sid": 418942382419779,
													"parameters": {
														"instance-variable": "cometaCoeff",
														"comparison": 1,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"type": "comment",
													"text": "скорость зарядки прыжка"
												},
												{
													"type": "comment",
													"text": "зависимость скорости зарядки от энергии"
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 174871307814849,
													"parameters": {
														"instance-variable": "charge",
														"value": "clamp(30*level+(50+aBit.energo/25)*dt,0,100)"
													}
												},
												{
													"type": "comment",
													"text": ""
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aTools",
													"sid": 706206119009813,
													"parameters": {
														"instance-variable": "groundName",
														"value": "element.mName"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aTools",
													"sid": 779613697067826,
													"parameters": {
														"instance-variable": "groundUID",
														"value": "element.UID"
													}
												},
												{
													"id": "monitor0",
													"objectClass": "vm",
													"sid": 481208910292102,
													"parameters": {
														"tag0": "\"groundUID\"",
														"value1": "aTools.groundUID"
													}
												},
												{
													"id": "set-text",
													"objectClass": "help",
													"sid": 686594280768600,
													"disabled": true,
													"parameters": {
														"text": "cursor.charge"
													}
												}
											],
											"sid": 791602758340325
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "element",
													"sid": 212403199009388,
													"parameters": {
														"instance-variable": "cometaCoeff",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"callFunction": "jump",
													"sid": 579976883912888,
													"parameters": [
														"aBook.hero",
														"element.recomendJumpSpeed+random(100)",
														"3000",
														"1",
														"\"map\"",
														"1",
														"0",
														false,
														false,
														"\"zero\"",
														"1"
													]
												}
											],
											"sid": 388009498544508
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 703919750484695,
											"parameters": {
												"animation": "\"sporeJet\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 874424245897117,
											"parameters": {
												"animation": "\"sporeFly\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "Bit",
											"sid": 547727997311849,
											"parameters": {
												"animation": "\"sporeLand\""
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 552430635180893,
									"children": [
										{
											"eventType": "comment",
											"text": "sonic mod - режим соника"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "Bit",
													"sid": 972531070109724,
													"parameters": {
														"instance-variable": "moveType",
														"comparison": 1,
														"value": "\"crawl\""
													}
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "point",
													"sid": 860063255095513,
													"parameters": {
														"unique-id": "aBit.sonicTargetUID"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aGame",
													"sid": 109209426373739,
													"parameters": {
														"instance-variable": "sonicMod",
														"value": "1"
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "aBit",
													"sid": 935159108060057,
													"parameters": {
														"instance-variable": "sonic",
														"value": "true"
													}
												}
											],
											"sid": 833142704154206,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-two-values",
															"objectClass": "System",
															"sid": 301113644515478,
															"parameters": {
																"first-value": "distance(base.X,base.Y,point.X,point.Y)",
																"comparison": 4,
																"second-value": "20"
															}
														}
													],
													"actions": [
														{
															"callFunction": "pfmt",
															"sid": 177330316043912,
															"parameters": [
																"base.UID",
																"\"Bit\"",
																"point.X",
																"point.Y",
																"1",
																"1",
																"3",
																"\"zero\"",
																"-1",
																"0"
															]
														}
													],
													"sid": 471213291496517
												},
												{
													"eventType": "comment",
													"text": "воздушный прыжок"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "base",
															"sid": 387529317599500,
															"parameters": {
																"instance-variable": "jump"
															}
														}
													],
													"actions": [
														{
															"callFunction": "jump",
															"sid": 739858049478751,
															"parameters": [
																"\"Bit\"",
																"-333",
																"3000",
																"1",
																"\"map\"",
																"1",
																"1",
																false,
																true,
																"\"zero\"",
																"1"
															]
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 687637019273826,
															"parameters": {
																"seconds": "0",
																"use-timescale": false
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 748986367107227,
															"parameters": {
																"seconds": "0",
																"use-timescale": false
															}
														},
														{
															"id": "set-animation-frame",
															"objectClass": "Bit",
															"sid": 287018805343031,
															"parameters": {
																"frame-number": "3"
															}
														}
													],
													"sid": 782672944093634
												},
												{
													"eventType": "comment",
													"text": "с земли"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 153072776089981
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "base",
															"sid": 505847357411822,
															"parameters": {
																"instance-variable": "jumpSpeed",
																"value": "-(100+aBit.energo*0.1+cursor.charge*element.cometaCoeff*15)"
															}
														},
														{
															"callFunction": "jump",
															"sid": 785172359359511,
															"parameters": [
																"\"Bit\"",
																"base.jumpSpeed",
																"3000",
																"element.airJumps",
																"\"map\"",
																"1",
																"0",
																false,
																false,
																"\"zero\"",
																"1"
															]
														}
													],
													"sid": 999052523830625
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "aBit",
															"sid": 163127229919614,
															"parameters": {
																"instance-variable": "interseptor",
																"comparison": 0,
																"value": "\"ser\""
															}
														}
													],
													"actions": [
														{
															"customAction": "onlyJump",
															"objectClass": "aIns",
															"sid": 963596408727004
														}
													],
													"sid": 206712708129821
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 881983221603335,
											"parameters": {
												"instance-variable": "charge",
												"value": "0"
											}
										}
									],
									"sid": 427538421602462
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "остановка перед объектом и вызов соника"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-instance-signal",
							"objectClass": "base",
							"sid": 623393058235711,
							"parameters": {
								"tag": "\"deltaStop\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 636901582850999,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "\"Bit\""
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 981328133867768,
							"parameters": {
								"unique-id": "aBit.sonicTargetUID"
							}
						}
					],
					"actions": [
						{
							"customAction": "sonic",
							"objectClass": "Bit",
							"sid": 820826076011911,
							"parameters": [
								"point.level",
								"point.UID"
							]
						}
					],
					"sid": 796756748934732
				},
				{
					"eventType": "comment",
					"text": "разрушение"
				},
				{
					"functionName": "vClasterDestroy",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 663894640130473,
							"parameters": {
								"unique-id": "aBit.sonicTargetUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "point",
							"sid": 595793797014145,
							"parameters": {
								"instance-variable": "on",
								"value": "false"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 261692669941352,
							"parameters": {
								"group-name": "\"MyceliumFX\"",
								"state": "activated"
							}
						},
						{
							"callFunction": "spawnMycelium",
							"sid": 618786154042646,
							"parameters": [
								"point.UID",
								"point.X",
								"point.Y",
								"20"
							]
						},
						{
							"id": "set-animation",
							"objectClass": "point",
							"sid": 264732863945033,
							"parameters": {
								"animation": "\"sonic\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "point",
							"sid": 809290533591348,
							"parameters": {
								"instance-variable": "callSFL",
								"value": "\"zero\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "point",
							"sid": 275244083498317,
							"parameters": {
								"instance-variable": "callSFR",
								"value": "\"zero\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "point",
							"sid": 126157822987318,
							"parameters": {
								"instance-variable": "hide",
								"value": "true"
							}
						},
						{
							"id": "set-position-to-another-object",
							"objectClass": "sonicFX",
							"sid": 343851918258283,
							"parameters": {
								"object": "Bit",
								"image-point-optional": "\"center\""
							}
						},
						{
							"id": "pin-to-object-properties",
							"objectClass": "sonicFX",
							"sid": 429301629695171,
							"behaviorType": "Pin",
							"parameters": {
								"pin-to": "Bit",
								"x": true,
								"y": true,
								"angle": false,
								"width-type": "no",
								"height-type": "no",
								"z": false
							}
						},
						{
							"id": "set-animation",
							"objectClass": "sonicFX",
							"sid": 671411176739042,
							"parameters": {
								"animation": "\"run\"",
								"from": "beginning"
							}
						},
						{
							"id": "stop-timer",
							"objectClass": "aIns",
							"sid": 235575265032595,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"sonic\""
							}
						},
						{
							"id": "stop-timer",
							"objectClass": "aIns",
							"sid": 505571079546061,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"sonicEnd\""
							}
						},
						{
							"id": "start-timer",
							"objectClass": "aIns",
							"sid": 999042928541378,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "1",
								"type": "once",
								"tag": "\"sonic\""
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "sonicFX",
							"sid": 814180726992546,
							"parameters": {
								"state": "not-mirrored"
							}
						}
					],
					"sid": 397279225199132
				},
				{
					"eventType": "comment",
					"text": "1. Запуск разрушения на смену кадра"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-frame-changed",
							"objectClass": "Bit",
							"sid": 833392105492909
						}
					],
					"actions": [],
					"sid": 826989166160543,
					"children": [
						{
							"eventType": "comment",
							"text": "Если кадр с тегом \"sonic\" -> Включаем режим, FX и проверяем атаку (на случай если уже внутри)"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-animation-frame-tag",
									"objectClass": "Bit",
									"sid": 242507123291880,
									"parameters": {
										"comparison": 0,
										"tag": "\"sonic\""
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aBit",
									"sid": 205658378358592,
									"parameters": {
										"instance-variable": "sonic",
										"value": "true"
									}
								}
							],
							"sid": 197426497186103,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "point",
											"sid": 122643121690225,
											"parameters": {
												"unique-id": "aBit.sonicTargetUID"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Bit",
											"sid": 492676346369537,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "point",
											"sid": 682877041105036,
											"disabled": true,
											"parameters": {
												"animation": "\"doom\""
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "point",
											"sid": 597033725254926,
											"parameters": {
												"instance-variable": "on"
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 724895164815833,
											"disabled": true,
											"parameters": {
												"text": "\"cd\""
											}
										},
										{
											"callFunction": "vClasterDestroy",
											"sid": 512484442802488
										}
									],
									"sid": 140585982961892,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-timer-running",
													"objectClass": "aIns",
													"sid": 998939532640848,
													"behaviorType": "Timer",
													"parameters": {
														"tag": "\"fx_lock\""
													},
													"isInverted": true
												},
												{
													"id": "is-pinned",
													"objectClass": "sonicFX",
													"sid": 437596058414265,
													"behaviorType": "Pin",
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "start-timer",
													"objectClass": "aIns",
													"sid": 801563398373410,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "0.3",
														"type": "once",
														"tag": "\"fx_lock\""
													}
												},
												{
													"id": "set-position-to-another-object",
													"objectClass": "sonicFX",
													"sid": 642341921007275,
													"parameters": {
														"object": "Bit",
														"image-point-optional": "\"center\""
													}
												},
												{
													"id": "pin-to-object-properties",
													"objectClass": "sonicFX",
													"sid": 756045924439755,
													"behaviorType": "Pin",
													"parameters": {
														"pin-to": "Bit",
														"x": true,
														"y": true,
														"angle": false,
														"width-type": "no",
														"height-type": "no",
														"z": false
													}
												},
												{
													"id": "set-animation",
													"objectClass": "sonicFX",
													"sid": 490241012963550,
													"parameters": {
														"animation": "\"run\"",
														"from": "beginning"
													}
												}
											],
											"sid": 740308543197261
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "Иначе -> Выключаем переменную. FX убираем только если таймер истек."
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 217316459899742
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "aBit",
									"sid": 594082138248589,
									"parameters": {
										"instance-variable": "sonic",
										"value": "false"
									}
								}
							],
							"sid": 254445014939951,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-timer-running",
											"objectClass": "aIns",
											"sid": 418422339951245,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"fx_lock\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "unpin",
											"objectClass": "sonicFX",
											"sid": 389011976104514,
											"behaviorType": "Pin"
										},
										{
											"id": "set-position",
											"objectClass": "sonicFX",
											"sid": 610193885637323,
											"parameters": {
												"x": "-33366",
												"y": "-77111"
											}
										}
									],
									"sid": 183527865099970
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "--- 2. TIMEOUT: Очистка FX по таймеру (0.3s) ---"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "aIns",
							"sid": 235593215407035,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"fx_lock\""
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aBit",
							"sid": 987203807330036,
							"parameters": {
								"instance-variable": "sonic"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "unpin",
							"objectClass": "sonicFX",
							"sid": 112135581649415,
							"behaviorType": "Pin"
						},
						{
							"id": "set-position",
							"objectClass": "sonicFX",
							"sid": 147395412649695,
							"parameters": {
								"x": "-33366",
								"y": "-77111"
							}
						}
					],
					"sid": 214645153864974
				},
				{
					"eventType": "comment",
					"text": "--- 3. PHYSICS: Мгновенная реакция на удар --- (запуск разрушения на коллизию)"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Bit",
							"sid": 723944096808848,
							"parameters": {
								"object": "point"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aBit",
							"sid": 631301842485277,
							"parameters": {
								"instance-variable": "sonic"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 234131721854209,
							"parameters": {
								"unique-id": "aBit.sonicTargetUID"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "point",
							"sid": 905285733592807,
							"disabled": true,
							"parameters": {
								"animation": "\"doom\""
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "point",
							"sid": 792541457932352,
							"parameters": {
								"instance-variable": "on"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "help",
							"sid": 780022240577006,
							"disabled": true,
							"parameters": {
								"text": "\"cd1\""
							}
						},
						{
							"callFunction": "vClasterDestroy",
							"sid": 421447309194111
						}
					],
					"sid": 598614020859651,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-timer-running",
									"objectClass": "aIns",
									"sid": 675078795514259,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"fx_lock\""
									},
									"isInverted": true
								},
								{
									"id": "is-pinned",
									"objectClass": "sonicFX",
									"sid": 364007281899729,
									"behaviorType": "Pin",
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "start-timer",
									"objectClass": "aIns",
									"sid": 278818380780908,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.3",
										"type": "once",
										"tag": "\"fx_lock\""
									}
								},
								{
									"id": "set-position-to-another-object",
									"objectClass": "sonicFX",
									"sid": 370891384219187,
									"parameters": {
										"object": "Bit",
										"image-point-optional": "\"center\""
									}
								},
								{
									"id": "pin-to-object-properties",
									"objectClass": "sonicFX",
									"sid": 847545466362873,
									"behaviorType": "Pin",
									"parameters": {
										"pin-to": "Bit",
										"x": true,
										"y": true,
										"angle": false,
										"width-type": "no",
										"height-type": "no",
										"z": false
									}
								},
								{
									"id": "set-animation",
									"objectClass": "sonicFX",
									"sid": 423739415211474,
									"parameters": {
										"animation": "\"run\"",
										"from": "beginning"
									}
								}
							],
							"sid": 385841354948329
						}
					]
				},
				{
					"eventType": "comment",
					"text": "--- 4. PHYSICS: Серпенты ---"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Bit",
							"sid": 194900267689021,
							"parameters": {
								"object": "ser"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aBit",
							"sid": 586659952079895,
							"parameters": {
								"instance-variable": "sonic"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "ser",
							"sid": 561915635389736
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "ser",
							"sid": 643858004571433,
							"parameters": {
								"instance-variable": "uFrosen",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "ser",
							"sid": 327474998528812,
							"parameters": {
								"animation": "\"diver\"",
								"from": "beginning"
							}
						},
						{
							"id": "instance-signal",
							"objectClass": "ser",
							"sid": 232156376279945,
							"parameters": {
								"tag": "\"reset\""
							}
						},
						{
							"callFunction": "serGoBank",
							"sid": 800607786408547,
							"parameters": [
								"ser.UID"
							]
						}
					],
					"sid": 103432342675222
				},
				{
					"eventType": "comment",
					"text": "?  Если Бит удаляется от разрушаемых объектов, общий режим Соника отключается"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 690399977437953,
							"parameters": {
								"interval-seconds": "0.5"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "base",
							"sid": 689510269092317,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "\"Bit\""
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "base",
							"sid": 114731225182551,
							"disabled": true,
							"parameters": {
								"instance-variable": "move"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "base",
							"sid": 702518505806599,
							"disabled": true,
							"parameters": {
								"instance-variable": "jump"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aBit",
							"sid": 680850056210851,
							"parameters": {
								"instance-variable": "sonic"
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "aGame",
							"sid": 515572487232085,
							"parameters": {
								"instance-variable": "sonicMod",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "point",
							"sid": 214980384928874,
							"parameters": {
								"instance-variable": "callSFL",
								"comparison": 0,
								"value": "\"sonic\""
							}
						}
					],
					"actions": [],
					"sid": 168775616125706,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-nearestfurthest",
									"objectClass": "point",
									"sid": 130738903555404,
									"parameters": {
										"which": "nearest",
										"x": "base.X",
										"y": "base.Y"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 357421849176904,
									"parameters": {
										"first-value": "Functions.getIsoDist(base.X,base.Y,point.X,point.Y)",
										"comparison": 4,
										"second-value": "300"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 514318056678440,
									"parameters": {
										"instance-variable": "sonicMod",
										"value": "0"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aBit",
									"sid": 564025250621234,
									"parameters": {
										"instance-variable": "sonicTargetUID",
										"value": "0"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 466884070418040,
									"parameters": {
										"group-name": "\"sonicWargame\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 297678223554686
						}
					]
				},
				{
					"eventType": "comment",
					"text": "приземление в сонике"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onselffunction0",
							"objectClass": "base",
							"sid": 399594238370318,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "\"land\""
							}
						}
					],
					"actions": [
						{
							"customAction": "vRipple",
							"objectClass": "aaa",
							"sid": 691326292898932,
							"parameters": [
								"base.X",
								"base.Y",
								"1000"
							]
						}
					],
					"sid": 385928151364471
				},
				{
					"eventType": "comment",
					"text": "\n\n\nСоник и серпенты"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Bit",
							"sid": 405607634556275,
							"parameters": {
								"object": "ser"
							}
						}
					],
					"actions": [],
					"sid": 885366482900394,
					"disabled": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 995368321781253,
									"parameters": {
										"animation": "\"sonicJump\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) "
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 997962232987040,
									"parameters": {
										"animation": "\"sonicAirCharge\""
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 449196728682786,
									"parameters": {
										"animation": "\"sonicLand\""
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 442596672349254,
									"parameters": {
										"animation": "\"sonicGrow\""
									}
								}
							],
							"actions": [],
							"sid": 160645941536467,
							"disabled": true,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "senseDist",
											"sid": 216749238212439,
											"parameters": {
												"object": "ser"
											}
										},
										{
											"id": "is-visible",
											"objectClass": "ser",
											"sid": 946284957701006
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ser",
											"sid": 222627651612132,
											"parameters": {
												"instance-variable": "uFrosen",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "ser",
											"sid": 940459406579645,
											"parameters": {
												"animation": "\"diver\"",
												"from": "beginning"
											}
										},
										{
											"id": "instance-signal",
											"objectClass": "ser",
											"sid": 344143318240441,
											"parameters": {
												"tag": "\"reset\""
											}
										},
										{
											"callFunction": "serGoBank",
											"sid": 716845347793317,
											"parameters": [
												"ser.UID"
											]
										}
									],
									"sid": 529770426375958,
									"disabled": true
								}
							],
							"isOrBlock": true
						}
					]
				}
			],
			"sid": 230038639616645
		},
		{
			"eventType": "comment",
			"text": "эффекты при разрушении объектов"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "MyceliumFX",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"functionName": "spawnMycelium",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "pUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 838129615771410
						},
						{
							"name": "pX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 400812793399565
						},
						{
							"name": "pY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 185713245514993
						},
						{
							"name": "count",
							"type": "number",
							"initialValue": "12",
							"comment": "",
							"sid": 533949615337426
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 902588759871535,
							"parameters": {
								"unique-id": "pUID"
							}
						}
					],
					"actions": [],
					"sid": 317222326055646,
					"children": [
						{
							"eventType": "variable",
							"name": "checkX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 217073897555571
						},
						{
							"eventType": "variable",
							"name": "checkY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": false,
							"isConstant": false,
							"sid": 160878750614464
						},
						{
							"eventType": "variable",
							"name": "isOccupied",
							"type": "number",
							"initialValue": "0",
							"comment": "0 = free, 1 = busy",
							"isStatic": false,
							"isConstant": false,
							"sid": 288449727677185
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 542794496210468,
									"parameters": {
										"count": "count"
									}
								}
							],
							"actions": [],
							"sid": 298229695235892,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 840483147308583,
											"parameters": {
												"count": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 726257445017001,
											"parameters": {
												"variable": "checkX",
												"value": "pX + random(-120, 120)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 539529653588649,
											"parameters": {
												"variable": "checkY",
												"value": "pY + random(-90, 60)"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 988363140632786,
											"parameters": {
												"variable": "isOccupied",
												"value": "0"
											}
										}
									],
									"sid": 946740797130863,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-evaluate",
													"objectClass": "System",
													"sid": 145808940985578,
													"parameters": {
														"object": "vPatterns",
														"expression": "distance(vPatterns.X, vPatterns.Y, checkX, checkY) < 55"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 265425895296320,
													"parameters": {
														"variable": "isOccupied",
														"value": "1"
													}
												}
											],
											"sid": 166036749145761
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 569244377159358,
													"parameters": {
														"first-value": "distance(pX, pY * 2, checkX, checkY * 2)",
														"comparison": 4,
														"second-value": "140"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 637605396891558,
													"parameters": {
														"variable": "isOccupied",
														"value": "1"
													}
												}
											],
											"sid": 908682703404209
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 782586941982203,
													"parameters": {
														"variable": "isOccupied",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [],
											"sid": 147493036373501,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "pick-all",
															"objectClass": "System",
															"sid": 406875245979682,
															"parameters": {
																"object": "vPatterns"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "vPatterns",
															"sid": 863557418825786,
															"parameters": {
																"instance-variable": "isAvail"
															}
														},
														{
															"id": "pick-random-instance",
															"objectClass": "System",
															"sid": 895048123260963,
															"parameters": {
																"object": "vPatterns"
															}
														}
													],
													"actions": [
														{
															"id": "set-boolean-instvar",
															"objectClass": "vPatterns",
															"sid": 496965331771978,
															"parameters": {
																"instance-variable": "isAvail",
																"value": "false"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "vPatterns",
															"sid": 192907360500334,
															"parameters": {
																"instance-variable": "hostUID",
																"value": "pUID"
															}
														},
														{
															"id": "set-position",
															"objectClass": "vPatterns",
															"sid": 362676305084987,
															"parameters": {
																"x": "checkX",
																"y": "checkY"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "vPatterns",
															"sid": 869292712562942,
															"parameters": {
																"instance-variable": "iBaseFrame",
																"value": "choose(2, 3, 3, 4)"
															}
														},
														{
															"id": "set-animation-frame",
															"objectClass": "vPatterns",
															"sid": 430320886951397,
															"parameters": {
																"frame-number": "Self.iBaseFrame"
															}
														},
														{
															"id": "set-opacity",
															"objectClass": "vPatterns",
															"sid": 511710903462332,
															"parameters": {
																"opacity": "0"
															}
														},
														{
															"id": "tween-one-property",
															"objectClass": "vPatterns",
															"sid": 466204672439725,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"spawn\"",
																"property": "offsetOpacity",
																"end-value": "100",
																"time": "0.2",
																"ease": "easeoutsine",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "point",
															"sid": 899804226080895,
															"parameters": {
																"instance-variable": "index",
																"value": "1"
															}
														},
														{
															"id": "stop-loop",
															"objectClass": "System",
															"sid": 481304882983720
														}
													],
													"sid": 599449094805991
												}
											]
										}
									]
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": ""
				},
				{
					"functionName": "clearMycelium",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "pUID",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 706052204779493
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 481355746884476,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "vPatterns",
									"sid": 133467962297482,
									"parameters": {
										"instance-variable": "hostUID",
										"comparison": 0,
										"value": "pUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "vPatterns",
									"sid": 822293450418772,
									"parameters": {
										"instance-variable": "isAvail",
										"value": "true"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "vPatterns",
									"sid": 163233130610281,
									"parameters": {
										"instance-variable": "hostUID",
										"value": "-1"
									}
								},
								{
									"id": "set-position",
									"objectClass": "vPatterns",
									"sid": 816626022813319,
									"parameters": {
										"x": "-8500",
										"y": "-7500"
									}
								},
								{
									"id": "stop-all-tweens",
									"objectClass": "vPatterns",
									"sid": 964417210274771,
									"behaviorType": "Tween"
								},
								{
									"id": "set-active",
									"objectClass": "vPatterns",
									"sid": 314072699147774,
									"disabled": true,
									"behaviorType": "Sine",
									"parameters": {
										"state": "inactive"
									}
								}
							],
							"sid": 270868919873610
						}
					]
				},
				{
					"eventType": "comment",
					"text": "разрушение закончено"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "vegaClaster",
							"sid": 186470408215502,
							"parameters": {
								"animation": "\"sonic\""
							}
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "vegaClaster",
							"sid": 298834892747169,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "15",
								"type": "once",
								"tag": "\"reGrow\""
							}
						}
					],
					"sid": 503813762423491
				},
				{
					"eventType": "comment",
					"text": "запуск возрождения"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "vegaClaster",
							"sid": 729214700430593,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"reGrow\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "vegaClaster",
							"sid": 565093925849079,
							"parameters": {
								"animation": "\"grow\"",
								"from": "beginning"
							}
						}
					],
					"sid": 160395340388981
				},
				{
					"eventType": "comment",
					"text": "возрождение окончено"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "vegaClaster",
							"sid": 837736587235742,
							"parameters": {
								"animation": "\"grow\""
							}
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "vegaClaster",
							"sid": 258161719913366,
							"parameters": {
								"animation": "\"doom\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "vegaClaster",
							"sid": 238160975167576,
							"parameters": {
								"instance-variable": "on",
								"value": "true"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "vegaClaster",
							"sid": 268085100732291,
							"parameters": {
								"instance-variable": "callSFL",
								"value": "\"sonic\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "vegaClaster",
							"sid": 830507408396167,
							"parameters": {
								"instance-variable": "callSFR",
								"value": "\"sonic\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "point",
							"sid": 106424056211791,
							"parameters": {
								"instance-variable": "hide",
								"value": "false"
							}
						},
						{
							"callFunction": "clearMycelium",
							"sid": 233425177366920,
							"parameters": [
								"vegaClaster.UID"
							]
						}
					],
					"sid": 646003749184591
				},
				{
					"eventType": "comment",
					"text": ""
				},
				{
					"aceType": "action",
					"aceName": "vRipple",
					"objectClass": "aaa",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "rX",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 824414019888977
						},
						{
							"name": "rY",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"sid": 231215366593347
						},
						{
							"name": "rSize",
							"type": "number",
							"initialValue": "1000",
							"comment": "",
							"sid": 978402060005006
						}
					],
					"eventType": "custom-ace-block",
					"conditions": [],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 746660831039870,
							"parameters": {
								"object-to-create": "vRipple",
								"layer": "\"iso\"",
								"x": "rX",
								"y": "rY",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "vRipple",
							"sid": 357476340240995,
							"parameters": {
								"instance-variable": "BirthTime",
								"value": "time"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "vRipple",
							"sid": 812165916225456,
							"parameters": {
								"instance-variable": "speed",
								"value": "1000"
							}
						},
						{
							"id": "start-timer",
							"objectClass": "vRipple",
							"sid": 609757741657452,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "(rSize / 1000) + 0.2",
								"type": "once",
								"tag": "\"ripple\""
							}
						}
					],
					"sid": 330281106955737
				},
				{
					"eventType": "comment",
					"text": ""
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "vRipple",
							"sid": 904965557485880,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"ripple\""
							}
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "vRipple",
							"sid": 944055755242333
						}
					],
					"sid": 198290550158210
				},
				{
					"eventType": "comment",
					"text": "--- RIPPLE SYSTEM --- Обработка волн. Работает, только если есть активные vRipple."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 229198981909811,
							"parameters": {
								"object": "vRipple"
							}
						}
					],
					"actions": [],
					"sid": 739794188154179,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-evaluate",
									"objectClass": "System",
									"sid": 208221610263567,
									"parameters": {
										"object": "vPatterns",
										"expression": "abs(distance(0, 0, vPatterns.X - vRipple.X, (vPatterns.Y - vRipple.Y) * 2) - ((time - vRipple.BirthTime) * vRipple.Speed)) < 50"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "vPatterns",
									"sid": 613218061880722,
									"parameters": {
										"instance-variable": "isAvail"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "vPatterns",
									"sid": 459508266651619,
									"parameters": {
										"instance-variable": "isShocked"
									},
									"isInverted": true
								},
								{
									"id": "is-on-screen",
									"objectClass": "vPatterns",
									"sid": 812593251669535
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "vPatterns",
									"sid": 687018212399511,
									"parameters": {
										"instance-variable": "isShocked",
										"value": "true"
									}
								},
								{
									"id": "set-opacity",
									"objectClass": "vPatterns",
									"sid": 663719951395509,
									"parameters": {
										"opacity": "100"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "vPatterns",
									"sid": 841823102134487,
									"parameters": {
										"frame-number": "0"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "vPatterns",
									"sid": 279851769304299,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"react\"",
										"property": "offsetOpacity",
										"end-value": "100",
										"time": "0.1",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "vPatterns",
									"sid": 913854896947431,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.1",
										"type": "once",
										"tag": "\"shock\""
									}
								}
							],
							"sid": 349042365539988
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-timer",
							"objectClass": "vPatterns",
							"sid": 657554463041544,
							"behaviorType": "Timer",
							"parameters": {
								"tag": "\"shock\""
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "vPatterns",
							"sid": 493418609509618,
							"parameters": {
								"instance-variable": "isShocked",
								"value": "false"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "vPatterns",
							"sid": 968684944907362,
							"parameters": {
								"frame-number": "Self.iBaseFrame"
							}
						}
					],
					"sid": 723407186910474
				},
				{
					"eventType": "comment",
					"text": "--- BIT REACTION --- Реакция на приближение Бита. Выполняется каждый тик."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "vPatterns",
							"sid": 616012304382485,
							"parameters": {
								"instance-variable": "isReacting"
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 659473946180705,
							"parameters": {
								"first-value": "distance(0, 0, vPatterns.X - Bit.X, (vPatterns.Y - Bit.Y) * 2)",
								"comparison": 4,
								"second-value": "220"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "vPatterns",
							"sid": 365818426513590,
							"parameters": {
								"instance-variable": "isReacting",
								"value": "false"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "vPatterns",
							"sid": 159473674093768,
							"parameters": {
								"frame-number": "Self.iBaseFrame"
							}
						},
						{
							"id": "stop-tweens",
							"objectClass": "vPatterns",
							"sid": 793181942236908,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"react\""
							}
						},
						{
							"id": "set-opacity",
							"objectClass": "vPatterns",
							"sid": 391416016956153,
							"parameters": {
								"opacity": "100"
							}
						}
					],
					"sid": 427298654700597
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-x",
							"objectClass": "vPatterns",
							"sid": 151496584516069,
							"parameters": {
								"comparison": 4,
								"x-co-ordinate": "Bit.X + 220"
							}
						},
						{
							"id": "compare-x",
							"objectClass": "vPatterns",
							"sid": 756240323433803,
							"parameters": {
								"comparison": 2,
								"x-co-ordinate": "Bit.X - 220"
							}
						},
						{
							"id": "compare-y",
							"objectClass": "vPatterns",
							"sid": 670243974061274,
							"parameters": {
								"comparison": 4,
								"y-co-ordinate": "Bit.Y + 140"
							}
						},
						{
							"id": "compare-y",
							"objectClass": "vPatterns",
							"sid": 233419321492034,
							"parameters": {
								"comparison": 2,
								"y-co-ordinate": "Bit.Y - 140"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "vPatterns",
							"sid": 189310418219276,
							"parameters": {
								"instance-variable": "isShocked"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "vPatterns",
							"sid": 854024594226659,
							"parameters": {
								"instance-variable": "isAvail"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "vPatterns",
							"sid": 588985450307293,
							"parameters": {
								"instance-variable": "isReacting",
								"value": "true"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "vPatterns",
							"sid": 100073301304573,
							"parameters": {
								"frame-number": "clamp(Self.iBaseFrame - int((220 - distance(0, 0, Self.X - Bit.X, (Self.Y - Bit.Y) * 2)) / 30), 0, Self.iBaseFrame)"
							}
						}
					],
					"sid": 540706292151637
				},
				{
					"eventType": "comment",
					"text": "--- IDLE & CLEANUP --- Живое мерцание (эффективно) и удаление далеких объектов."
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 999894969792663,
							"parameters": {
								"interval-seconds": "0.1"
							}
						}
					],
					"actions": [],
					"sid": 865162133253608,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 180589860253769,
									"parameters": {
										"count": "8"
									}
								}
							],
							"actions": [],
							"sid": 868789096496310,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-random-instance",
											"objectClass": "System",
											"sid": 221920236915215,
											"parameters": {
												"object": "vPatterns"
											}
										},
										{
											"id": "is-on-screen",
											"objectClass": "vPatterns",
											"sid": 494844597854833
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "vPatterns",
											"sid": 558247874065766,
											"parameters": {
												"instance-variable": "isAvail"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "vPatterns",
											"sid": 467420737057201,
											"parameters": {
												"instance-variable": "isShocked"
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "vPatterns",
											"sid": 713767196696537,
											"parameters": {
												"instance-variable": "isReacting"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-animation-frame",
											"objectClass": "vPatterns",
											"sid": 218813236313137,
											"parameters": {
												"frame-number": "choose(Self.iBaseFrame, Self.iBaseFrame + 1)"
											}
										}
									],
									"sid": 111042056470267
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": ""
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 666933852875192,
							"parameters": {
								"interval-seconds": "1.0"
							}
						},
						{
							"id": "is-group-active",
							"objectClass": "System",
							"sid": 413323194972116,
							"disabled": true,
							"parameters": {
								"group-name": "\"MyceliumFX\""
							}
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 934335151546053,
							"parameters": {
								"first-value": "vRipple.Count",
								"comparison": 0,
								"second-value": "0"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "aGame",
							"sid": 235695802640578,
							"parameters": {
								"instance-variable": "sonicMod",
								"comparison": 0,
								"value": "0"
							}
						}
					],
					"actions": [],
					"sid": 653602053083727,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-outside-layout",
									"objectClass": "vPatterns",
									"sid": 743475495917145,
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 316797500049308
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 700418063535473
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 948475798525131,
									"parameters": {
										"group-name": "\"MyceliumFX\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 357190316564400
						}
					]
				},
				{
					"eventType": "comment",
					"text": "\n\n\n\n\n\n\n"
				}
			],
			"sid": 645661144842871
		},
		{
			"eventType": "comment",
			"text": "\n\n\n\n\nтест"
		},
		{
			"eventType": "variable",
			"name": "SW",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 905461818344389
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-group-active",
					"objectClass": "System",
					"sid": 843703160184193,
					"parameters": {
						"group-name": "\"sonicWargame\""
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "aGame",
					"sid": 687431710709446,
					"parameters": {
						"instance-variable": "chapter",
						"value": "\"on\""
					}
				}
			],
			"sid": 327454427730802
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "else",
					"objectClass": "System",
					"sid": 707815903956594
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "aGame",
					"sid": 375503197220486,
					"parameters": {
						"instance-variable": "chapter",
						"value": "\"off\""
					}
				}
			],
			"sid": 368084301047826
		}
	],
	"sid": 383475547105838
}