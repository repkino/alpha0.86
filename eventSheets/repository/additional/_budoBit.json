{
	"name": "_budoBit",
	"events": [
		{
			"eventType": "comment",
			"text": "Принято, переключаемся на лист _budoBit. Это действительно фундаментальный узел механики Бита.\n\nПроанализировал структуру листа. Согласно алгоритму (Depth-First, включая группы и функции, исключая переменные и комментарии), в листе 112 событий.\n\nАнализ текущего состояния _budoBit:\nЛист написан в «старом стиле» и требует серьезной адаптации под текущие стандарты проекта Bioid:\n\n1 Нарушение стандарта Bank/Reuse: В событиях №61, 63, 67, 87 и 112 активно используются Create object и Destroy. Это противоречит правилу оптимизации Pagurus. Нужно перевести ball, ballShad и эффекты на выборку из «банка» (координаты < 0).\n2 Устаревшая коллизия: В функции ballHitByBit (№59) прописана логика только для ser (серпента). Для атаки на tGuard (стража) здесь пока ничего нет.\n3 Изометрия: Расчет bIso (изометрического радиуса) в №12 и №43 использует aTools.isoCoeff и aGame.ballRIso. Нужно проверить, соответствуют ли эти коэффициенты текущему наклону 0.5.\n4 Энергозависимость: В базе знаний указано, что Бит тратит энергию на действия. В текущем листе проверки уровня энергии перед броском нет.\nПлан адаптации (Логика):\nШаг 1: Внедрение Bank/Reuse. Переписываем создание шара: вместо Spawn, ищем ballShad с Y < 0, телепортируем его в точку Bit.ImagePoint(\"gun\") и привязываем к нему ball.\nШаг 2: Атака на Стража. Добавляем в ballHitByBit блок для tGuard. При попадании мяча страж должен либо переходить в состояние «оглушения» (stun), либо сбрасывать цикл роста.\nШаг 3: Синхронизация с _guardB. Если Бит атакует стража, который находится в процессе запечатывания (seal = true), атака должна прерывать этот процесс и освобождать Бита."
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "budoBit",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "comment",
					"text": "\n\n\n    метание шара\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballTargetBit",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "При нажатии на панели кнопки мяча или плода активируется режим прицела на курсоре, который будет стрелять мячами на ЛКМ, пока не кончатся плоды или бесконечно в случае мячей. Отключение режима через нажатие на ту же кнопку или любую другую кнопку панелей, кроме плодов - они активируют режим с другим плодом. Так же нажатие ПКМ и СКМ и Esc отключат режим, также это сделает пробел при этом стреляя в обычном режиме. Также отключение может вызвать нападение на Нордика. Если режим отключается, надо отключить и группы мяча. В режиме другие функции мыши отключаются."
						},
						{
							"functionName": "ballTargetBit",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "button",
									"type": "string",
									"initialValue": "",
									"comment": "",
									"sid": 750392641655978
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 217295977329198,
									"disabled": true,
									"parameters": {
										"instance-variable": "hero",
										"comparison": 0,
										"value": "\"Nordik\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 885532827150923,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "mouse-button-is-down",
									"objectClass": "Mouse",
									"sid": 969993095260922,
									"disabled": true,
									"parameters": {
										"mouse-button": "left"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 167536321396638,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [],
							"sid": 133968950078944,
							"children": [
								{
									"eventType": "comment",
									"text": "включение режима прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 366685344292143,
											"parameters": {
												"instance-variable": "mod",
												"comparison": 1,
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 875263077931416,
											"parameters": {
												"instance-variable": "lastFruit",
												"comparison": 1,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "append-text",
											"objectClass": "info",
											"sid": 801813368377449,
											"disabled": true,
											"parameters": {
												"text": "\"ok \""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 364731112324852,
											"parameters": {
												"instance-variable": "mod",
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 937109951914062,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 262900502682780,
											"parameters": {
												"group-name": "\"ballBit\"",
												"state": "activated"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 914162306582064,
											"parameters": {
												"instance-variable": "canimation",
												"value": "aGame.activeFruit"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 411511875692446,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 161562012015725,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "1"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 956824939717917,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cursor",
											"sid": 556107772782193,
											"parameters": {
												"animation": "\"targetNot\"",
												"from": "current-frame"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 787821590609380,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetNot\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 945436966173418,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "stop-timer",
											"objectClass": "basis",
											"sid": 586775127562882,
											"behaviorType": "Timer",
											"parameters": {
												"tag": "\"noBall\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 378665272700765,
											"parameters": {
												"animation": "\"ballArm\"",
												"from": "beginning"
											}
										}
									],
									"sid": 623942336621757,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "отключение"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 289741863513606
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 721239511775466,
											"parameters": {
												"instance-variable": "mod",
												"comparison": 0,
												"value": "\"ballTarget\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 418008161953611,
											"parameters": {
												"instance-variable": "lastFruit",
												"comparison": 0,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 320627321317686,
											"parameters": {
												"instance-variable": "mod",
												"value": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 752127739296501,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"cursor\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 751031003089309,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 521296962550215,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "aTools.cursorSizeCoeff"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 628673951229916,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 574381874876662,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 915071124783217,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 379784138698085
								},
								{
									"eventType": "comment",
									"text": "реакция основной кнопки"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 382742735679617,
											"parameters": {
												"variable": "button",
												"comparison": 0,
												"value": "\"fruits\""
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "buttFruits",
											"sid": 907970999879627,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "buttFruits",
											"sid": 629722251557569,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 522273463584065,
											"parameters": {
												"instance-variable": "lastFruit",
												"value": "button"
											}
										}
									],
									"sid": 532984370801184,
									"disabled": true
								},
								{
									"eventType": "comment",
									"text": "реакция кнопки плода"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 708084541260924
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 253975142109645,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "button"
											}
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 327258688406497,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickW\"",
												"property": "offsetWidth",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "bAbil",
											"sid": 293344830954985,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"clickH\"",
												"property": "offsetHeight",
												"end-value": "Self.Width+10",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "yes",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 640582107192979,
											"parameters": {
												"instance-variable": "lastFruit",
												"value": "button"
											}
										}
									],
									"sid": 736666639221209,
									"disabled": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nрежим прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 518290278233822,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 0,
										"value": "\"ballTarget\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 434610694806696,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 659717078712226,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 112007515644410,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-x-seconds",
											"objectClass": "System",
											"sid": 745434860864838,
											"parameters": {
												"interval-seconds": "0.1"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 682444019265941,
											"parameters": {
												"object": "peel"
											},
											"isInverted": true
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 108739924914470,
											"parameters": {
												"object": "cocobutton"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 521347421703854,
									"children": [
										{
											"eventType": "comment",
											"text": ""
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 692589310276674,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 282054239445363,
													"parameters": {
														"object": "map"
													}
												}
											],
											"actions": [],
											"sid": 481200848685038,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "point",
															"sid": 449447147792353,
															"parameters": {
																"instance-variable": "ballTarget"
															}
														},
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "map",
															"sid": 702300224642013,
															"parameters": {
																"instance-variable": "ball"
															}
														}
													],
													"actions": [],
													"sid": 637447397884976,
													"children": [
														{
															"eventType": "comment",
															"text": "определение ареала прицеливания через обратное преобразование"
														},
														{
															"eventType": "variable",
															"name": "ang",
															"type": "number",
															"initialValue": "0",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 831813898971895
														},
														{
															"eventType": "variable",
															"name": "bIso",
															"type": "number",
															"initialValue": "0",
															"comment": "",
															"isStatic": false,
															"isConstant": false,
															"sid": 984113491143581
														},
														{
															"eventType": "block",
															"conditions": [],
															"actions": [
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 618880943628826,
																	"parameters": {
																		"variable": "ang",
																		"value": "round(angle(basis.X,basis.Y,Mouse.X,Mouse.Y)-360*floor(angle(basis.X,basis.Y,Mouse.X,Mouse.Y)/360))"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 184583689630829,
																	"parameters": {
																		"variable": "bIso",
																		"value": "1/sqrt((sin(ang)/aGame.ballRIso)^2+(cos(ang)/aGame.ballRange)^2)"
																	}
																},
																{
																	"id": "set-eventvar-value",
																	"objectClass": "System",
																	"sid": 306559662930858,
																	"parameters": {
																		"variable": "bIso",
																		"value": "aGame.activeFruit=\"cucu\"?bIso*2:bIso"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "aGame",
																	"sid": 706673803723415,
																	"parameters": {
																		"instance-variable": "ballLong",
																		"value": "clamp(distance(basis.X,basis.Y,Mouse.X,Mouse.Y),120,bIso)"
																	}
																}
															],
															"sid": 389362727349959
														},
														{
															"eventType": "comment",
															"text": "если в зоне - курсор прицеливания, поворот гг к курсору "
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "aGame",
																	"sid": 312788289282227,
																	"parameters": {
																		"instance-variable": "ballLong",
																		"comparison": 5,
																		"value": "distance(basis.X,basis.Y,Mouse.X,Mouse.Y)"
																	}
																}
															],
															"actions": [
																{
																	"id": "callselffunction0",
																	"objectClass": "basis",
																	"sid": 610694412058052,
																	"behaviorType": "sf",
																	"parameters": {
																		"function_name:0": "\"rotateToMouse\""
																	}
																}
															],
															"sid": 613334665754814,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "point",
																			"sid": 803306593119715,
																			"parameters": {
																				"instance-variable": "ballTarget"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 860815519926872,
																			"parameters": {
																				"animation": "\"ball\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 732430067190750,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"target\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 591085020591491,
																			"disabled": true,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 103664617307959
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 675540514268938
																		},
																		{
																			"id": "is-boolean-instance-variable-set",
																			"objectClass": "map",
																			"sid": 818187991395434,
																			"parameters": {
																				"instance-variable": "ball"
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 589546828379287,
																			"parameters": {
																				"animation": "\"target\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 603669978569325,
																			"disabled": true,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"targetStop\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 108523358890032,
																			"disabled": true,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 953097418633633
																},
																{
																	"eventType": "comment",
																	"text": "если курсор в зоне, но стрелять по объекту нельзя"
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 247414115582575
																		}
																	],
																	"actions": [
																		{
																			"id": "set-animation",
																			"objectClass": "cursor",
																			"sid": 373604670957149,
																			"parameters": {
																				"animation": "\"targetBlock\"",
																				"from": "current-frame"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "cursor",
																			"sid": 801023111593551,
																			"parameters": {
																				"instance-variable": "canimation",
																				"value": "\"targetBlock\""
																			}
																		},
																		{
																			"id": "monitorstr1",
																			"objectClass": "vm",
																			"sid": 387624166516926,
																			"parameters": {
																				"tag0": "\"cursor\"",
																				"string1": "cursor.canimation"
																			}
																		}
																	],
																	"sid": 972827429394047
																}
															]
														},
														{
															"eventType": "comment",
															"text": "если курсор вне зоны"
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 138250277568438
																}
															],
															"actions": [
																{
																	"id": "set-animation",
																	"objectClass": "cursor",
																	"sid": 321549387620755,
																	"parameters": {
																		"animation": "\"targetNot\"",
																		"from": "current-frame"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "cursor",
																	"sid": 368490488860185,
																	"parameters": {
																		"instance-variable": "canimation",
																		"value": "\"targetNot\""
																	}
																},
																{
																	"id": "monitorstr1",
																	"objectClass": "vm",
																	"sid": 291760136168468,
																	"parameters": {
																		"tag0": "\"cursor\"",
																		"string1": "cursor.canimation"
																	}
																}
															],
															"sid": 491827685234432
														}
													],
													"isOrBlock": true
												},
												{
													"eventType": "comment",
													"text": "нельзя стрелять по объекту"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 915426253230688
														}
													],
													"actions": [
														{
															"id": "set-animation",
															"objectClass": "cursor",
															"sid": 815310475414882,
															"parameters": {
																"animation": "\"targetBlock\"",
																"from": "current-frame"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "cursor",
															"sid": 325454186701055,
															"parameters": {
																"instance-variable": "canimation",
																"value": "\"targetBlock\""
															}
														},
														{
															"id": "monitorstr1",
															"objectClass": "vm",
															"sid": 770678520398398,
															"parameters": {
																"tag0": "\"cursor\"",
																"string1": "cursor.canimation"
															}
														}
													],
													"sid": 623566829847049
												}
											],
											"isOrBlock": true
										},
										{
											"eventType": "comment",
											"text": "курсор над пустотой"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 876907304175182
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "cursor",
													"sid": 672812046243813,
													"parameters": {
														"animation": "\"targetBlock\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 753520801825963,
													"parameters": {
														"instance-variable": "canimation",
														"value": "\"targetBlock\""
													}
												},
												{
													"id": "monitorstr1",
													"objectClass": "vm",
													"sid": 320372396774013,
													"parameters": {
														"tag0": "\"cursor\"",
														"string1": "cursor.canimation"
													}
												}
											],
											"sid": 915513790911703
										}
									]
								},
								{
									"eventType": "comment",
									"text": "\n\n способы отключения режима прицеливания\n"
								},
								{
									"eventType": "comment",
									"text": "клик над панелями"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 636945862815741,
											"parameters": {
												"mouse-button": "left",
												"click-type": "clicked"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 642594184054737,
											"parameters": {
												"object": "peel"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 905696301787310,
											"parameters": {
												"object": "buttFruits"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 925326402120084,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 732611712475994,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 133148661278489,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"forms\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aUIN",
													"sid": 719538854854462,
													"parameters": {
														"instance-variable": "panelName",
														"comparison": 0,
														"value": "\"inventory\""
													}
												}
											],
											"actions": [
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 479664695755743,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												}
											],
											"sid": 953858037681515,
											"isOrBlock": true
										}
									]
								},
								{
									"eventType": "comment",
									"text": "навигация над панелью, открывание способностей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "onselffunction0",
											"objectClass": "buttForms",
											"sid": 790809390816732,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"forms\""
											}
										},
										{
											"id": "onselffunction0",
											"objectClass": "buttFlowers",
											"sid": 697725642850956,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"flowers\""
											}
										},
										{
											"id": "onselffunction0",
											"objectClass": "inventory",
											"sid": 239734052139859,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 704662815759499,
											"parameters": {
												"key": 27
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 387496284014865,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 485420823035709,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"cursor\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 516245238221569,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 396253208364136,
									"isOrBlock": true
								},
								{
									"eventType": "comment",
									"text": "при правом клике"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 630108026785645,
											"parameters": {
												"mouse-button": "right",
												"click-type": "clicked"
											}
										}
									],
									"actions": [
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 965657320581773,
											"parameters": {
												"seconds": "0.3",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 647566289497083,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"endBallTarget\""
											}
										}
									],
									"sid": 138337950337394
								},
								{
									"eventType": "comment",
									"text": "пробелом или средней кнопкой мыши - кидание мяча"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-click",
											"objectClass": "Mouse",
											"sid": 418547803553039,
											"parameters": {
												"mouse-button": "middle",
												"click-type": "clicked"
											}
										},
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 888483758523464,
											"parameters": {
												"key": 32
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 546829931087258,
											"parameters": {
												"instance-variable": "mod",
												"value": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aTools",
											"sid": 574965138317429,
											"parameters": {
												"instance-variable": "mouseState",
												"value": "\"cursor\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 206053830102184,
											"disabled": true,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 720531540457052,
											"parameters": {
												"instance-variable": "sizeCoeff",
												"value": "aTools.cursorSizeCoeff"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "cursor",
											"sid": 542841979357853,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"resize\""
											}
										},
										{
											"callFunction": "ball",
											"sid": 587745640941973,
											"parameters": [
												"\"target\"",
												"Mouse.X",
												"Mouse.Y"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 350689087442795,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetEnd\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 513319553696037,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 585969114061586,
											"parameters": {
												"group-name": "\"ballTargetBit\"",
												"state": "deactivated"
											}
										}
									],
									"sid": 810735306294719,
									"isOrBlock": true
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nфункция отключения режима прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "onselffunction0",
									"objectClass": "cursor",
									"sid": 721587205982259,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"endBallTarget\""
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 819923757986817,
									"parameters": {
										"first-value": "ballShad.Count",
										"comparison": 0,
										"second-value": "0"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 538705464274271,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aBook",
									"sid": 885204666075398,
									"parameters": {
										"instance-variable": "mod",
										"value": "\"\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aTools",
									"sid": 261173402033815,
									"parameters": {
										"instance-variable": "mouseState",
										"value": "\"cursor\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 843662916442963,
									"disabled": true,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "0.8"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 356062135870277,
									"parameters": {
										"instance-variable": "sizeCoeff",
										"value": "aTools.cursorSizeCoeff"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 127609707295972,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"resize\""
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 752662275009033,
									"parameters": {
										"group-name": "\"ball\"",
										"state": "deactivated"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 645766824346033,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "5",
										"type": "once",
										"tag": "\"noBall\""
									}
								}
							],
							"sid": 491676849080919
						},
						{
							"eventType": "comment",
							"text": "\n\nбросок левой кнопкой мыши в режиме прицеливания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-click",
									"objectClass": "Mouse",
									"sid": 147037002865813,
									"parameters": {
										"mouse-button": "left",
										"click-type": "clicked"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 619182679709033,
									"parameters": {
										"instance-variable": "mod",
										"comparison": 0,
										"value": "\"ballTarget\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aMico",
									"sid": 763563904374421,
									"parameters": {
										"instance-variable": "BitSpiky",
										"comparison": 2,
										"value": "25"
									}
								}
							],
							"actions": [],
							"sid": 442765562844275,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "cursor",
											"sid": 227592976336803,
											"parameters": {
												"animation": "\"target\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "cursor",
											"sid": 629200014507087,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "ball",
											"sid": 427804208157236,
											"disabled": true,
											"parameters": [
												"\"target\"",
												"Mouse.X",
												"Mouse.Y"
											]
										},
										{
											"callFunction": "ballBit",
											"sid": 329902374134812,
											"parameters": [
												"\"target\"",
												"Mouse.X",
												"Mouse.Y"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 357268058170842,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"targetEnd\""
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 361861128193856,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 895337109492599,
									"isOrBlock": true
								}
							]
						}
					],
					"sid": 715237644369189
				},
				{
					"eventType": "comment",
					"text": "выполнение броска"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballBit",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\n\n1/sqrt((sin(Sprite.Angle)/(a*ISO))^2+(cos(Sprite.Angle)/a)^2)"
						},
						{
							"functionName": "ballBit",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": false,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "mod",
									"type": "string",
									"initialValue": "key",
									"comment": "",
									"sid": 593737115746509
								},
								{
									"name": "xx",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 944895576236769
								},
								{
									"name": "yy",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"sid": 439229489852964
								}
							],
							"eventType": "function-block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 152954221114063,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 390350229458517,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "basis",
									"sid": 988694743041178,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"ballOut\""
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 793889939752406,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "aMico",
									"sid": 646988372748211,
									"parameters": {
										"instance-variable": "BitSpiky",
										"comparison": 2,
										"value": "25"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 118465219669213,
									"disabled": true,
									"parameters": {
										"text": "mod&\"Ball\""
									}
								},
								{
									"id": "stop-timer",
									"objectClass": "basis",
									"sid": 541659446823307,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								},
								{
									"type": "comment",
									"text": "   S"
								},
								{
									"callFunction": "sense",
									"sid": 915772601410733,
									"disabled": true,
									"parameters": [
										"aBook.hero",
										"\"ball\"",
										"-0.06",
										"0",
										"1",
										"\"ballStart\"",
										"aGame.mind",
										"0",
										"1",
										"1",
										"0"
									]
								}
							],
							"sid": 267360661643866,
							"children": [
								{
									"eventType": "comment",
									"text": "поворот Нордика к курсору"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 890159130370623,
											"parameters": {
												"instance-variable": "task",
												"value": "\"ball\""
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "basis",
											"sid": 973044478407448,
											"behaviorType": "sf",
											"parameters": {
												"function_name:0": "\"rotateToMouse\""
											}
										},
										{
											"callFunction": "animPers",
											"sid": 489701980167841,
											"disabled": true,
											"parameters": [
												"person.UID",
												"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
												"0",
												"0",
												"basis.move=1?24:12",
												"0"
											]
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 886796318188157,
											"parameters": [
												"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"basis.move=1?24:12",
												"0",
												true,
												"\"zero\""
											]
										}
									],
									"sid": 269427121756505
								},
								{
									"eventType": "comment",
									"text": "если не режим прицеливания"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 753360595819347,
											"parameters": {
												"variable": "mod",
												"comparison": 1,
												"value": "\"target\""
											}
										}
									],
									"actions": [],
									"sid": 454024102544268,
									"children": [
										{
											"eventType": "comment",
											"text": "если цель законная"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "cursor-is-over-object",
													"objectClass": "Mouse",
													"sid": 625285267586518,
													"parameters": {
														"object": "point"
													}
												},
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "point",
													"sid": 475934798102895,
													"parameters": {
														"instance-variable": "ballTarget"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 125969654119513,
													"parameters": {
														"variable": "xx",
														"value": "point.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 280609986804886,
													"parameters": {
														"variable": "yy",
														"value": "point.Y"
													}
												}
											],
											"sid": 326810080123131,
											"children": [
												{
													"eventType": "comment",
													"text": "поворот гг к курсору"
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "key-is-down",
															"objectClass": "Keyboard",
															"sid": 857483110416368,
															"parameters": {
																"key": 32
															},
															"isInverted": true
														},
														{
															"id": "mouse-button-is-down",
															"objectClass": "Mouse",
															"sid": 630599611090475,
															"parameters": {
																"mouse-button": "middle"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "callselffunction0",
															"objectClass": "basis",
															"sid": 566184100879899,
															"behaviorType": "sf",
															"parameters": {
																"function_name:0": "\"rotateToMouse\""
															}
														},
														{
															"customAction": "anim",
															"objectClass": "aaa",
															"sid": 234499402735641,
															"parameters": [
																"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
																"2",
																"0",
																"\"zero\"",
																false,
																false,
																"\"Bit\"",
																"basis.move=1?24:12",
																"0",
																true,
																"\"zero\""
															]
														},
														{
															"callFunction": "animPers",
															"sid": 366688512362820,
															"disabled": true,
															"parameters": [
																"person.UID",
																"basis.directNumbers=8? \"ball\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"ball\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"ball1\"",
																"0",
																"0",
																"basis.move=1?24:12",
																"0"
															]
														}
													],
													"sid": 749316596332799
												}
											]
										},
										{
											"eventType": "comment",
											"text": "координаты для броска - мышь"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 657199555334542
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 926120571277032,
													"parameters": {
														"variable": "xx",
														"value": "Mouse.X"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 838878774614263,
													"parameters": {
														"variable": "yy",
														"value": "Mouse.Y"
													}
												}
											],
											"sid": 128196801987210
										}
									]
								},
								{
									"eventType": "comment",
									"text": "\n\n\nесли активный плод не мяч, вычетаем единицу из ключа плода"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 951236271259339,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "bAbil",
											"sid": 475850751784846,
											"disabled": true,
											"parameters": {
												"instance-variable": "pName",
												"comparison": 0,
												"value": "aGame.activeFruit"
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "bAbil",
											"sid": 357493380272378,
											"disabled": true,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"bFruits\""
											}
										},
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 542974170140897,
											"parameters": {
												"group-name": "aGame.activeFruit",
												"state": "activated"
											}
										},
										{
											"id": "set-key",
											"objectClass": "dFruits",
											"sid": 233729180228715,
											"parameters": {
												"key": "aGame.activeFruit",
												"value": "dFruits.Get(aGame.activeFruit)-1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 294644063955939,
											"disabled": true,
											"parameters": {
												"text": "\"ch\""
											}
										}
									],
									"sid": 361444903635100
								},
								{
									"eventType": "comment",
									"text": "если значение ключа 0 удаляем ключ, уменьшаем панель на количество ключей"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 811347556807124,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-value",
											"objectClass": "dFruits",
											"sid": 535132604881132,
											"parameters": {
												"key": "aGame.activeFruit",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "delete-key",
											"objectClass": "dFruits",
											"sid": 917757611721487,
											"parameters": {
												"key": "aGame.activeFruit"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aUIN",
											"sid": 241456538656262,
											"disabled": true,
											"parameters": {
												"instance-variable": "widthFruits",
												"value": "clamp(280+dFruits.KeyCount*70,285,1275)"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "peel",
											"sid": 907174705735505,
											"disabled": true,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"inventory\"",
												"property": "offsetWidth",
												"end-value": "aUIN.widthFruits",
												"time": "0.1",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "set-text",
											"objectClass": "help",
											"sid": 120666688589855,
											"disabled": true,
											"parameters": {
												"text": "\"e\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 819748614621725,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aGame",
											"sid": 259020052228188,
											"parameters": {
												"instance-variable": "activeFruit",
												"value": "\"ball\""
											}
										}
									],
									"sid": 625320456155385,
									"children": [
										{
											"eventType": "comment",
											"text": "при исчезновении плода, если был режим прицеливания, режим отключается"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 953160293893933,
													"parameters": {
														"instance-variable": "mod",
														"comparison": 0,
														"value": "\"ballTarget\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 378526836439385,
													"parameters": {
														"instance-variable": "mod",
														"value": "\"\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aTools",
													"sid": 152164311814917,
													"parameters": {
														"instance-variable": "mouseState",
														"value": "\"cursor\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 387025623195983,
													"disabled": true,
													"parameters": {
														"instance-variable": "sizeCoeff",
														"value": "0.8"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 763677166198190,
													"parameters": {
														"instance-variable": "sizeCoeff",
														"value": "aTools.cursorSizeCoeff"
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 608518776421914,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"resize\""
													}
												},
												{
													"id": "callselffunction0",
													"objectClass": "cursor",
													"sid": 349498352873718,
													"behaviorType": "sf",
													"parameters": {
														"function_name:0": "\"endBallTarget\""
													}
												},
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 841083896216880,
													"parameters": {
														"group-name": "\"ballTargetBit\"",
														"state": "deactivated"
													}
												}
											],
											"sid": 932605124312237
										}
									]
								},
								{
									"eventType": "comment",
									"text": "обновляем значки плодов"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 108624950406225,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 1,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "callselffunction0",
											"objectClass": "buttFruits",
											"sid": 825266430373575,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"popUpInv\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 547144831340990,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "buttFruits",
											"sid": 893528148260438,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"fruits\""
											}
										}
									],
									"sid": 668733680375569
								},
								{
									"eventType": "comment",
									"text": "определение отзеркаливания гг"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 170232442286677,
											"parameters": {
												"state": "not-mirrored"
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 145013505749554,
											"parameters": {
												"seconds": "0",
												"use-timescale": true
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 941765077984458,
											"parameters": {
												"instance-variable": "task",
												"value": "\"zero\""
											}
										}
									],
									"sid": 193959242710391
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 765433659500358,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 330355263851124,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 519010883480254
								},
								{
									"eventType": "comment",
									"text": "\n\nсоздание шара"
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "basis",
											"sid": 560267332463533,
											"disabled": true,
											"parameters": {
												"object": "ballShad",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "create-object",
											"objectClass": "System",
											"sid": 620251027123610,
											"parameters": {
												"object-to-create": "ballShad",
												"layer": "\"iso\"",
												"x": "Bit.ImagePointX(\"gun\")",
												"y": "basis.Y",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-position",
											"objectClass": "ballShad",
											"sid": 565055399372355,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")",
												"y": "basis.direct=2?basis.Y+20: basis.direct=1|basis.direct=3?basis.Y+10:basis.direct>4?basis.Y-10:basis.Y+1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 832802430140720,
											"parameters": {
												"instance-variable": "fruit",
												"value": "aGame.activeFruit"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "ballShad",
											"sid": 885538463969619,
											"parameters": {
												"angle": "0"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 308629223969674,
											"parameters": {
												"opacity": "Self.opas"
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "ballShad",
											"sid": 583812219028946,
											"parameters": {
												"object": "ball",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": true,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-size",
											"objectClass": "ball",
											"sid": 890491928584221,
											"disabled": true,
											"parameters": {
												"width": "Self.ImageWidth*aBook.heroScaleCoeff*1.1*basis.zScale",
												"height": "Self.ImageHeight*aBook.heroScaleCoeff*1.1*basis.zScale"
											}
										},
										{
											"id": "set-size",
											"objectClass": "ball",
											"sid": 728201896303628,
											"parameters": {
												"width": "Self.ImageWidth*aBook.heroScaleCoeff*1.5",
												"height": "Self.ImageHeight*aBook.heroScaleCoeff*1.5"
											}
										},
										{
											"id": "set-angle",
											"objectClass": "ball",
											"sid": 646979739296377,
											"parameters": {
												"angle": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 325952082013034,
											"parameters": {
												"animation": "aGame.activeFruit",
												"from": "beginning"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 262097293349077,
											"parameters": {
												"instance-variable": "ballUID",
												"value": "ball.UID"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 225591220945203,
											"parameters": {
												"instance-variable": "xx",
												"value": "xx"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ballShad",
											"sid": 512945778149816,
											"parameters": {
												"instance-variable": "yy",
												"value": "yy"
											}
										},
										{
											"id": "set-x",
											"objectClass": "ballShad",
											"sid": 805484842409810,
											"parameters": {
												"x": "Bit.ImagePointX(\"gun\")"
											}
										},
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 414225713093858,
											"disabled": true,
											"parameters": {
												"y": "Bit.ImagePointY(2)"
											}
										},
										{
											"id": "set-position",
											"objectClass": "ball",
											"sid": 374929606080407,
											"parameters": {
												"x": "ballShad.X",
												"y": "Bit.ImagePointY(\"gun\")"
											}
										},
										{
											"id": "pin-to-object-properties",
											"objectClass": "ball",
											"sid": 827507795461145,
											"behaviorType": "Pin",
											"parameters": {
												"pin-to": "ballShad",
												"x": true,
												"y": false,
												"angle": false,
												"width-type": "no",
												"height-type": "no",
												"z": false
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 229791603450122,
											"parameters": {
												"instance-variable": "startY",
												"value": "ballShad.Y"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 644937877629552,
											"disabled": true,
											"parameters": {
												"instance-variable": "startY",
												"value": "Self.Y"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "ball",
											"sid": 446118514480665,
											"parameters": {
												"animation": "\"start\"",
												"from": "beginning"
											}
										}
									],
									"sid": 782169110455251
								}
							]
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-frame-changed",
									"objectClass": "Bit",
									"sid": 891853459361858
								},
								{
									"id": "compare-animation-frame-tag",
									"objectClass": "Bit",
									"sid": 549457948503864,
									"parameters": {
										"comparison": 0,
										"tag": "\"ballStart\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 171186417641541,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 275603364470669,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": "\n\nбросок"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "ball",
									"sid": 456392785775470,
									"parameters": {
										"animation": "\"start\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 605520234037611,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 333246479285904,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"type": "comment",
									"text": "гравитация реактивного плода в 10 раз меньше\nвысота прыжка и скорость так же изменены для плоской дуги полёта.\nДальность увеличена в два раза."
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 727536270451313,
									"disabled": true,
									"parameters": {
										"instance-variable": "ang",
										"value": "round(angle(base.X,base.Y,Self.xx,Self.yy)-360*floor(angle(base.X,base.Y,Self.xx,Self.yy)/360))"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 917808450903204,
									"parameters": {
										"instance-variable": "ang",
										"value": "round(angle(Self.X,Self.Y,Self.xx,Self.yy)-360*floor(angle(Self.X,Self.Y,Self.xx,Self.yy)/360))"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 904910070414192,
									"parameters": {
										"instance-variable": "rangeIso",
										"value": "1/sqrt((sin(Self.ang)/aGame.ballRIso)^2+(cos(Self.ang)/aGame.ballRange)^2)\n"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 129672763232962,
									"parameters": {
										"instance-variable": "rangeIso",
										"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso*2:Self.rangeIso"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 725829362854129,
									"parameters": {
										"instance-variable": "long",
										"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso: clamp(distance(base.X,base.Y,Self.xx,Self.yy),120,Self.rangeIso)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 630063761285838,
									"disabled": true,
									"parameters": {
										"instance-variable": "long",
										"value": "aGame.activeFruit=\"cucu\"?Self.rangeIso: clamp(distance(Self.X,Self.Y,Self.xx,Self.yy),120,Self.rangeIso)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 547947132823044,
									"parameters": {
										"instance-variable": "state",
										"value": "\"on\""
									}
								},
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 597684896923467,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"go\"",
										"property": "position",
										"end-x": "Self.xx",
										"end-y": "Self.yy",
										"time": "0.2+Self.long/aGame.ballSpeed",
										"ease": "easeoutsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 319406504142367,
									"parameters": {
										"instance-variable": "gravity",
										"value": "aGame.activeFruit=\"cucu\"?400:4000"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 955350429985823,
									"parameters": {
										"instance-variable": "speed",
										"value": "aGame.activeFruit=\"cucu\"?-100:-(100+ballShad.long)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 830995758508752,
									"disabled": true,
									"parameters": {
										"instance-variable": "speed",
										"value": "aGame.activeFruit=\"cucu\"?-100:-800"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "ball",
									"sid": 279249245668632,
									"parameters": {
										"animation": "\"ball\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ball",
									"sid": 983723651536488,
									"parameters": {
										"instance-variable": "jump",
										"value": "true"
									}
								},
								{
									"id": "set-enabled",
									"objectClass": "ballShad",
									"sid": 548871453950695,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"state": "enabled"
									}
								},
								{
									"id": "pin",
									"objectClass": "ballShad",
									"sid": 943136244039574,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"target": "base"
									}
								},
								{
									"id": "set-acceleration",
									"objectClass": "ballShad",
									"sid": 439528922429229,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"acceleration": "-50"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 292748256178265,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "aGame.activeFruit=\"cucu\"?100:200"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 125871551910551,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "aGame.activeFruit=\"cucu\"?100:250"
									}
								},
								{
									"id": "set-offset-angle",
									"objectClass": "ballShad",
									"sid": 622226568483633,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"angle": "Self.ang+270"
									}
								},
								{
									"id": "set-radius",
									"objectClass": "ballShad",
									"sid": 402606359801096,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"primary": "0",
										"secondary": "Self.long"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 515839065724173,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"type": "comment",
									"text": "таймер отключающий активность мяча для коллизий, чтобы он покинул тень героя"
								},
								{
									"id": "start-timer",
									"objectClass": "ballShad",
									"sid": 276255186940473,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.1",
										"type": "once",
										"tag": "\"out\""
									}
								},
								{
									"type": "comment",
									"text": "таймер для переключения групп"
								},
								{
									"id": "start-timer",
									"objectClass": "base",
									"sid": 336297754892256,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.3",
										"type": "once",
										"tag": "\"ballOut\""
									}
								}
							],
							"sid": 509783848454723,
							"children": [
								{
									"eventType": "comment",
									"text": "\nдля реактивного плода угол и длина в изометрии (из-за продолговатости)\nвпоследствии надо сделать реактивную струю из частиц"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 582758230963004,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											}
										}
									],
									"actions": [
										{
											"id": "set-angle",
											"objectClass": "ball",
											"sid": 332219236156221,
											"parameters": {
												"angle": "ballShad.ang"
											}
										},
										{
											"id": "set-width",
											"objectClass": "ball",
											"sid": 916404916215945,
											"parameters": {
												"width": "1/sqrt((sin(ballShad.ang)/(Self.Width*aTools.isoCoeff))^2+(cos(ballShad.ang)/Self.Width)^2)"
											}
										},
										{
											"type": "comment",
											"text": "разбрасывание семян в полёте"
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 552230453721620,
											"parameters": {
												"seconds": "0.05",
												"use-timescale": true
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "ballShad",
											"sid": 695869449613514,
											"parameters": {
												"object": "cucuSeed",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 691363444713105,
											"parameters": {
												"seconds": "0.07",
												"use-timescale": true
											}
										},
										{
											"id": "spawn-another-object",
											"objectClass": "ballShad",
											"sid": 581551499978254,
											"parameters": {
												"object": "cucuSeed",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										}
									],
									"sid": 204945443834601
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n после броска\n"
						},
						{
							"eventType": "comment",
							"text": "таймер включающий активность мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "ballShad",
									"sid": 593182290928750,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ballShad",
									"sid": 408627712233402,
									"parameters": {
										"instance-variable": "state",
										"value": "\"run\""
									}
								}
							],
							"sid": 508601845404022,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-group-active",
											"objectClass": "System",
											"sid": 407921117919999,
											"parameters": {
												"group-name": "\"ballOutBit\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-group-active",
											"objectClass": "System",
											"sid": 304930653766737,
											"parameters": {
												"group-name": "\"ballOutBit\"",
												"state": "activated"
											}
										}
									],
									"sid": 401252720955827
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nвозврат мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ballShad",
									"sid": 980702748215223,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"go\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 766093735481005,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 770145515639471,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\"",
										"property": "position",
										"end-x": "base.X",
										"end-y": "base.Y",
										"time": "0.1+Self.long/aGame.ballSpeed",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 415783980168115
						},
						{
							"eventType": "comment",
							"text": "?"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 419082968508914,
									"parameters": {
										"object": "senseDist"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 641513741713287,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 159022473093237,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 400215901572225,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 856360005341426,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 183638797008163,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 909683298257735,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "80"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 822401494504536,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"callFunction": "animPers",
									"sid": 327975566338478,
									"parameters": [
										"Bit.UID",
										"\"ball9\"",
										"0",
										"0",
										"basis.move=12?24:12",
										"0"
									]
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 351681833109769,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 851610956476581,
									"parameters": {
										"instance-variable": "speed",
										"value": "-300"
									}
								}
							],
							"sid": 845037516375294
						},
						{
							"eventType": "comment",
							"text": "? при коллизии с базой проглатывается (может быть полезно при запрыгивании на платформы)"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 457639485166694,
									"parameters": {
										"object": "basis"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 217164511957713,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 365713920520951,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 654836549164563,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 220788352201712,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 201520054318096,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "80"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 782217535142627,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"callFunction": "animPers",
									"sid": 752206088146641,
									"parameters": [
										"Bit.UID",
										"\"ball9\"",
										"0",
										"0",
										"basis.move=12?24:12",
										"0"
									]
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 182148844309619,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								}
							],
							"sid": 773443678373253
						},
						{
							"eventType": "comment",
							"text": " при коллизии с тенью проглатывается"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 450081512020181,
									"parameters": {
										"object": "shad"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 144348635515218,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "shad",
									"sid": 313070215955153,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 407183933218396,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 822192890538658,
									"parameters": {
										"instance-variable": "end"
									},
									"isInverted": true
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 343984006066482,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "help",
									"sid": 349288548224727,
									"disabled": true,
									"parameters": {
										"text": "\"col\""
									}
								},
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 612333429862555,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "clamp(Self.Orbit.Speed,60,80)"
									}
								},
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 482245776701442,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "80"
									}
								},
								{
									"id": "start-timer",
									"objectClass": "basis",
									"sid": 325417593961199,
									"behaviorType": "Timer",
									"parameters": {
										"duration": "0.2",
										"type": "once",
										"tag": "\"getBall\""
									}
								},
								{
									"callFunction": "animPers",
									"sid": 900925292430129,
									"parameters": [
										"Bit.UID",
										"\"ball9\"",
										"0",
										"0",
										"basis.move=12?24:12",
										"0"
									]
								},
								{
									"id": "set-animation",
									"objectClass": "Bit",
									"sid": 607922915837163,
									"disabled": true,
									"parameters": {
										"animation": "\"ball9\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "ballShad",
									"sid": 728270190425057,
									"parameters": {
										"instance-variable": "end",
										"value": "true"
									}
								}
							],
							"sid": 725262398110309
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ballShad",
									"sid": 928233907846373,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\""
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 823018390887185,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [
								{
									"id": "tween-two-properties",
									"objectClass": "ballShad",
									"sid": 645586055225933,
									"disabled": true,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"back\"",
										"property": "position",
										"end-x": "base.X",
										"end-y": "base.Y",
										"time": "0.3+Self.long/1500",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "unpin",
									"objectClass": "ball",
									"sid": 751079133574599,
									"behaviorType": "Pin"
								},
								{
									"id": "destroy",
									"objectClass": "ballShad",
									"sid": 264542542729759
								},
								{
									"id": "set-enabled",
									"objectClass": "ball",
									"sid": 940207752306165,
									"behaviorType": "Tween",
									"parameters": {
										"mode": "enabled"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "ball",
									"sid": 359555864283958,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallX\"",
										"property": "offsetX",
										"end-value": "Bit.X",
										"time": "0.12",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "ball",
									"sid": 687842765016765,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\"",
										"property": "offsetY",
										"end-value": "Bit.ImagePointY(2)",
										"time": "0.12",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 419089422921370
						},
						{
							"eventType": "comment",
							"text": "\nпроцедура проглатывания"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "ballShad",
									"sid": 871162126417180,
									"parameters": {
										"instance-variable": "end"
									}
								}
							],
							"actions": [
								{
									"id": "set-speed",
									"objectClass": "ballShad",
									"sid": 501571688417915,
									"disabled": true,
									"behaviorType": "Orbit",
									"parameters": {
										"speed": "lerp(Self.Orbit.Speed,0,0.3)"
									}
								},
								{
									"type": "comment",
									"text": "смягчает приём шара, но даёт паузу на высоте (гейзер)"
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 725145416536829,
									"parameters": {
										"instance-variable": "speed",
										"value": "lerp(Self.speed,0,0.2)"
									}
								}
							],
							"sid": 613230041385201,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 213459249351670,
											"parameters": {
												"first-value": "ballShad.Orbit.Speed",
												"comparison": 2,
												"second-value": "15"
											}
										}
									],
									"actions": [],
									"sid": 372054054011282,
									"children": [
										{
											"eventType": "comment",
											"text": "\nесли Нордик на высоте от тени, в прыжке, в полёте, над гейзером"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "ball",
													"sid": 485661777484051,
													"parameters": {
														"unique-id": "ballShad.ballUID"
													}
												},
												{
													"id": "is-pinned",
													"objectClass": "ball",
													"sid": 410126363283468,
													"behaviorType": "Pin"
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "ball",
													"sid": 987819932232825,
													"parameters": {
														"object": "Bit"
													},
													"isInverted": true
												}
											],
											"actions": [],
											"sid": 577350523668631,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 481233413036905
														}
													],
													"actions": [
														{
															"id": "unpin",
															"objectClass": "ball",
															"sid": 876218670593017,
															"behaviorType": "Pin"
														},
														{
															"id": "destroy",
															"objectClass": "ballShad",
															"sid": 914936847208981
														},
														{
															"id": "set-enabled",
															"objectClass": "ball",
															"sid": 602075842236734,
															"behaviorType": "Tween",
															"parameters": {
																"mode": "enabled"
															}
														},
														{
															"id": "tween-one-property",
															"objectClass": "ball",
															"sid": 592973486606842,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"getBallX\"",
																"property": "offsetX",
																"end-value": "Bit.X",
																"time": "0.12",
																"ease": "easeinsine",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														},
														{
															"id": "tween-one-property",
															"objectClass": "ball",
															"sid": 621107890932722,
															"behaviorType": "Tween",
															"parameters": {
																"tags": "\"getBallY\"",
																"property": "offsetY",
																"end-value": "Bit.ImagePointY(2)",
																"time": "0.12",
																"ease": "easeinsine",
																"destroy-on-complete": "no",
																"loop": "no",
																"ping-pong": "no",
																"repeat-count": "1"
															}
														}
													],
													"sid": 843419930117384
												}
											]
										},
										{
											"eventType": "comment",
											"text": "если Нордик на земле"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 207555562065997
												},
												{
													"id": "pick-by-unique-id",
													"objectClass": "ball",
													"sid": 566883746704867,
													"parameters": {
														"unique-id": "ballShad.ballUID"
													}
												},
												{
													"id": "is-pinned",
													"objectClass": "ball",
													"sid": 995248276129657,
													"behaviorType": "Pin"
												},
												{
													"id": "is-overlapping-another-object",
													"objectClass": "ball",
													"sid": 365267586885312,
													"parameters": {
														"object": "Bit"
													}
												}
											],
											"actions": [
												{
													"id": "destroy",
													"objectClass": "ballShad",
													"sid": 374065011239439
												}
											],
											"sid": 821847922630933
										},
										{
											"eventType": "comment",
											"text": "отключение группы ball и таймер на отключение группы ballOut"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 397778999034352,
													"parameters": {
														"instance-variable": "mod",
														"comparison": 1,
														"value": "\"ballTarget\""
													}
												},
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 715694064500227,
													"parameters": {
														"first-value": "ballShad.Count",
														"comparison": 3,
														"second-value": "1"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 786442723296494,
													"parameters": {
														"instance-variable": "name",
														"comparison": 0,
														"value": "\"Bit\""
													}
												}
											],
											"actions": [
												{
													"id": "set-group-active",
													"objectClass": "System",
													"sid": 902719128490688,
													"parameters": {
														"group-name": "\"ballBit\"",
														"state": "deactivated"
													}
												},
												{
													"id": "start-timer",
													"objectClass": "basis",
													"sid": 103414982709298,
													"behaviorType": "Timer",
													"parameters": {
														"duration": "5",
														"type": "once",
														"tag": "\"noBall\""
													}
												}
											],
											"sid": 121977082500141
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\nотскакивание шара от собственной тени на полу\nдля плодов - переход к реакциям"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-y",
									"objectClass": "ball",
									"sid": 978801780320554,
									"parameters": {
										"comparison": 4,
										"y-co-ordinate": "ballShad.Y"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 656367035973282,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "is-timer-running",
									"objectClass": "ballShad",
									"sid": 487470525035071,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"out\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"callFunction": "ballHit",
									"sid": 805954277599400,
									"disabled": true,
									"parameters": [
										"\"shad\""
									]
								},
								{
									"callFunction": "ballHitByBit",
									"sid": 270070196602091,
									"parameters": [
										"\"shad\""
									]
								}
							],
							"sid": 884490799098655
						},
						{
							"eventType": "comment",
							"text": "\n\n\n мяч или плоды после удара обо что-то\n"
						},
						{
							"functionName": "ballHitByBit",
							"functionDescription": "",
							"functionCategory": "",
							"functionReturnType": "none",
							"functionCopyPicked": true,
							"functionIsAsync": false,
							"functionParameters": [
								{
									"name": "hitObject",
									"type": "string",
									"initialValue": "shad",
									"comment": "",
									"sid": 220923313802739
								}
							],
							"eventType": "function-block",
							"conditions": [],
							"actions": [],
							"sid": 271348753742460,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 422628512093837,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "set-y",
											"objectClass": "ball",
											"sid": 663435906044620,
											"parameters": {
												"y": "ballShad.Y-4"
											}
										}
									],
									"sid": 650972516963071
								},
								{
									"eventType": "comment",
									"text": " взрывной плод"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 379063274842215,
											"parameters": {
												"animation": "\"cBoom\""
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "ball",
											"sid": 325525832799493,
											"parameters": {
												"object": "cBoom",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-position-to-another-object",
											"objectClass": "cBoom",
											"sid": 981015263259122,
											"disabled": true,
											"parameters": {
												"object": "ball",
												"image-point-optional": "0"
											}
										},
										{
											"id": "set-animation",
											"objectClass": "cBoom",
											"sid": 719474047285679,
											"parameters": {
												"animation": "\"boom\"",
												"from": "beginning"
											}
										},
										{
											"id": "destroy",
											"objectClass": "ballShad",
											"sid": 167466831810494
										},
										{
											"id": "destroy",
											"objectClass": "ball",
											"sid": 446269125139255
										}
									],
									"sid": 774375054134629,
									"children": [
										{
											"eventType": "comment",
											"text": "разбрасывание семян"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "repeat",
													"objectClass": "System",
													"sid": 888063205299389,
													"parameters": {
														"count": "choose(1,2,3)"
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "cBoom",
													"sid": 272381912345914,
													"parameters": {
														"object": "cBoomSeed",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-visible",
													"objectClass": "cBoomSeed",
													"sid": 974069748182005,
													"parameters": {
														"visibility": "invisible"
													}
												},
												{
													"id": "set-position",
													"objectClass": "cBoomSeed",
													"sid": 508072543516210,
													"parameters": {
														"x": "random(cBoom.X+100,cBoom.X-100)",
														"y": "random(cBoom.Y+40,cBoom.Y-40)"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 123479787608752,
													"parameters": {
														"seconds": "0.1",
														"use-timescale": true
													}
												},
												{
													"id": "set-animation",
													"objectClass": "cBoomSeed",
													"sid": 731045738415724,
													"disabled": true,
													"parameters": {
														"animation": "\"seed\"",
														"from": "current-frame"
													}
												},
												{
													"id": "set-animation-frame",
													"objectClass": "cBoomSeed",
													"sid": 303070839449882,
													"parameters": {
														"frame-number": "choose(0,1,2,3,4,5,6,7)"
													}
												},
												{
													"id": "set-visible",
													"objectClass": "cBoomSeed",
													"sid": 663912803534218,
													"parameters": {
														"visibility": "visible"
													}
												},
												{
													"id": "wait",
													"objectClass": "System",
													"sid": 154091571232653,
													"parameters": {
														"seconds": "5",
														"use-timescale": true
													}
												},
												{
													"id": "destroy",
													"objectClass": "cBoomSeed",
													"sid": 771298275309283
												}
											],
											"sid": 290218129370297
										}
									]
								},
								{
									"eventType": "comment",
									"text": "реактивный"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 778145054558075,
											"parameters": {
												"animation": "\"cucu\""
											}
										}
									],
									"actions": [
										{
											"id": "spawn-another-object",
											"objectClass": "ball",
											"sid": 282977275521757,
											"parameters": {
												"object": "bushInto",
												"layer": "\"iso\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-animation",
											"objectClass": "bushInto",
											"sid": 697459779182867,
											"parameters": {
												"animation": "choose(\"sm\",\"sd\",\"sl\")",
												"from": "beginning"
											}
										},
										{
											"id": "destroy",
											"objectClass": "ballShad",
											"sid": 446482881325087
										},
										{
											"id": "destroy",
											"objectClass": "ball",
											"sid": 175975615130102
										}
									],
									"sid": 773685887282606,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Bit",
													"sid": 619197987731688
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "bushInto",
													"sid": 331512645225129,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 331595265493697
										}
									]
								},
								{
									"eventType": "comment",
									"text": "запутывающий"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 146997599971651,
											"parameters": {
												"animation": "\"creep\""
											}
										}
									],
									"actions": [],
									"sid": 846925270607314,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 416509017101039,
													"parameters": {
														"variable": "hitObject",
														"comparison": 0,
														"value": "\"zoneStop\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 136638837390334,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 622712243324955,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"id": "destroy",
													"objectClass": "ballShad",
													"sid": 631940485990266
												},
												{
													"id": "destroy",
													"objectClass": "ball",
													"sid": 528339372470788
												}
											],
											"sid": 747977947006235
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 189238233816861,
													"parameters": {
														"variable": "hitObject",
														"comparison": 1,
														"value": "\"zoneStop\""
													}
												}
											],
											"actions": [
												{
													"id": "spawn-another-object",
													"objectClass": "ball",
													"sid": 451916112329148,
													"parameters": {
														"object": "bushInto",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "bushInto",
													"sid": 538116088718985,
													"parameters": {
														"animation": "choose(\"sm\",\"sd\",\"sl\")",
														"from": "beginning"
													}
												},
												{
													"id": "spawn-another-object",
													"objectClass": "ballShad",
													"sid": 793621376589798,
													"parameters": {
														"object": "creepTrap",
														"layer": "\"iso\"",
														"image-point": "0",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "creepTrap",
													"sid": 563751904223108,
													"parameters": {
														"animation": "\"trap\"",
														"from": "beginning"
													}
												},
												{
													"id": "destroy",
													"objectClass": "ballShad",
													"sid": 950543771739955
												},
												{
													"id": "destroy",
													"objectClass": "ball",
													"sid": 788360939563264
												}
											],
											"sid": 244721555401276
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-mirrored",
													"objectClass": "Bit",
													"sid": 396375129636962
												}
											],
											"actions": [
												{
													"id": "set-mirrored",
													"objectClass": "bushInto",
													"sid": 384528470590499,
													"parameters": {
														"state": "mirrored"
													}
												}
											],
											"sid": 819029233421551
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\nкоэфф угасание скорости при отскоке"
						},
						{
							"eventType": "comment",
							"text": "!!! сделать угасание в зависимости от поверхностей"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 323770617055215,
									"parameters": {
										"object": "ballShad"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 497795053806046,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 931769060318925,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"ball\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 392580333805433,
									"parameters": {
										"instance-variable": "state",
										"comparison": 0,
										"value": "\"run\""
									}
								}
							],
							"actions": [],
							"sid": 580333037365292,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "ball",
											"sid": 729060525281667,
											"parameters": {
												"animation": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 941042934503857,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 272284238354438,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.8"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 735658445672563,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.7"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 788898827646791,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.63"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 212658947983344,
											"disabled": true,
											"parameters": {
												"instance-variable": "speed",
												"value": "-Self.speed*0.5"
											}
										}
									],
									"sid": 981182140907884
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n физика прыжков шара, размер тени\n"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each",
									"objectClass": "System",
									"sid": 974832547676327,
									"parameters": {
										"object": "ball"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 492099515765365,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 933078401014086,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"Bit\""
									}
								}
							],
							"actions": [],
							"sid": 206736694383577,
							"children": [
								{
									"eventType": "comment",
									"text": "для всех кроме реактивного"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 101179326402448,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											},
											"isInverted": true
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 781900919883174,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 742235660751506,
											"parameters": {
												"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 556660158946533,
											"parameters": {
												"opacity": "Self.opas-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 931104716067203,
											"disabled": true,
											"parameters": {
												"width": "Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 862143172413314,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 992562946603983,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 674897467562764,
													"parameters": {
														"instance-variable": "jump"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 519332905487174,
													"parameters": {
														"instance-variable": "shadDelta",
														"value": "ballShad.Y-Self.startY"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 113376957926821,
													"parameters": {
														"instance-variable": "jumpHi",
														"value": "self.Y+(self.speed*basis.zScale*dt-0.5*Self.gravity*dt^2)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 981111564219246,
													"parameters": {
														"y": "Self.jumpHi+Self.shadDelta"
													}
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 815490846509444,
													"parameters": {
														"instance-variable": "speed",
														"value": "Self.gravity*dt"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 142552927498426,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												},
												{
													"id": "set-size",
													"objectClass": "ballShad",
													"sid": 739326597845803,
													"disabled": true,
													"parameters": {
														"width": "Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
														"height": "(Self.w*basis.zScale+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
													}
												}
											],
											"sid": 348525420570532
										}
									]
								},
								{
									"eventType": "comment",
									"text": "для реактивного, сильно уменьшенная гравитация, плоская дуга полёта"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "aGame",
											"sid": 973542375554373,
											"parameters": {
												"instance-variable": "activeFruit",
												"comparison": 0,
												"value": "\"cucu\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 611926337643188,
											"parameters": {
												"instance-variable": "ballUID",
												"comparison": 0,
												"value": "ball.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-size",
											"objectClass": "ballShad",
											"sid": 163359668003876,
											"parameters": {
												"width": "Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff",
												"height": "(Self.w+distance(0,Self.Y,0,ball.Y)*aBook.heroScaleCoeff)*Self.isoCoeff"
											}
										},
										{
											"id": "set-opacity",
											"objectClass": "ballShad",
											"sid": 575988405432534,
											"parameters": {
												"opacity": "Self.opas-distance(0,Self.Y,0,ball.Y)/5"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "ball",
											"sid": 217334096137503,
											"parameters": {
												"where": "in-front",
												"object": "ballShad"
											}
										}
									],
									"sid": 767240218167896,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "ball",
													"sid": 264313168629310,
													"parameters": {
														"instance-variable": "jump"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 947093157545443,
													"parameters": {
														"instance-variable": "shadDelta",
														"value": "ballShad.Y-Self.startY"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 762794564929649,
													"parameters": {
														"instance-variable": "jumpHi",
														"value": "self.Y+(self.speed*basis.zScale*dt-0.5*Self.gravity*dt^2)"
													}
												},
												{
													"id": "set-y",
													"objectClass": "ball",
													"sid": 266351617542821,
													"parameters": {
														"y": "Self.jumpHi+Self.shadDelta"
													}
												},
												{
													"id": "add-to-instvar",
													"objectClass": "ball",
													"sid": 828344353597215,
													"parameters": {
														"instance-variable": "speed",
														"value": "(Self.gravity)*dt"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "ball",
													"sid": 272413628507038,
													"parameters": {
														"instance-variable": "startY",
														"value": "ballShad.Y"
													}
												}
											],
											"sid": 771780487728290
										}
									]
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\n\n\n столкновение с шаром в момент приближения его к земле - двойная проверка коллизии, тени и шара"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 379126834236590,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 215957016502170,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 709353779318400,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "point",
											"sid": 433569890085969,
											"parameters": {
												"instance-variable": "ballTarget"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 738282079927640,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 451168852299000,
											"parameters": {
												"instance-variable": "hitUID",
												"comparison": 1,
												"value": "point.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 953586063515379,
											"parameters": {
												"instance-variable": "hitUID",
												"value": "point.UID"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 393956389494837,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"ball\""
											}
										}
									],
									"sid": 365694018418628
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 895333164545099,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 755387849920577,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [],
							"sid": 836189255954559,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "point",
											"sid": 123679772306722,
											"parameters": {
												"instance-variable": "ballTarget"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ballShad",
											"sid": 213310820699257,
											"parameters": {
												"object": "point"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ball",
											"sid": 335246430957837,
											"parameters": {
												"instance-variable": "hitUID",
												"comparison": 1,
												"value": "point.UID"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "ball",
											"sid": 586675169191407,
											"parameters": {
												"instance-variable": "hitUID",
												"value": "point.UID"
											}
										},
										{
											"id": "callselffunction0",
											"objectClass": "point",
											"sid": 832043483412382,
											"behaviorType": "sfPoint",
											"parameters": {
												"function_name:0": "\"ball\""
											}
										}
									],
									"sid": 103687514890194
								}
							]
						},
						{
							"eventType": "comment",
							"text": "для реактивного плода дополнительно проверка одиночных коллизий"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 150634703177633,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "ball",
									"sid": 940212442376088,
									"parameters": {
										"animation": "\"cucu\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 127437279529609,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 975765079980267,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								}
							],
							"sid": 210232444783557
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 223189344849522,
									"parameters": {
										"object": "point"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 566345713839888,
									"parameters": {
										"instance-variable": "fruit",
										"comparison": 0,
										"value": "\"cucu\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ball",
									"sid": 380060856394453,
									"parameters": {
										"instance-variable": "hitUID",
										"comparison": 1,
										"value": "point.UID"
									}
								}
							],
							"actions": [
								{
									"id": "callselffunction0",
									"objectClass": "point",
									"sid": 664985486758026,
									"behaviorType": "sfPoint",
									"parameters": {
										"function_name:0": "\"ball\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "ball",
									"sid": 663438904969675,
									"parameters": {
										"instance-variable": "hitUID",
										"value": "point.UID"
									}
								}
							],
							"sid": 185705651287923,
							"disabled": true
						},
						{
							"eventType": "comment",
							"text": ""
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ball",
									"sid": 731081419846047,
									"parameters": {
										"object": "ser"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 372635175710853,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [],
							"sid": 729565134969864,
							"children": [
								{
									"eventType": "comment",
									"text": "шар замораживает всех, кого касается на линии броска"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ballShad",
											"sid": 861296614641814,
											"parameters": {
												"object": "ser"
											}
										},
										{
											"id": "is-visible",
											"objectClass": "ser",
											"sid": 681213865093604
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "ser",
											"sid": 391955199636332,
											"parameters": {
												"instance-variable": "dartFormU"
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ser",
											"sid": 276677933540668,
											"parameters": {
												"animation": "\"piton\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "ser",
											"sid": 857950050105905,
											"parameters": {
												"animation": "\"pitonEnd\""
											},
											"isInverted": true
										},
										{
											"id": "compare-animation-frame-tag",
											"objectClass": "ser",
											"sid": 280518136745137,
											"parameters": {
												"comparison": 1,
												"tag": "\"under\""
											}
										},
										{
											"id": "compare-animation-frame-tag",
											"objectClass": "ser",
											"sid": 946314928673373,
											"parameters": {
												"comparison": 1,
												"tag": "\"start\""
											}
										}
									],
									"actions": [],
									"sid": 209913217969519,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 765636294080500,
													"parameters": {
														"animation": "\"cocoon\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 336220779099239,
													"parameters": {
														"animation": "\"cocoonLoop\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 145191758378664,
													"parameters": {
														"animation": "\"mGun\""
													},
													"isInverted": true
												},
												{
													"id": "is-animation-playing",
													"objectClass": "ser",
													"sid": 979681871802704,
													"parameters": {
														"animation": "\"drop\""
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "instance-signal",
													"objectClass": "ser",
													"sid": 613172586178301,
													"parameters": {
														"tag": "\"frosen\""
													}
												},
												{
													"id": "set-animation",
													"objectClass": "ball",
													"sid": 265253641343562,
													"parameters": {
														"animation": "\"crash\"",
														"from": "beginning"
													}
												}
											],
											"sid": 831755608210448,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "stop-all-tweens",
															"objectClass": "ballShad",
															"sid": 623626914719822,
															"behaviorType": "Tween"
														},
														{
															"id": "stop-all-timers",
															"objectClass": "ballShad",
															"sid": 150651527723764,
															"disabled": true,
															"behaviorType": "Timer"
														}
													],
													"sid": 297082991450045
												}
											]
										},
										{
											"eventType": "comment",
											"text": "в аторежиме разбивается о выбранную цель"
										},
										{
											"eventType": "comment",
											"text": "в аторежиме разбивается о выбранную цель, в ручном - о первую цель"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "snowball",
													"sid": 564136748568214,
													"disabled": true,
													"parameters": {
														"instance-variable": "targUID",
														"comparison": 0,
														"value": "ser.UID"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "snowball",
													"sid": 641963049037048,
													"disabled": true,
													"parameters": {
														"instance-variable": "targUID",
														"comparison": 0,
														"value": "-1"
													}
												}
											],
											"actions": [],
											"sid": 462442554310737,
											"isOrBlock": true
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "ball",
									"sid": 617299633212777,
									"parameters": {
										"animation": "\"crash\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "ballShad",
									"sid": 308876855000034,
									"parameters": {
										"instance-variable": "ballUID",
										"comparison": 0,
										"value": "ball.UID"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "ball",
									"sid": 314057482991810
								},
								{
									"id": "destroy",
									"objectClass": "ballShad",
									"sid": 869586226440367
								}
							],
							"sid": 454077732423078
						}
					],
					"sid": 398126200249659
				},
				{
					"eventType": "comment",
					"text": "\n\n\n   анимации и реакции связанные с шаром\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "ballOutBit",
					"description": "",
					"isActiveOnStart": false,
					"children": [
						{
							"eventType": "comment",
							"text": "\nотскок от запретных зон"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "ballShad",
									"sid": 857218843741762,
									"parameters": {
										"object": "zoneStop"
									}
								},
								{
									"id": "pick-by-unique-id",
									"objectClass": "ball",
									"sid": 952950484088965,
									"parameters": {
										"unique-id": "ballShad.ballUID"
									}
								}
							],
							"actions": [],
							"sid": 193710365400760,
							"children": [
								{
									"eventType": "comment",
									"text": "мяч отскакивает"
								},
								{
									"eventType": "variable",
									"name": "progress",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 989503642238393
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-playing",
											"objectClass": "ballShad",
											"sid": 903212891359877,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "ballShad",
											"sid": 451398293090802,
											"parameters": {
												"instance-variable": "fruit",
												"comparison": 0,
												"value": "\"ball\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "base",
											"sid": 764774204107685,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"id": "set-speed",
											"objectClass": "ballShad",
											"sid": 473228365332424,
											"disabled": true,
											"behaviorType": "Orbit",
											"parameters": {
												"speed": "-Self.Orbit.Speed"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 606517105894672,
											"parameters": {
												"variable": "progress",
												"value": "ballShad.Tween.Progress(\"go\")"
											}
										},
										{
											"id": "stop-tweens",
											"objectClass": "ballShad",
											"sid": 786665350423537,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"go\""
											}
										},
										{
											"id": "tween-two-properties",
											"objectClass": "ballShad",
											"sid": 803092635334773,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"back\"",
												"property": "position",
												"end-x": "base.X",
												"end-y": "base.Y",
												"time": "0.1+Self.long/aGame.ballSpeed*progress",
												"ease": "easeinsine",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 391452801416325
								},
								{
									"eventType": "comment",
									"text": "плоды исчезают или реагируют"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 312752916150751
										}
									],
									"actions": [
										{
											"callFunction": "ballHit",
											"sid": 413057485301982,
											"disabled": true,
											"parameters": [
												"\"zoneStop\""
											]
										},
										{
											"callFunction": "ballHitByBit",
											"sid": 759369778933435,
											"parameters": [
												"\"zoneStop\""
											]
										}
									],
									"sid": 239153936636736
								}
							]
						},
						{
							"eventType": "comment",
							"text": "\nпроглатывание вернувшегося мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-tweens-finished",
									"objectClass": "ball",
									"sid": 702823826255427,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"getBallY\""
									}
								},
								{
									"id": "is-pinned",
									"objectClass": "ball",
									"sid": 234761167898259,
									"behaviorType": "Pin",
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aGame",
									"sid": 978964312538361,
									"parameters": {
										"instance-variable": "blackout"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 492993282276454,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 967671806122023,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 129367564796778,
											"parameters": {
												"object": "Bit"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 655714576654040,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "\"Bit\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 554596377569768,
											"parameters": [
												"Bit.UID",
												"\"ball9\"",
												"0",
												"0",
												"basis.move=12?24:12",
												"0"
											]
										},
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 436220434927625,
											"disabled": true,
											"parameters": [
												"\"ball9\"",
												"2",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"basis.move=12?24:12",
												"0",
												true,
												"\"zero\""
											]
										},
										{
											"id": "destroy",
											"objectClass": "ball",
											"sid": 456601524368337
										}
									],
									"sid": 635412093980989
								},
								{
									"eventType": "comment",
									"text": "если мяч пролетел мимо направляем прямо к Нордику"
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 150227879565159
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "ball",
											"sid": 424300812119077,
											"parameters": {
												"object": "Bit"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 771239107315600,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallX\"",
												"property": "offsetX",
												"end-value": "Bit.X",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										},
										{
											"id": "tween-one-property",
											"objectClass": "ball",
											"sid": 895497008735093,
											"behaviorType": "Tween",
											"parameters": {
												"tags": "\"getBallY\"",
												"property": "offsetY",
												"end-value": "Bit.ImagePointY(2)",
												"time": "0.03",
												"ease": "default",
												"destroy-on-complete": "no",
												"loop": "no",
												"ping-pong": "no",
												"repeat-count": "1"
											}
										}
									],
									"sid": 631097144832017
								}
							]
						},
						{
							"eventType": "comment",
							"text": "завершение анимации бросания мяча"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 744560861710953,
									"parameters": {
										"animation": "\"ball0\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 146104812731883,
									"parameters": {
										"animation": "\"ball1\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 243964175643626,
									"parameters": {
										"animation": "\"ball2\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 684609687110670,
									"parameters": {
										"animation": "\"ball6\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 165584487056393,
									"parameters": {
										"animation": "\"ball7\""
									}
								},
								{
									"id": "on-animation-finished",
									"objectClass": "person",
									"sid": 956804808970151,
									"parameters": {
										"animation": "\"ball9\""
									}
								},
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 881751504809085,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"getBall\""
									}
								}
							],
							"actions": [],
							"sid": 973182623487538,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 953158240020733,
											"parameters": {
												"instance-variable": "name",
												"comparison": 0,
												"value": "person.name"
											}
										}
									],
									"actions": [],
									"sid": 619588224370970,
									"children": [
										{
											"eventType": "comment",
											"text": "возврат к анимации движения"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "is-boolean-instance-variable-set",
													"objectClass": "basis",
													"sid": 516902225042543,
													"parameters": {
														"instance-variable": "move"
													}
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 969695745042195,
													"parameters": [
														"person.UID",
														"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"0",
														"person.AnimationFrame",
														"555",
														"0"
													]
												}
											],
											"sid": 683888743734882
										},
										{
											"eventType": "comment",
											"text": "переход к анимации стояния"
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "else",
													"objectClass": "System",
													"sid": 342942836458620
												}
											],
											"actions": [
												{
													"callFunction": "animPers",
													"sid": 783719401109041,
													"parameters": [
														"person.UID",
														"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
														"0",
														"0",
														"777",
														"0"
													]
												}
											],
											"sid": 212391486387996
										}
									]
								}
							],
							"isOrBlock": true
						},
						{
							"eventType": "comment",
							"text": "отключение группы"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-timer",
									"objectClass": "basis",
									"sid": 458745452856114,
									"behaviorType": "Timer",
									"parameters": {
										"tag": "\"noBall\""
									}
								}
							],
							"actions": [
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 649946818561500,
									"parameters": {
										"group-name": "\"ballOutBit\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 931751894330546
						}
					],
					"sid": 521573656900537
				},
				{
					"eventType": "comment",
					"text": " \n\n\n   стратегии Бита\n"
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "strategy",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "variable",
							"name": "jump",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 974052915506050
						},
						{
							"eventType": "variable",
							"name": "hide",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 962358345328532
						},
						{
							"eventType": "variable",
							"name": "gun",
							"type": "number",
							"initialValue": "0",
							"comment": "",
							"isStatic": true,
							"isConstant": false,
							"sid": 600550153918270
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 924708298316782,
									"parameters": {
										"interval-seconds": "0.33"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "base",
									"sid": 424921319995216,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 257439378000697,
									"parameters": {
										"instance-variable": "respawn"
									},
									"isInverted": true
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "aBit",
									"sid": 128392508310145,
									"parameters": {
										"instance-variable": "intersept"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 819781916508156,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aMico",
											"sid": 491117792294858,
											"parameters": {
												"instance-variable": "BitHide"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 239827219406401,
											"parameters": {
												"instance-variable": "autoVega"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 104313759974217,
											"parameters": {
												"variable": "hide",
												"value": "1"
											}
										}
									],
									"sid": 561636959705153,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "aGame",
											"sid": 969783567473025,
											"parameters": {
												"instance-variable": "autoGun"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 646201071321885,
											"parameters": {
												"variable": "gun",
												"value": "1"
											}
										}
									],
									"sid": 105975536079152
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 643708726060281,
											"parameters": {
												"instance-variable": "jump"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-eventvar",
											"objectClass": "System",
											"sid": 784357785585771,
											"parameters": {
												"variable": "jump",
												"value": "1"
											}
										}
									],
									"sid": 774349530983984
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 308805810332211
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "base",
											"sid": 993836705778661,
											"parameters": {
												"instance-variable": "move"
											}
										}
									],
									"actions": [
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 925980001817617,
											"parameters": {
												"variable": "jump",
												"value": "clamp(jump-1,0,10)"
											}
										}
									],
									"sid": 388215382406117
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 604091467695408,
									"parameters": {
										"interval-seconds": "7"
									}
								}
							],
							"actions": [],
							"sid": 892152325933110,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 844297300872292,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "hide"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 910493754885772,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "gun"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 263539790877482,
											"parameters": {
												"variable": "jump",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 995489363083856,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"jump\""
											}
										}
									],
									"sid": 808347848761539
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 300284402914016
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 686741211818451,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "jump"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 583532868801930,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "gun"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 151012471544163,
											"parameters": {
												"variable": "hide",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 832573930303245,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"hide\""
											}
										}
									],
									"sid": 387910862254764
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 239600853288115
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 162415441363177,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "jump"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 851713002152310,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "hide"
											}
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 543816546065138,
											"parameters": {
												"variable": "gun",
												"comparison": 4,
												"value": "3"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 659522071277999,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"gun\""
											}
										}
									],
									"sid": 507722666641499
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 804589673582173
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "aBit",
											"sid": 669321913702936,
											"parameters": {
												"instance-variable": "strategy",
												"value": "\"zero\""
											}
										}
									],
									"sid": 497184743141151
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 657090854352556,
											"parameters": {
												"variable": "gun"
											}
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 130753743956752,
											"parameters": {
												"variable": "gun"
											}
										},
										{
											"id": "reset-eventvar",
											"objectClass": "System",
											"sid": 832886996818690,
											"parameters": {
												"variable": "gun"
											}
										}
									],
									"sid": 762252368627636
								}
							]
						}
					],
					"sid": 823954859734686
				},
				{
					"eventType": "comment",
					"text": "\n\n\nвылетающие из кустов листья от различных реакций - по завершении анимации удаляем"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "bushInto",
							"sid": 226337877889136
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "bushInto",
							"sid": 199465946208846
						}
					],
					"sid": 157500249592639
				}
			],
			"sid": 182490014787728
		}
	],
	"sid": 988122769842385
}