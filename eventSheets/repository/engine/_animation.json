{
	"name": "_animation",
	"events": [
		{
			"eventType": "comment",
			"text": "777 - скорость анимации по умолчанию, 999 - сохранение текущей скорости анимации, 555 - скорость анимации по умолчанию умноженная на импульс скорости (1 по умолчанию), 888 - скорость по умолчанию с минусом"
		},
		{
			"eventType": "comment",
			"text": "анимация героев"
		},
		{
			"aceType": "action",
			"aceName": "anim",
			"objectClass": "aaa",
			"functionDescription": "",
			"functionCategory": "_TOP",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": true,
			"functionParameters": [
				{
					"name": "anim",
					"type": "string",
					"initialValue": "blink2",
					"comment": "",
					"sid": 924215712437170
				},
				{
					"name": "prior",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 305268532075937
				},
				{
					"name": "jump",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 171026755393464
				},
				{
					"name": "jumpAnim",
					"type": "string",
					"initialValue": "zero",
					"comment": "",
					"sid": 317137903413958
				},
				{
					"name": "wow",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 420799999453337
				},
				{
					"name": "idle",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 819786825367789
				},
				{
					"name": "pers",
					"type": "string",
					"initialValue": "Bit",
					"comment": "",
					"sid": 363469237471411
				},
				{
					"name": "speed",
					"type": "number",
					"initialValue": "12",
					"comment": "",
					"sid": 330835109760744
				},
				{
					"name": "frame",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 187741027777299
				},
				{
					"name": "force",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 919963285591555
				},
				{
					"name": "tag",
					"type": "string",
					"initialValue": "zero",
					"comment": "",
					"sid": 253185330236430
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 270959314175585,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 440511707736818,
							"parameters": {
								"variable": "wow"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 282328580002681,
							"parameters": {
								"variable": "anim",
								"value": "choose(\"wow\",\"oh\")"
							}
						}
					],
					"sid": 816543212558817
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 439299485190057,
							"parameters": {
								"variable": "idle"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 239379341965570,
							"parameters": {
								"variable": "anim",
								"value": "choose(\"look\",\"look2\")"
							}
						}
					],
					"sid": 434431369546878
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 872417654768277,
							"parameters": {
								"variable": "force"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 828189065413909,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "pers"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 258914924429752,
							"parameters": {
								"instance-variable": "animPriority",
								"comparison": 2,
								"value": "5"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 990362390222274,
							"parameters": {
								"instance-variable": "animPriority",
								"value": "0"
							}
						}
					],
					"sid": 266868435095154
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 482945624653906,
							"parameters": {
								"variable": "jump",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 395016774163771,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "pers"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 415745988611138,
							"parameters": {
								"instance-variable": "animPriority",
								"comparison": 3,
								"value": "prior"
							}
						}
					],
					"actions": [
						{
							"callFunction": "jump",
							"sid": 323047338804702,
							"parameters": [
								"pers",
								"-jump",
								"4000",
								"0",
								"\"map\"",
								"1",
								"0",
								false,
								true,
								"jumpAnim",
								"0"
							]
						},
						{
							"id": "wait-for-signal",
							"objectClass": "System",
							"sid": 261057015368345,
							"parameters": {
								"tag": "pers&\"Land\""
							}
						},
						{
							"callFunction": "animPers",
							"sid": 533539056506690,
							"parameters": [
								"person.UID",
								"anim",
								"prior",
								"frame",
								"speed=0?person.AnimationSpeed:speed",
								"0"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 520972545811533,
							"parameters": {
								"instance-variable": "animTag",
								"value": "tag"
							}
						},
						{
							"id": "wait-for-signal",
							"objectClass": "System",
							"sid": 996693475333652,
							"parameters": {
								"tag": "anim&pers&\"End\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 760185979792540,
							"parameters": {
								"instance-variable": "animPriority",
								"value": "0"
							}
						}
					],
					"sid": 923799328178907
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 694676736428490
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 999845363791405,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "pers"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 363506487245416,
							"parameters": {
								"instance-variable": "animPriority",
								"comparison": 3,
								"value": "prior"
							}
						}
					],
					"actions": [
						{
							"callFunction": "animPers",
							"sid": 377153896951133,
							"parameters": [
								"person.UID",
								"anim",
								"prior",
								"frame",
								"speed=0?person.AnimationSpeed:speed",
								"0"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 580452342706357,
							"parameters": {
								"instance-variable": "animTag",
								"value": "tag"
							}
						},
						{
							"id": "wait-for-signal",
							"objectClass": "System",
							"sid": 615818682515726,
							"parameters": {
								"tag": "anim&pers&\"End\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 692414952207719,
							"parameters": {
								"instance-variable": "animPriority",
								"value": "0"
							}
						}
					],
					"sid": 548605812063062
				},
				{
					"eventType": "comment",
					"text": "?"
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 169057714573962,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.Angle+360+22.5) %360)/45)"
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 965230344713342,
							"parameters": {
								"state": "not-mirrored"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 648302534520968,
							"parameters": {
								"instance-variable": "dirOld",
								"value": "Self.direct"
							}
						}
					],
					"sid": 130697253334282,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-between-values",
							"objectClass": "System",
							"sid": 714540538690911,
							"parameters": {
								"value": "basis.direct",
								"lower-bound": "3",
								"upper-bound": "5"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 850813844158541,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 794294283786299,
					"disabled": true
				}
			]
		},
		{
			"eventType": "comment",
			"text": "\n\n"
		},
		{
			"eventType": "comment",
			"text": "анимация персонажей"
		},
		{
			"functionName": "animPers",
			"functionDescription": "",
			"functionCategory": "_TOP",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "uid",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 398481829607478
				},
				{
					"name": "anim",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"sid": 181063557069253
				},
				{
					"name": "priority",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 981093855627615
				},
				{
					"name": "startFrame",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 109418606294716
				},
				{
					"name": "speed",
					"type": "number",
					"initialValue": "777",
					"comment": "",
					"sid": 305966198587657
				},
				{
					"name": "timer",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 308624191566678
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "pick-by-unique-id",
					"objectClass": "person",
					"sid": 423333416569504,
					"parameters": {
						"unique-id": "uid"
					}
				},
				{
					"id": "compare-two-values",
					"objectClass": "System",
					"sid": 821446600886441,
					"disabled": true,
					"parameters": {
						"first-value": "person.animPriority",
						"comparison": 3,
						"second-value": "priority"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 481416441911543,
					"parameters": {
						"instance-variable": "animPriority",
						"comparison": 3,
						"value": "priority"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "person",
					"sid": 598408745132221,
					"parameters": {
						"animation": "anim",
						"from": "current-frame"
					}
				},
				{
					"id": "set-animation-speed",
					"objectClass": "person",
					"sid": 445791748039369,
					"parameters": {
						"speed": "speed=777? person.OriginalAnimationSpeed : speed=888? -person.OriginalAnimationSpeed : speed=999? person.AnimationSpeed : speed=555? person.OriginalAnimationSpeed : speed"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "person",
					"sid": 355874391043167,
					"parameters": {
						"frame-number": "startFrame"
					}
				},
				{
					"id": "start-animation",
					"objectClass": "person",
					"sid": 854346554595145,
					"parameters": {
						"from": "current-frame"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "person",
					"sid": 522106700864467,
					"parameters": {
						"instance-variable": "animPriority",
						"value": "priority"
					}
				}
			],
			"sid": 498748362813632,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 893719862808924,
							"parameters": {
								"variable": "timer",
								"comparison": 1,
								"value": "0"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "person",
							"sid": 626533932420394,
							"parameters": {
								"unique-id": "uid"
							}
						}
					],
					"actions": [
						{
							"id": "start-timer",
							"objectClass": "person",
							"sid": 671912107004714,
							"behaviorType": "Timer",
							"parameters": {
								"duration": "timer",
								"type": "once",
								"tag": "anim"
							}
						}
					],
					"sid": 712779615096919
				}
			]
		},
		{
			"eventType": "comment",
			"text": ""
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-timer",
					"objectClass": "person",
					"sid": 971614116599369,
					"behaviorType": "Timer",
					"parameters": {
						"tag": "Self.anim"
					}
				}
			],
			"actions": [
				{
					"callFunction": "animPers",
					"sid": 992780943970061,
					"parameters": [
						"person.UID",
						"person.onBase=1? person.state&basis.direct : person.state",
						"0",
						"0",
						"777",
						"0"
					]
				}
			],
			"sid": 706755850441114
		},
		{
			"eventType": "comment",
			"text": ""
		},
		{
			"functionName": "heroTypeDirect",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "directNumber",
					"type": "number",
					"initialValue": "8",
					"comment": "",
					"sid": 202871443946832
				}
			],
			"eventType": "function-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "basis",
					"sid": 217405607019093,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "basis",
					"sid": 620320252797437,
					"parameters": {
						"instance-variable": "directNumbers",
						"value": "directNumber"
					}
				}
			],
			"sid": 961488014968433,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 828103015388047,
							"parameters": {
								"variable": "directNumber",
								"comparison": 0,
								"value": "8"
							}
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 909138279080376,
							"parameters": {
								"group-name": "\"hero8dir\"",
								"state": "activated"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 256516589336448,
							"parameters": {
								"group-name": "\"hero6dir\"",
								"state": "deactivated"
							}
						}
					],
					"sid": 367151677636875
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 966343373738302,
							"parameters": {
								"variable": "directNumber",
								"comparison": 0,
								"value": "6"
							}
						}
					],
					"actions": [
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 529241128503178,
							"parameters": {
								"group-name": "\"hero6dir\"",
								"state": "activated"
							}
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 666615612194720,
							"parameters": {
								"group-name": "\"hero8dir\"",
								"state": "deactivated"
							}
						}
					],
					"sid": 715805667665665
				}
			]
		},
		{
			"functionName": "personsTypeDirect",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 715574452041368,
			"disabled": true
		},
		{
			"eventType": "comment",
			"text": "\n\n\nостановка для героя и персонажей"
		},
		{
			"aceType": "action",
			"aceName": "stop",
			"objectClass": "basis",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": true,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "basis",
					"sid": 300752203099314,
					"disabled": true,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 210756954393203,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "basis.name"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "aBook",
					"sid": 916627159082940,
					"disabled": true,
					"parameters": {
						"instance-variable": "heroState",
						"comparison": 0,
						"value": "\"walk\""
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 785989478846527,
					"parameters": {
						"instance-variable": "move"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 750955034904636,
					"parameters": {
						"instance-variable": "inTrap"
					},
					"isInverted": true
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 188510684574277,
					"disabled": true,
					"parameters": {
						"instance-variable": "jump"
					},
					"isInverted": true
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "person",
					"sid": 904781155961541,
					"disabled": true,
					"parameters": {
						"instance-variable": "animPriority",
						"value": "0"
					}
				}
			],
			"sid": 892006885814104,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 200550288968774,
							"parameters": {
								"instance-variable": "directNumbers",
								"comparison": 0,
								"value": "8"
							}
						}
					],
					"actions": [],
					"sid": 359701778174107,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aBook",
									"sid": 213069309157858,
									"parameters": {
										"instance-variable": "contactUID",
										"comparison": 4,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 766371780714478,
									"parameters": {
										"seconds": "0",
										"use-timescale": true
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 673459223330158,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "hero",
									"sid": 620551458681381,
									"disabled": true,
									"parameters": {
										"state": "not-mirrored"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aBook",
									"sid": 337399157876641,
									"disabled": true,
									"parameters": {
										"instance-variable": "heroState",
										"value": "\"stop\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 516362037932692,
									"parameters": {
										"instance-variable": "state",
										"value": "\"stop\""
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "basis",
									"sid": 840154152197879,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "Self.bTag"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 422319147376106,
									"parameters": {
										"instance-variable": "state",
										"value": "\"stop\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "basis",
									"sid": 442122852199807,
									"parameters": {
										"instance-variable": "move",
										"value": "false"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "basis",
									"sid": 307924402746608,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"stopped\""
									}
								}
							],
							"sid": 619994505618885,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 578388665466139,
											"disabled": true,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"walk\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 173562609273214,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"crawl\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 719364886205131,
											"parameters": [
												"person.UID",
												"basis.directNumbers=2?\"stop\"&person.moveType:basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
												"0",
												"0",
												"777",
												"0"
											]
										}
									],
									"sid": 291030629023615
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 266188755153596
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 190586480949205,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"crawl\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 202220935087353,
											"parameters": [
												"person.UID",
												"\"stopCrawl\"& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
												"1",
												"person.AnimationFrame",
												"555",
												"0"
											]
										}
									],
									"sid": 118303001803346
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 974822035902027
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 534506214932441,
									"parameters": {
										"instance-variable": "state",
										"value": "\"stop\""
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "basis",
									"sid": 496787504921627,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "Self.bTag"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 965261405548836,
									"parameters": {
										"instance-variable": "state",
										"value": "\"stop\""
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "basis",
									"sid": 710541963264830,
									"parameters": {
										"instance-variable": "move",
										"value": "false"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "basis",
									"sid": 213944643100354,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"stopped\""
									}
								}
							],
							"sid": 583046185300882,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 103272369929306,
											"disabled": true,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"walk\""
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 591450664858308,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"crawl\""
											},
											"isInverted": true
										},
										{
											"id": "is-animation-playing",
											"objectClass": "person",
											"sid": 633649594911532,
											"parameters": {
												"animation": "\"sporePump\""
											},
											"isInverted": true
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 740545618193787,
											"parameters": {
												"instance-variable": "jump"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 960951911429595,
											"parameters": [
												"person.UID",
												"basis.directNumbers=2?\"stop\"&person.moveType:basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
												"1",
												"0",
												"777",
												"0"
											]
										}
									],
									"sid": 937552478845277
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 115989513316616
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 959757394429222,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"crawl\""
											}
										},
										{
											"id": "is-animation-playing",
											"objectClass": "person",
											"sid": 646358356742181,
											"parameters": {
												"animation": "\"sporePump\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 241357647028812,
											"parameters": [
												"person.UID",
												"\"stopCrawl\"& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
												"1",
												"person.AnimationFrame",
												"555",
												"0"
											]
										}
									],
									"sid": 534207852752251
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 726872887225647
										},
										{
											"id": "is-animation-playing",
											"objectClass": "person",
											"sid": 928643215517129,
											"parameters": {
												"animation": "\"sporePump\""
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "person",
											"sid": 431504840008400,
											"parameters": {
												"animation": "\"sporeJet\"",
												"from": "beginning"
											}
										}
									],
									"sid": 591019030970100,
									"disabled": true
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 879527402719982
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 127319853366587,
							"parameters": {
								"instance-variable": "directNumbers",
								"comparison": 0,
								"value": "2"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 758253679584831,
							"disabled": true,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.mt.MovingAngle+360+90) %360)/180)"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 868736461733514,
							"parameters": {
								"seconds": "0",
								"use-timescale": true
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 265896855227634,
							"parameters": {
								"instance-variable": "animPriority",
								"value": "0"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "person",
							"sid": 771316699719281,
							"parameters": {
								"animation": "\"stop\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 611400189722723,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "basis",
							"sid": 547291211693315,
							"parameters": {
								"instance-variable": "move",
								"value": "false"
							}
						},
						{
							"id": "callselffunction0",
							"objectClass": "basis",
							"sid": 151046302565096,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "\"stopped\""
							}
						},
						{
							"id": "append-text",
							"objectClass": "help",
							"sid": 317196843560092,
							"disabled": true,
							"parameters": {
								"text": "\"Stop\""
							}
						}
					],
					"sid": 762555397083917
				},
				{
					"eventType": "comment",
					"text": "\n\n"
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 173753440752012,
							"parameters": {
								"instance-variable": "directNumbers",
								"comparison": 0,
								"value": "2"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 537563000738229,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "basis.name"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 431878359894637,
							"disabled": true,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.mt.MovingAngle+360+90) %360)/180)"
							}
						},
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 511613678645002,
							"parameters": {
								"seconds": "0",
								"use-timescale": true
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 796965371932592,
							"parameters": {
								"instance-variable": "animPriority",
								"value": "0"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "person",
							"sid": 410697057915530,
							"parameters": {
								"animation": "\"stop\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 341989665707262,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "basis",
							"sid": 704018281882605,
							"parameters": {
								"instance-variable": "move",
								"value": "false"
							}
						},
						{
							"id": "callselffunction0",
							"objectClass": "basis",
							"sid": 514184798290848,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "\"stopped\""
							}
						},
						{
							"id": "append-text",
							"objectClass": "help",
							"sid": 775527461383819,
							"disabled": true,
							"parameters": {
								"text": "\"Stop\""
							}
						}
					],
					"sid": 130240921549426,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 832460444080803
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "aBook",
							"sid": 874611865181646,
							"parameters": {
								"instance-variable": "contactUID",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "wait",
							"objectClass": "System",
							"sid": 480030952144943,
							"parameters": {
								"seconds": "0",
								"use-timescale": true
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 800020335050552,
							"parameters": {
								"instance-variable": "animPriority",
								"value": "0"
							}
						},
						{
							"callFunction": "animPers",
							"sid": 262161967276895,
							"parameters": [
								"person.UID",
								"basis.directNumbers=2?\"stop\"&person.moveType:basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
								"0",
								"0",
								"777",
								"0"
							]
						},
						{
							"id": "set-mirrored",
							"objectClass": "hero",
							"sid": 589464599870746,
							"disabled": true,
							"parameters": {
								"state": "not-mirrored"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "aBook",
							"sid": 978492969623149,
							"disabled": true,
							"parameters": {
								"instance-variable": "heroState",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 893961157416441,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "callselffunction0",
							"objectClass": "basis",
							"sid": 873913468411661,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "Self.bTag"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 606879062404694,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "basis",
							"sid": 568703636271335,
							"parameters": {
								"instance-variable": "move",
								"value": "false"
							}
						},
						{
							"id": "callselffunction0",
							"objectClass": "basis",
							"sid": 363547652849539,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "\"stopped\""
							}
						}
					],
					"sid": 831443382630674,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 656693831985598
						}
					],
					"actions": [
						{
							"callFunction": "animPers",
							"sid": 638004324970441,
							"parameters": [
								"person.UID",
								"basis.directNumbers=2?\"stop\"&person.moveType:basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
								"0",
								"0",
								"777",
								"0"
							]
						},
						{
							"id": "set-mirrored",
							"objectClass": "hero",
							"sid": 463750568788517,
							"disabled": true,
							"parameters": {
								"state": "not-mirrored"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "aBook",
							"sid": 209801509911848,
							"disabled": true,
							"parameters": {
								"instance-variable": "heroState",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 436549513725012,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "callselffunction0",
							"objectClass": "basis",
							"sid": 358079093962936,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "Self.bTag"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 994207308137412,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-boolean-instvar",
							"objectClass": "basis",
							"sid": 879134250494912,
							"parameters": {
								"instance-variable": "move",
								"value": "false"
							}
						},
						{
							"id": "callselffunction0",
							"objectClass": "basis",
							"sid": 774296779544206,
							"behaviorType": "sf",
							"parameters": {
								"function_name:0": "\"stopped\""
							}
						}
					],
					"sid": 630502820753137,
					"disabled": true
				}
			]
		},
		{
			"eventType": "comment",
			"text": "\n\n\nповорот к курсору"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "onselffunction0",
					"objectClass": "basis",
					"sid": 550437292220920,
					"behaviorType": "sf",
					"parameters": {
						"function_name:0": "\"rotateToMouse\""
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 288222972793876,
					"parameters": {
						"instance-variable": "inTrap"
					},
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "aBook",
					"sid": 678378010352885,
					"parameters": {
						"instance-variable": "mod",
						"comparison": 1,
						"value": "\"noControl\""
					}
				}
			],
			"actions": [],
			"sid": 753973843509252,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 164150912764657,
							"parameters": {
								"instance-variable": "move"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 525519008984091,
							"parameters": {
								"instance-variable": "ballAttack"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 320895966542383,
							"parameters": {
								"x": "Mouse.X",
								"y": "Mouse.Y"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 532568155810588,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.Angle+360+22.5) %360)/45)"
							}
						}
					],
					"sid": 631155134226026,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 618312138265534,
									"parameters": {
										"instance-variable": "direct",
										"comparison": 1,
										"value": "Self.dirOld"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 766950034752388,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "person",
									"sid": 469000950098067,
									"parameters": {
										"animation": "\"sporeJet\""
									},
									"isInverted": true
								},
								{
									"id": "is-animation-playing",
									"objectClass": "person",
									"sid": 379149905023562,
									"parameters": {
										"animation": "\"sporeFly\""
									},
									"isInverted": true
								},
								{
									"id": "is-animation-playing",
									"objectClass": "person",
									"sid": 156715584019744,
									"parameters": {
										"animation": "\"sporeLand\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "person",
									"sid": 136158200246049,
									"parameters": {
										"instance-variable": "state",
										"value": "\"stop\""
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "person",
									"sid": 769598732982971,
									"parameters": {
										"state": "not-mirrored"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 541076353866369,
									"parameters": {
										"instance-variable": "dirOld",
										"value": "Self.direct"
									}
								}
							],
							"sid": 899149950075003,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 941341984534886,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"walk\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 933245723397886,
											"parameters": [
												"person.UID",
												"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
												"0",
												"0",
												"12",
												"0"
											]
										}
									],
									"sid": 989970327651866
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 223879649447978
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 506771071581005,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 0,
												"value": "\"crawl\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 637120062568414,
											"parameters": [
												"person.UID",
												"\"stopCrawl\"& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
												"1",
												"person.AnimationFrame",
												"555",
												"0"
											]
										}
									],
									"sid": 224363810865387
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 507166189197027,
									"parameters": {
										"value": "basis.direct",
										"lower-bound": "3",
										"upper-bound": "5"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 477880188486787,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "person",
									"sid": 875686384174927,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 717018083092399
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 922275007697455,
									"parameters": {
										"instance-variable": "direct",
										"comparison": 0,
										"value": "2"
									}
								},
								{
									"id": "compare-x",
									"objectClass": "basis",
									"sid": 948342245009501,
									"parameters": {
										"comparison": 4,
										"x-co-ordinate": "Mouse.X"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "person",
									"sid": 496917517490527,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 268685795408083
						}
					],
					"isOrBlock": true
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "mirrorToMouse",
			"objectClass": "basis",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "custom-ace-block",
			"conditions": [],
			"actions": [],
			"sid": 461103491345072,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 244382152968985,
							"parameters": {
								"instance-variable": "move"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 915214297415931,
							"parameters": {
								"instance-variable": "inTrap"
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "aBook",
							"sid": 975068216734517,
							"parameters": {
								"instance-variable": "mod",
								"comparison": 1,
								"value": "\"noControl\""
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 330953383736803,
							"parameters": {
								"x": "Mouse.X",
								"y": "Mouse.Y"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 369753267887949,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.Angle+360+22.5) %360)/45)"
							}
						}
					],
					"sid": 804841014586357,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 577752450035985,
									"parameters": {
										"instance-variable": "direct",
										"comparison": 1,
										"value": "Self.dirOld"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 742774815827624,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "person",
									"sid": 198606657517452,
									"parameters": {
										"state": "not-mirrored"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 814903333167732,
									"parameters": {
										"instance-variable": "dirOld",
										"value": "Self.direct"
									}
								}
							],
							"sid": 375349231151045
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-between-values",
									"objectClass": "System",
									"sid": 942653606939384,
									"parameters": {
										"value": "basis.direct",
										"lower-bound": "3",
										"upper-bound": "5"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 806906256930001,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "person",
									"sid": 626998941749765,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 881496517619968
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 952793809208358,
									"parameters": {
										"instance-variable": "direct",
										"comparison": 0,
										"value": "2"
									}
								},
								{
									"id": "compare-x",
									"objectClass": "basis",
									"sid": 733861129923976,
									"parameters": {
										"comparison": 4,
										"x-co-ordinate": "Mouse.X"
									}
								}
							],
							"actions": [
								{
									"id": "set-mirrored",
									"objectClass": "person",
									"sid": 856496180919410,
									"parameters": {
										"state": "mirrored"
									}
								}
							],
							"sid": 736531402496278
						}
					]
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "rotateTo",
			"objectClass": "basis",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "basisName",
					"type": "string",
					"initialValue": "Bit",
					"comment": "",
					"sid": 434969113470378
				},
				{
					"name": "x",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 146832985259772
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 383721398824164
				},
				{
					"name": "selfAng",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 931519107027990
				},
				{
					"name": "pointUID",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 664954998621348
				},
				{
					"name": "mouse",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 688360991401687
				},
				{
					"name": "ang",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 305191599652384
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "basis",
					"sid": 315665221568347,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "basisName"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 921277952805877,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "basisName"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 258676860123912,
					"parameters": {
						"instance-variable": "inTrap"
					},
					"isInverted": true
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 196568078942218,
					"disabled": true,
					"parameters": {
						"instance-variable": "move"
					},
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "aBook",
					"sid": 732856644204989,
					"disabled": true,
					"parameters": {
						"instance-variable": "mod",
						"comparison": 1,
						"value": "\"noControl\""
					}
				}
			],
			"actions": [],
			"sid": 145656452273022,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 172515013155638,
							"parameters": {
								"variable": "x",
								"comparison": 4,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 881624510680029,
							"parameters": {
								"x": "x",
								"y": "y"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 269653979662261,
							"parameters": {
								"variable": "ang",
								"value": "basis.Angle"
							}
						}
					],
					"sid": 980940115156277
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 117029053260838,
							"parameters": {
								"variable": "selfAng"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 949352610555495,
							"parameters": {
								"variable": "ang",
								"value": "basis.Angle"
							}
						}
					],
					"sid": 843115287953064
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 843862381074895
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 259348858886440,
							"parameters": {
								"variable": "pointUID",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 181870468299774,
							"parameters": {
								"unique-id": "pointUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 253559044119549,
							"parameters": {
								"x": "point.X",
								"y": "point.Y"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 345228450757052,
							"parameters": {
								"variable": "ang",
								"value": "basis.Angle"
							}
						}
					],
					"sid": 445905034885168
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 386335564196294
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 694052161953082,
							"parameters": {
								"variable": "mouse"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 275333447364353,
							"parameters": {
								"x": "Mouse.X",
								"y": "Mouse.Y"
							}
						}
					],
					"sid": 466364659197906
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 654544312326543
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "basis",
							"sid": 633159590176224,
							"parameters": {
								"angle": "ang"
							}
						}
					],
					"sid": 225212603549120
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 629455767882236,
							"disabled": true,
							"parameters": {
								"instance-variable": "direct",
								"comparison": 1,
								"value": "Self.dirOld"
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "person",
							"sid": 717845411317988,
							"parameters": {
								"animation": "\"sporeJet\""
							},
							"isInverted": true
						},
						{
							"id": "is-animation-playing",
							"objectClass": "person",
							"sid": 657892351158847,
							"parameters": {
								"animation": "\"sporeFly\""
							},
							"isInverted": true
						},
						{
							"id": "is-animation-playing",
							"objectClass": "person",
							"sid": 510537654356465,
							"parameters": {
								"animation": "\"sporeLand\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 856651884671201,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.Angle+360+22.5) %360)/45)"
							}
						},
						{
							"callFunction": "animPers",
							"sid": 958900691563476,
							"disabled": true,
							"parameters": [
								"person.UID",
								"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
								"3",
								"0",
								"12",
								"0"
							]
						},
						{
							"callFunction": "animPers",
							"sid": 573509561763018,
							"disabled": true,
							"parameters": [
								"person.UID",
								"basis.directNumbers=2?\"stop\"&person.moveType : basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : \"stop1\"",
								"0",
								"0",
								"777",
								"0"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 478757230729393,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 104235168464029,
							"parameters": {
								"state": "not-mirrored"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 860046762937049,
							"parameters": {
								"instance-variable": "dirOld",
								"value": "Self.direct"
							}
						}
					],
					"sid": 734685364195301,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 743419280005182,
									"parameters": {
										"instance-variable": "moveType",
										"comparison": 0,
										"value": "\"walk\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "animPers",
									"sid": 513977310805447,
									"parameters": [
										"person.UID",
										"basis.directNumbers=2?\"stop\"&person.moveType : basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : \"stop1\"",
										"0",
										"0",
										"777",
										"0"
									]
								},
								{
									"callFunction": "animPers",
									"sid": 845301566503272,
									"disabled": true,
									"parameters": [
										"person.UID",
										"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
										"0",
										"0",
										"12",
										"0"
									]
								}
							],
							"sid": 198463109056230
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 180737816223311
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 311482239727355,
									"parameters": {
										"instance-variable": "moveType",
										"comparison": 0,
										"value": "\"crawl\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "animPers",
									"sid": 836060113449310,
									"parameters": [
										"person.UID",
										"\"stopCrawl\"& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
										"1",
										"person.AnimationFrame",
										"555",
										"0"
									]
								}
							],
							"sid": 762083586099520
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-between-values",
							"objectClass": "System",
							"sid": 375351321477504,
							"parameters": {
								"value": "basis.direct",
								"lower-bound": "3",
								"upper-bound": "5"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 441454651046566,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 511162640362526
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 685001031782294,
							"parameters": {
								"instance-variable": "direct",
								"comparison": 0,
								"value": "2"
							}
						},
						{
							"id": "compare-x",
							"objectClass": "basis",
							"sid": 418143354625801,
							"parameters": {
								"comparison": 4,
								"x-co-ordinate": "Mouse.X"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 955226475950712,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 529255602563636
				}
			]
		},
		{
			"aceType": "action",
			"aceName": "rotateTo",
			"objectClass": "aaa",
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [
				{
					"name": "basisName",
					"type": "string",
					"initialValue": "Bit",
					"comment": "",
					"sid": 652833026564641
				},
				{
					"name": "x",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 857923282571292
				},
				{
					"name": "y",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 596916871143548
				},
				{
					"name": "selfAng",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 880969094211570
				},
				{
					"name": "pointUID",
					"type": "number",
					"initialValue": "-1",
					"comment": "",
					"sid": 454907959292218
				},
				{
					"name": "mouse",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"sid": 950441995436023
				},
				{
					"name": "ang",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"sid": 620237189060074
				}
			],
			"eventType": "custom-ace-block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "basis",
					"sid": 373766972555405,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "basisName"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 339631549419171,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "basisName"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 956758930174396,
					"parameters": {
						"instance-variable": "inTrap"
					},
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "basis",
					"sid": 618135323904146,
					"disabled": true,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 218091990684543,
					"disabled": true,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 217647346569205,
					"disabled": true,
					"parameters": {
						"instance-variable": "move"
					},
					"isInverted": true
				},
				{
					"id": "compare-instance-variable",
					"objectClass": "aBook",
					"sid": 275332040655015,
					"disabled": true,
					"parameters": {
						"instance-variable": "mod",
						"comparison": 1,
						"value": "\"noControl\""
					}
				}
			],
			"actions": [],
			"sid": 479213489036430,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 859602516026402,
							"parameters": {
								"variable": "x",
								"comparison": 1,
								"value": "-1"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 218937596492812,
							"parameters": {
								"x": "x",
								"y": "y"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 393500724549500,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.Angle+360+22.5) %360)/45)"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 280335995971762,
							"parameters": {
								"variable": "ang",
								"value": "basis.Angle"
							}
						}
					],
					"sid": 712251734479390
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 574990090517584
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 284676436010643,
							"parameters": {
								"variable": "selfAng"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 699663931237050,
							"parameters": {
								"variable": "ang",
								"value": "basis.Angle"
							}
						}
					],
					"sid": 533380236041320
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 350182573503955
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 496002128880068,
							"parameters": {
								"variable": "pointUID",
								"comparison": 4,
								"value": "0"
							}
						},
						{
							"id": "pick-by-unique-id",
							"objectClass": "point",
							"sid": 849751089606381,
							"parameters": {
								"unique-id": "pointUID"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 930946231111590,
							"parameters": {
								"x": "point.X",
								"y": "point.Y"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 661674276696782,
							"parameters": {
								"variable": "ang",
								"value": "basis.Angle"
							}
						}
					],
					"sid": 690390482111705
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 490497200748902
						},
						{
							"id": "compare-boolean-eventvar",
							"objectClass": "System",
							"sid": 606873142757793,
							"parameters": {
								"variable": "mouse"
							}
						}
					],
					"actions": [
						{
							"id": "set-angle-toward-position",
							"objectClass": "basis",
							"sid": 499119245248016,
							"parameters": {
								"x": "Mouse.X",
								"y": "Mouse.Y"
							}
						}
					],
					"sid": 815750478821524
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 474380821348183
						}
					],
					"actions": [
						{
							"id": "set-angle",
							"objectClass": "basis",
							"sid": 373870371665234,
							"parameters": {
								"angle": "ang"
							}
						}
					],
					"sid": 980394042679803
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 432673230273674,
							"disabled": true,
							"parameters": {
								"instance-variable": "direct",
								"comparison": 1,
								"value": "Self.dirOld"
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 292432231641633,
							"parameters": {
								"instance-variable": "direct",
								"value": "int(((Self.Angle+360+22.5) %360)/45)"
							}
						},
						{
							"callFunction": "animPers",
							"sid": 862190158829199,
							"disabled": true,
							"parameters": [
								"person.UID",
								"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
								"3",
								"0",
								"12",
								"0"
							]
						},
						{
							"callFunction": "animPers",
							"sid": 227214683052621,
							"parameters": [
								"person.UID",
								"basis.directNumbers=2?\"stop\"&person.moveType : basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : \"stop1\"",
								"0",
								"0",
								"777",
								"0"
							]
						},
						{
							"id": "set-instvar-value",
							"objectClass": "person",
							"sid": 756253599844356,
							"parameters": {
								"instance-variable": "state",
								"value": "\"stop\""
							}
						},
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 814623047484150,
							"parameters": {
								"state": "not-mirrored"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "basis",
							"sid": 945757799997998,
							"parameters": {
								"instance-variable": "dirOld",
								"value": "Self.direct"
							}
						}
					],
					"sid": 190264252909927,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 531416643880285,
									"parameters": {
										"instance-variable": "moveType",
										"comparison": 0,
										"value": "\"walk\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "animPers",
									"sid": 473405101631909,
									"parameters": [
										"person.UID",
										"basis.directNumbers=2?\"stop\"&person.moveType : basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : \"stop1\"",
										"0",
										"0",
										"777",
										"0"
									]
								},
								{
									"callFunction": "animPers",
									"sid": 518680403458178,
									"disabled": true,
									"parameters": [
										"person.UID",
										"basis.directNumbers=8? \"stop\"&(basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) : basis.directNumbers=6? \"stop\" & (basis.direct=2 ? 1 : basis.direct=3 ? 0 : basis.direct=4 ? 5 : basis.direct) :  \"stop1\"",
										"0",
										"0",
										"12",
										"0"
									]
								}
							],
							"sid": 941016000103530
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 281678503353575
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 284560949843744,
									"parameters": {
										"instance-variable": "moveType",
										"comparison": 0,
										"value": "\"crawl\""
									}
								}
							],
							"actions": [
								{
									"callFunction": "animPers",
									"sid": 226136970507552,
									"parameters": [
										"person.UID",
										"\"stopCrawl\"& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
										"1",
										"person.AnimationFrame",
										"555",
										"0"
									]
								}
							],
							"sid": 102289526516330
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-between-values",
							"objectClass": "System",
							"sid": 901194075452397,
							"parameters": {
								"value": "basis.direct",
								"lower-bound": "3",
								"upper-bound": "5"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 612603475934163,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 611031754941206
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 418158996537663,
							"parameters": {
								"instance-variable": "direct",
								"comparison": 0,
								"value": "2"
							}
						},
						{
							"id": "compare-x",
							"objectClass": "basis",
							"sid": 947825472884474,
							"parameters": {
								"comparison": 4,
								"x-co-ordinate": "Mouse.X"
							}
						}
					],
					"actions": [
						{
							"id": "set-mirrored",
							"objectClass": "person",
							"sid": 745726622225551,
							"parameters": {
								"state": "mirrored"
							}
						}
					],
					"sid": 242887535700533
				}
			]
		},
		{
			"eventType": "comment",
			"text": "\n\n\nдвижение героя\nгерой на 8 направлений "
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "hero8dir",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 200577619926595,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 685296660220256,
							"parameters": {
								"instance-variable": "move"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 295242155019855,
							"parameters": {
								"instance-variable": "inTrap"
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 741830273422908,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "basis.name"
							}
						},
						{
							"id": "compare-animation-frame-tag",
							"objectClass": "person",
							"sid": 897889697592280,
							"parameters": {
								"comparison": 1,
								"tag": "\"ball\""
							}
						}
					],
					"actions": [],
					"sid": 213472543222497,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 356065845827525,
									"parameters": {
										"instance-variable": "moveType",
										"comparison": 0,
										"value": "\"walk\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 371320850933083,
									"parameters": {
										"instance-variable": "direct",
										"value": "int(((Self.mt.MovingAngle+360+22.5) %360)/45)"
									}
								}
							],
							"sid": 603507532525587,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-moving",
											"objectClass": "basis",
											"sid": 117424014147260,
											"disabled": true,
											"behaviorType": "mt"
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "hero",
											"sid": 141764479214478,
											"parameters": {
												"instance-variable": "heroName",
												"comparison": 0,
												"value": "aBook.hero"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 620463970751806,
											"parameters": {
												"instance-variable": "jump"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 399468884579223,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 896797356135085,
													"parameters": {
														"instance-variable": "direct",
														"comparison": 0,
														"value": "Self.dirOld"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 512144500326832,
													"parameters": {
														"instance-variable": "heroState",
														"comparison": 1,
														"value": "\"walk\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 763953920829599,
													"disabled": true,
													"parameters": {
														"instance-variable": "heroState",
														"comparison": 0,
														"value": "\"ball\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "hero",
													"sid": 830118738849285,
													"parameters": {
														"instance-variable": "speedImpuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 264686386909303,
													"parameters": {
														"instance-variable": "impuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"callFunction": "animPers",
													"sid": 662829605214788,
													"parameters": [
														"person.UID",
														"person.moveType& (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"1",
														"person.AnimationFrame",
														"555",
														"0"
													]
												},
												{
													"callFunction": "animPers",
													"sid": 892442377763154,
													"disabled": true,
													"parameters": [
														"person.UID",
														"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"0",
														"person.state=\"walk\"? person.AnimationFrame : 0",
														"person.OriginalAnimationSpeed",
														"0"
													]
												},
												{
													"id": "set-mirrored",
													"objectClass": "hero",
													"sid": 662565039660140,
													"parameters": {
														"state": "not-mirrored"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 974420895427156,
													"parameters": {
														"instance-variable": "heroState",
														"value": "\"walk\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "basis",
													"sid": 641269629669863,
													"parameters": {
														"instance-variable": "dirOld",
														"value": "Self.direct"
													}
												}
											],
											"sid": 547434211004141
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 452779360038841,
													"parameters": {
														"instance-variable": "direct",
														"comparison": 1,
														"value": "Self.dirOld"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 868433977364360,
													"parameters": {
														"instance-variable": "heroState",
														"comparison": 0,
														"value": "\"spikyOff\""
													}
												},
												{
													"id": "onvaluechange0",
													"objectClass": "vm",
													"sid": 579549298680418,
													"parameters": {
														"tag0": "\"groundUID\""
													}
												},
												{
													"id": "on-any-animation-finished",
													"objectClass": "person",
													"sid": 957064922532661
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "hero",
													"sid": 454551490016529,
													"parameters": {
														"instance-variable": "speedImpuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 446146522447076,
													"parameters": {
														"instance-variable": "impuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"callFunction": "animPers",
													"sid": 234991351445030,
													"parameters": [
														"person.UID",
														"person.moveType& (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"1",
														"person.AnimationFrame",
														"555",
														"0"
													]
												},
												{
													"callFunction": "animPers",
													"sid": 823855905137792,
													"disabled": true,
													"parameters": [
														"person.UID",
														"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
														"0",
														"person.state=\"walk\"? person.AnimationFrame : 0",
														"person.OriginalAnimationSpeed",
														"0"
													]
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 779769093559629,
													"parameters": {
														"instance-variable": "heroState",
														"value": "\"walk\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "basis",
													"sid": 764469141273187,
													"parameters": {
														"instance-variable": "dirOld",
														"value": "Self.direct"
													}
												}
											],
											"sid": 546162671587445,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 273707861382987,
													"parameters": {
														"instance-variable": "speedImpuls",
														"comparison": 1,
														"value": "1"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 939053184465152,
													"parameters": {
														"instance-variable": "speedImpuls",
														"comparison": 4,
														"value": "0.6"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "hero",
													"sid": 175700991075251,
													"parameters": {
														"speed": "ceil(person.OriginalAnimationSpeed*basis.speedImpuls)"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "hero",
													"sid": 488318441389905,
													"disabled": true,
													"parameters": {
														"speed": "hero.OriginalAnimationSpeed*basis.speedImpuls"
													}
												},
												{
													"id": "set-text",
													"objectClass": "info",
													"sid": 635650599177862,
													"disabled": true,
													"parameters": {
														"text": "hero.AnimationSpeed"
													}
												}
											],
											"sid": 811335660761931
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-animation-frame-tag",
													"objectClass": "person",
													"sid": 624269701091912,
													"parameters": {
														"comparison": 0,
														"tag": "\"dust\""
													}
												}
											],
											"actions": [],
											"sid": 867972444155908,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 203423116997635
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 154918229818515,
															"parameters": {
																"object-to-create": "dust",
																"layer": "\"iso\"",
																"x": "person.X",
																"y": "person.Y",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-spraying",
															"objectClass": "dust",
															"sid": 786322664419112,
															"parameters": {
																"state": "spraying"
															}
														}
													],
													"sid": 522935007788040
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 401912235265809,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 459456982033023
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 683146678858697,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 790030010088981,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 131327037231641
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 856713027132022
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 510570299024951,
									"parameters": {
										"instance-variable": "moveType",
										"comparison": 0,
										"value": "\"crawl\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 475903924095550,
									"parameters": {
										"instance-variable": "direct",
										"value": "int(((Self.mt.MovingAngle+360) %360)/90)"
									}
								}
							],
							"sid": 612450423075197,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-moving",
											"objectClass": "basis",
											"sid": 587570657534564,
											"disabled": true,
											"behaviorType": "mt"
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "hero",
											"sid": 791710730229481,
											"parameters": {
												"instance-variable": "heroName",
												"comparison": 0,
												"value": "aBook.hero"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 656683172903879,
											"disabled": true,
											"parameters": {
												"instance-variable": "jump"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 159080046234762,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 288862297450936,
													"parameters": {
														"instance-variable": "direct",
														"comparison": 0,
														"value": "Self.dirOld"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 780725005336043,
													"parameters": {
														"instance-variable": "heroState",
														"comparison": 1,
														"value": "\"walk\""
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "aBook",
													"sid": 961863830172495,
													"disabled": true,
													"parameters": {
														"instance-variable": "heroState",
														"comparison": 0,
														"value": "\"ball\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "hero",
													"sid": 272021596579627,
													"parameters": {
														"instance-variable": "speedImpuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 602604482432521,
													"parameters": {
														"instance-variable": "impuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"callFunction": "animPers",
													"sid": 243268751967199,
													"parameters": [
														"person.UID",
														"person.moveType& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
														"1",
														"person.AnimationFrame",
														"555",
														"0"
													]
												},
												{
													"id": "set-mirrored",
													"objectClass": "hero",
													"sid": 645289604094148,
													"parameters": {
														"state": "not-mirrored"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 789167158205847,
													"parameters": {
														"instance-variable": "heroState",
														"value": "\"walk\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "basis",
													"sid": 262492116988441,
													"parameters": {
														"instance-variable": "dirOld",
														"value": "Self.direct"
													}
												}
											],
											"sid": 325325192072064
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 351217477168421,
													"parameters": {
														"instance-variable": "direct",
														"comparison": 1,
														"value": "Self.dirOld"
													}
												},
												{
													"id": "onvaluechange0",
													"objectClass": "vm",
													"sid": 528892850964346,
													"parameters": {
														"tag0": "\"groundUID\""
													}
												},
												{
													"id": "on-any-animation-finished",
													"objectClass": "person",
													"sid": 790844845499160
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "hero",
													"sid": 668609861266801,
													"parameters": {
														"instance-variable": "speedImpuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "person",
													"sid": 285529804836853,
													"parameters": {
														"instance-variable": "impuls",
														"value": "basis.speedImpuls"
													}
												},
												{
													"callFunction": "animPers",
													"sid": 856116279313181,
													"parameters": [
														"person.UID",
														"person.moveType& (basis.direct=1 ? 0 : basis.direct=2 ? 4 : basis.direct) ",
														"1",
														"person.AnimationFrame",
														"555",
														"0"
													]
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aBook",
													"sid": 417836514470565,
													"parameters": {
														"instance-variable": "heroState",
														"value": "\"walk\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "basis",
													"sid": 169082752993172,
													"parameters": {
														"instance-variable": "dirOld",
														"value": "Self.direct"
													}
												}
											],
											"sid": 978786377401637,
											"isOrBlock": true
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 353519157524395,
													"parameters": {
														"instance-variable": "speedImpuls",
														"comparison": 1,
														"value": "1"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 873717416656939,
													"parameters": {
														"instance-variable": "speedImpuls",
														"comparison": 4,
														"value": "0.6"
													}
												}
											],
											"actions": [
												{
													"id": "set-animation-speed",
													"objectClass": "hero",
													"sid": 733043720221966,
													"parameters": {
														"speed": "ceil(person.OriginalAnimationSpeed*basis.speedImpuls)"
													}
												}
											],
											"sid": 333972738863703
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-animation-frame-tag",
													"objectClass": "person",
													"sid": 518609724259357,
													"parameters": {
														"comparison": 0,
														"tag": "\"dust\""
													}
												}
											],
											"actions": [],
											"sid": 366956884531943,
											"disabled": true,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 839231556663487
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 238887771973921,
															"parameters": {
																"object-to-create": "dust",
																"layer": "\"iso\"",
																"x": "person.X",
																"y": "person.Y",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-spraying",
															"objectClass": "dust",
															"sid": 443836744670594,
															"parameters": {
																"state": "spraying"
															}
														}
													],
													"sid": 100524435604591,
													"disabled": true
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 316361779365356,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 473529664368067
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 314959827001559,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "1",
												"upper-bound": "2"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 262846896095042,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 553306014265677
								}
							]
						}
					]
				}
			],
			"sid": 444700232109229
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 699040006983435,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				}
			],
			"actions": [
				{
					"id": "move-to-object",
					"objectClass": "dust",
					"sid": 188404730568764,
					"parameters": {
						"where": "behind",
						"object": "person"
					}
				}
			],
			"sid": 771135068847518
		},
		{
			"eventType": "comment",
			"text": "герой на 6 направлений "
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "hero6dir",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "basis",
							"sid": 733890415964640,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "basis",
							"sid": 804522260190300,
							"parameters": {
								"instance-variable": "inTrap"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 147875583972344,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving",
									"objectClass": "basis",
									"sid": 664316392101851,
									"behaviorType": "mt"
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 938657559852088,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 809034668747554,
									"parameters": {
										"instance-variable": "direct",
										"value": "int(((Self.mt.MovingAngle+360+30) %360)/60)"
									}
								}
							],
							"sid": 352419559548335,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 251152451592788,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "Self.dirOld"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aBook",
											"sid": 321176374939773,
											"parameters": {
												"instance-variable": "heroState",
												"comparison": 1,
												"value": "\"walk\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 263651787364548,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 867901223145491,
											"parameters": {
												"instance-variable": "heroState",
												"value": "\"walk\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 347711574407104,
											"parameters": {
												"instance-variable": "dirOld",
												"value": "Self.direct"
											}
										}
									],
									"sid": 436194792374871
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 692849164569157,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 1,
												"value": "Self.dirOld"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 303957390316665,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "aBook",
											"sid": 340464130770369,
											"parameters": {
												"instance-variable": "heroState",
												"value": "\"walk\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 847229998099544,
											"parameters": {
												"instance-variable": "dirOld",
												"value": "Self.direct"
											}
										}
									],
									"sid": 575819285295175
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 819920294296446,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "hero",
											"sid": 552200067052244,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 574803513776040
								}
							]
						}
					]
				}
			],
			"sid": 792989402264238
		},
		{
			"eventType": "comment",
			"text": "\n\nпыль z-сортировка"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "person",
					"sid": 285655180710770,
					"parameters": {
						"instance-variable": "name",
						"comparison": 0,
						"value": "aBook.hero"
					}
				}
			],
			"actions": [
				{
					"id": "move-to-object",
					"objectClass": "dust",
					"sid": 974863306395634,
					"parameters": {
						"where": "behind",
						"object": "person"
					}
				}
			],
			"sid": 398853560771161
		},
		{
			"eventType": "comment",
			"text": "\n\n\nперсонажи"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-instance-variable",
					"objectClass": "basis",
					"sid": 218681048122615,
					"parameters": {
						"instance-variable": "name",
						"comparison": 1,
						"value": "aBook.hero"
					}
				},
				{
					"id": "is-moving",
					"objectClass": "basis",
					"sid": 510872289107875,
					"behaviorType": "mt"
				},
				{
					"id": "is-boolean-instance-variable-set",
					"objectClass": "basis",
					"sid": 244033554499979,
					"disabled": true,
					"parameters": {
						"instance-variable": "move"
					}
				}
			],
			"actions": [],
			"sid": 515487688122727,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 801963871015288,
							"parameters": {
								"object": "basis"
							}
						}
					],
					"actions": [],
					"sid": 518737557110640,
					"children": [
						{
							"eventType": "comment",
							"text": "8 направлений"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 143512291967458,
									"parameters": {
										"instance-variable": "directNumbers",
										"comparison": 0,
										"value": "8"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 331960591123390,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "basis.name"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 709686094721918,
									"parameters": {
										"instance-variable": "direct",
										"value": "int(((Self.mt.MovingAngle+360+22.5) %360)/45)"
									}
								}
							],
							"sid": 600568154231233,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 761098680827873,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 1,
												"value": "Self.dirOld"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 836717310593972,
											"parameters": {
												"instance-variable": "state",
												"comparison": 1,
												"value": "\"walk\""
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 193511173573595,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 728726161648045,
											"parameters": [
												"person.UID",
												"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
												"0",
												"person.state=\"walk\"? person.AnimationFrame : 0",
												"555",
												"0"
											]
										},
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 414408710661879,
											"parameters": {
												"state": "not-mirrored"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 191046597565222,
											"parameters": {
												"instance-variable": "dirOld",
												"value": "Self.direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 466809807068689,
											"parameters": {
												"instance-variable": "state",
												"value": "\"walk\""
											}
										}
									],
									"sid": 884252110876860,
									"isOrBlock": true
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 258733411992322,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "Self.dirOld"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 392874151320279,
											"parameters": {
												"instance-variable": "startMove"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 694326425843963,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"callFunction": "animPers",
											"sid": 122315545272391,
											"parameters": [
												"person.UID",
												"\"walk\" & (basis.direct=3 ? 1 : basis.direct=4 ? 0 : basis.direct=5 ? 7 : basis.direct) ",
												"0",
												"person.state=\"walk\"? person.AnimationFrame : 0",
												"555",
												"0"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 951383351662618,
											"parameters": {
												"instance-variable": "state",
												"value": "\"walk\""
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "basis",
											"sid": 996786789140903,
											"parameters": {
												"instance-variable": "startMove",
												"value": "false"
											}
										}
									],
									"sid": 883501923932468
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 149259785648331,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 227584570828978,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 529642193387890
								},
								{
									"eventType": "block",
									"conditions": [],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 158643094364868,
											"parameters": {
												"instance-variable": "dirOld",
												"value": "Self.direct"
											}
										}
									],
									"sid": 220951826460737
								}
							]
						},
						{
							"eventType": "comment",
							"text": "6 направлений"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 234917723159871,
									"parameters": {
										"instance-variable": "directNumbers",
										"comparison": 0,
										"value": "6"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 877971199230302,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "basis.name"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 970942274778545,
									"parameters": {
										"instance-variable": "direct",
										"value": "int(((Self.mt.MovingAngle+360+30) %360)/60)"
									}
								}
							],
							"sid": 725642488504810,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 661096775184717,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 1,
												"value": "Self.dirOld"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 725936992467255,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 591082494729544,
											"parameters": {
												"state": "not-mirrored"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 388606644841434,
											"parameters": {
												"instance-variable": "dirOld",
												"value": "Self.direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 923871527538711,
											"parameters": {
												"instance-variable": "state",
												"value": "\"walk\""
											}
										}
									],
									"sid": 646216734200850
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 337624984717180,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "Self.dirOld"
											}
										},
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "basis",
											"sid": 789349576732173,
											"parameters": {
												"instance-variable": "move"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 207877699249206,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "basis",
											"sid": 513838515106043,
											"parameters": {
												"instance-variable": "dirOld",
												"value": "Self.direct"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 607130151130867,
											"parameters": {
												"instance-variable": "state",
												"value": "\"walk\""
											}
										}
									],
									"sid": 998296795498761
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-values",
											"objectClass": "System",
											"sid": 745115694257557,
											"parameters": {
												"value": "basis.direct",
												"lower-bound": "3",
												"upper-bound": "5"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 301800105352055,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 633533430318064
								}
							]
						},
						{
							"eventType": "comment",
							"text": "2 направления"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "basis",
									"sid": 400487772866164,
									"parameters": {
										"instance-variable": "directNumbers",
										"comparison": 0,
										"value": "2"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 822837188985915,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "basis.name"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "basis",
									"sid": 152323124726499,
									"parameters": {
										"instance-variable": "direct",
										"value": "int(((Self.mt.MovingAngle+360+90) %360)/180)"
									}
								}
							],
							"sid": 223106333529655,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 794030448473397,
											"parameters": {
												"instance-variable": "state",
												"comparison": 1,
												"value": "\"walk\""
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 339247491119205,
											"parameters": [
												"person.UID",
												"person.moveType",
												"1",
												"person.state=\"walk\"? person.AnimationFrame : 0",
												"555",
												"0"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 531045044268683,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 557493277385295,
											"parameters": {
												"instance-variable": "state",
												"value": "\"walk\""
											}
										}
									],
									"sid": 218633890404436,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "basis",
													"sid": 560419039392437,
													"parameters": {
														"instance-variable": "subState",
														"comparison": 0,
														"value": "\"idle\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "basis",
													"sid": 765417612196555,
													"parameters": {
														"instance-variable": "subState",
														"value": "\"patrol\""
													}
												}
											],
											"sid": 607089643745083,
											"disabled": true
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "person",
											"sid": 839372762300196,
											"parameters": {
												"instance-variable": "moveType",
												"comparison": 1,
												"value": "person.AnimationName"
											}
										}
									],
									"actions": [
										{
											"callFunction": "animPers",
											"sid": 500346827810372,
											"parameters": [
												"person.UID",
												"person.moveType",
												"1",
												"person.state=\"walk\"? person.AnimationFrame : 0",
												"555",
												"0"
											]
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 479340683037592,
											"parameters": {
												"instance-variable": "impuls",
												"value": "basis.speedImpuls"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "person",
											"sid": 632322181010705,
											"parameters": {
												"instance-variable": "state",
												"value": "\"walk\""
											}
										}
									],
									"sid": 591032840233273
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 646197629255527,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 292404716884641,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 164239243869327
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "basis",
											"sid": 676581013896358,
											"parameters": {
												"instance-variable": "direct",
												"comparison": 0,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"id": "set-mirrored",
											"objectClass": "person",
											"sid": 147232880060442,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 732501406610094
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "\n\n",
			"background-color": [
				0.7450980392156863,
				0.8862745098039215,
				0.996078431372549,
				1
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "screenGum",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-between-values",
							"objectClass": "System",
							"sid": 350685202388138,
							"parameters": {
								"value": "cursor.X",
								"lower-bound": "70",
								"upper-bound": "1210"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aUIN",
							"sid": 490878587050502,
							"parameters": {
								"instance-variable": "gumOn"
							}
						}
					],
					"actions": [],
					"sid": 523549381834133,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 714838754326710,
									"parameters": {
										"object": "inventory"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 236794757141752,
									"parameters": {
										"object": "peel"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 657029877005828,
									"parameters": {
										"object": "indiCocoon"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 490893694275259,
									"parameters": {
										"object": "rocketCloser"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 615382016522497,
									"parameters": {
										"object": "panelGradient"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 313899355924689,
									"parameters": {
										"object": "cocoTop"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 206638109532412,
									"parameters": {
										"object": "cocoTill"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 191759996763943,
									"parameters": {
										"object": "cocobutton"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 226739465001929,
									"parameters": {
										"object": "buttonRocket"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 712825914921315,
									"parameters": {
										"object": "peelR"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 392224969314077,
									"parameters": {
										"object": "peelTime"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 549186511458075,
									"parameters": {
										"object": "buttTime"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 511913628688550,
									"parameters": {
										"object": "timeGlass"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 137339144706644,
									"parameters": {
										"object": "targetIcon"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 125100832653258,
									"disabled": true,
									"parameters": {
										"object": "abilVeil"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "screenGumX",
									"sid": 800445281265449,
									"parameters": {
										"instance-variable": "on",
										"value": "true"
									}
								},
								{
									"id": "set-position",
									"objectClass": "screenGumX",
									"sid": 832517253990854,
									"parameters": {
										"x": "cursor.X>640?1280:0",
										"y": "cursor.Y"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "screenGumX",
									"sid": 772374166936058,
									"parameters": {
										"angle": "cursor.X>640?180:0"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "screenGumX",
									"sid": 675852814277077,
									"parameters": {
										"animation": "\"gum\"",
										"from": "current-frame"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "screenGumX",
									"sid": 305084726088956,
									"disabled": true,
									"parameters": {
										"frame-number": "cursor.X >640 ?  round((cursor.X-1210)/10) :  7-round(cursor.X/10)"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "screenGumX",
									"sid": 543102521251248,
									"parameters": {
										"frame-number": "cursor.X >640 ?  round((cursor.X-1210)/5) :  12-round(cursor.X/5)"
									}
								}
							],
							"sid": 333182872494545,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "cursor",
											"sid": 729099326591690,
											"parameters": {
												"object": "screenGumX"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "cursor",
											"sid": 190489658882559,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 802813903847886
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 998926202558113
										},
										{
											"id": "is-visible",
											"objectClass": "cursor",
											"sid": 252199802613429,
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "cursor",
											"sid": 850067805732267,
											"parameters": {
												"visibility": "visible"
											}
										}
									],
									"sid": 318310896165523
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 159332140864897
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "screenGumX",
									"sid": 747664904787460,
									"parameters": {
										"instance-variable": "on"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "screenGumX",
									"sid": 189153766701910,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "screenGumX",
									"sid": 750309508245827,
									"parameters": {
										"animation": "\"zero\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "cursor",
									"sid": 585500067618257,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 438829860658425
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 391416449769427
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "screenGumX",
							"sid": 821285195114921,
							"parameters": {
								"instance-variable": "on"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "screenGumX",
							"sid": 997064065785289,
							"parameters": {
								"instance-variable": "on",
								"value": "false"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "screenGumX",
							"sid": 909950302297381,
							"parameters": {
								"animation": "\"zero\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "cursor",
							"sid": 474691599594085,
							"parameters": {
								"visibility": "visible"
							}
						}
					],
					"sid": 743955014226254
				},
				{
					"eventType": "comment",
					"text": ""
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-between-values",
							"objectClass": "System",
							"sid": 439784899052034,
							"parameters": {
								"value": "cursor.Y",
								"lower-bound": "70",
								"upper-bound": "650"
							},
							"isInverted": true
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aUIN",
							"sid": 963510427803670,
							"parameters": {
								"instance-variable": "gumOn"
							}
						}
					],
					"actions": [],
					"sid": 473310214855709,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 480250926305513,
									"parameters": {
										"object": "inventory"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 145581743008690,
									"parameters": {
										"object": "peel"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 457473333393421,
									"parameters": {
										"object": "indiCocoon"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 903611794282310,
									"parameters": {
										"object": "rocketCloser"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 623156893525995,
									"parameters": {
										"object": "buttonRocket"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 943912614745365,
									"parameters": {
										"object": "panelGradient"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 192210440241247,
									"parameters": {
										"object": "cocoTop"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 145923840732629,
									"parameters": {
										"object": "cocoTill"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 314917139172669,
									"parameters": {
										"object": "cocobutton"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 206544191444087,
									"parameters": {
										"object": "peelR"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 420638542159565,
									"parameters": {
										"object": "peelTime"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 457532989231611,
									"parameters": {
										"object": "buttTime"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 313073473229427,
									"parameters": {
										"object": "timeGlass"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 621769404941391,
									"parameters": {
										"object": "targetIcon"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "screenGumY",
									"sid": 351565931049472,
									"parameters": {
										"instance-variable": "on",
										"value": "true"
									}
								},
								{
									"id": "set-position",
									"objectClass": "screenGumY",
									"sid": 124664061474324,
									"parameters": {
										"x": "cursor.X",
										"y": "cursor.Y>360?720:0"
									}
								},
								{
									"id": "set-angle",
									"objectClass": "screenGumY",
									"sid": 584956203855353,
									"parameters": {
										"angle": "cursor.Y>360?270:90"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "screenGumY",
									"sid": 680221756479921,
									"parameters": {
										"animation": "\"gum\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "screenGumY",
									"sid": 875545392623856,
									"disabled": true,
									"parameters": {
										"frame-number": "cursor.Y >360 ?  round((cursor.Y -650)/10) :  7-round(cursor.Y /10)"
									}
								},
								{
									"id": "set-animation-frame",
									"objectClass": "screenGumY",
									"sid": 959087968834110,
									"parameters": {
										"frame-number": "cursor.Y >360 ?  round((cursor.Y -650)/5) :  12-round(cursor.Y /5)"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "cursor",
									"sid": 848865478892441,
									"parameters": {
										"visibility": "invisible"
									}
								}
							],
							"sid": 406323571429519,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "cursor",
											"sid": 795615394739585,
											"parameters": {
												"object": "screenGumY"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "cursor",
											"sid": 246456634442754,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 309753438197244
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 796698059114145
										},
										{
											"id": "is-visible",
											"objectClass": "cursor",
											"sid": 144826916704892,
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "cursor",
											"sid": 424166780857628,
											"parameters": {
												"visibility": "visible"
											}
										}
									],
									"sid": 648740022023914
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 899696857280698
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "screenGumY",
									"sid": 280647273833604,
									"parameters": {
										"instance-variable": "on"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "screenGumY",
									"sid": 731790915680984,
									"parameters": {
										"instance-variable": "on",
										"value": "false"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "screenGumY",
									"sid": 910876455753496,
									"parameters": {
										"animation": "\"zero\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "cursor",
									"sid": 148863436642856,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 601045433348313
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 685097414785833
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "screenGumY",
							"sid": 469595129716725,
							"parameters": {
								"instance-variable": "on"
							}
						}
					],
					"actions": [
						{
							"id": "set-boolean-instvar",
							"objectClass": "screenGumY",
							"sid": 331094385923083,
							"parameters": {
								"instance-variable": "on",
								"value": "false"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "screenGumY",
							"sid": 969495761123527,
							"parameters": {
								"animation": "\"zero\"",
								"from": "beginning"
							}
						},
						{
							"id": "set-visible",
							"objectClass": "cursor",
							"sid": 463111212917083,
							"parameters": {
								"visibility": "visible"
							}
						}
					],
					"sid": 276903292694454
				},
				{
					"eventType": "comment",
					"text": "\n\n\n"
				}
			],
			"sid": 434949258684324
		},
		{
			"eventType": "comment",
			"text": "\n\n",
			"background-color": [
				0.5058823529411764,
				0.7803921568627451,
				0.3607843137254902,
				1
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "BitAnim",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "Bit",
							"sid": 447844032614574
						}
					],
					"actions": [],
					"sid": 430943810462938,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 507295961642574,
									"parameters": {
										"animation": "\"duck\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Bit",
									"sid": 999237066023734,
									"parameters": {
										"instance-variable": "animPriority",
										"value": "0"
									}
								}
							],
							"sid": 577499289509285,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ChancePercent",
											"objectClass": "Utils",
											"sid": 864687449000156,
											"parameters": {
												"chance": "33"
											}
										}
									],
									"actions": [
										{
											"customAction": "anim",
											"objectClass": "aaa",
											"sid": 379191700623596,
											"parameters": [
												"\"yaya\"",
												"0",
												"0",
												"\"zero\"",
												false,
												false,
												"\"Bit\"",
												"12",
												"0",
												false,
												"\"zero\""
											]
										}
									],
									"sid": 735689222049071
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 927354833577001
										},
										{
											"id": "ChancePercent",
											"objectClass": "Utils",
											"sid": 508077270018466,
											"parameters": {
												"chance": "50"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 411693715184941,
											"parameters": {
												"animation": "\"blink2\"",
												"from": "beginning"
											}
										}
									],
									"sid": 353686536781612
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 645720606568567
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 892965177750529,
											"parameters": {
												"animation": "\"hmm\"",
												"from": "beginning"
											}
										}
									],
									"sid": 643667487288966
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 174094967121290,
									"parameters": {
										"animation": "\"yaya\""
									}
								}
							],
							"actions": [],
							"sid": 170237451638484,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ChancePercent",
											"objectClass": "Utils",
											"sid": 376315210125210,
											"parameters": {
												"chance": "50"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 593037903089963,
											"parameters": {
												"animation": "\"blink2\"",
												"from": "beginning"
											}
										}
									],
									"sid": 293797415066665
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 318069207142754
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 939007038654944,
											"parameters": {
												"animation": "\"hmm\"",
												"from": "beginning"
											}
										}
									],
									"sid": 684687664634425
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 479220042044365,
									"parameters": {
										"animation": "\"blink2\""
									}
								}
							],
							"actions": [],
							"sid": 742243975271208,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ChancePercent",
											"objectClass": "Utils",
											"sid": 656736805067431,
											"parameters": {
												"chance": "50"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 799446274962373,
											"parameters": {
												"animation": "\"hmm\"",
												"from": "beginning"
											}
										}
									],
									"sid": 836984791489184
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 961735528072108
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 909129303483050,
											"parameters": {
												"animation": "\"lookMad\"",
												"from": "beginning"
											}
										}
									],
									"sid": 388438685675123
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Bit",
									"sid": 795372577362930,
									"parameters": {
										"animation": "\"hmm\""
									}
								}
							],
							"actions": [],
							"sid": 925152128558868,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "ChancePercent",
											"objectClass": "Utils",
											"sid": 208536482616301,
											"parameters": {
												"chance": "50"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 728987042718431,
											"parameters": {
												"animation": "\"lookMad\"",
												"from": "beginning"
											}
										}
									],
									"sid": 195778517020522
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 754913301770908
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Bit",
											"sid": 392068871877435,
											"parameters": {
												"animation": "\"yaya\"",
												"from": "beginning"
											}
										}
									],
									"sid": 792187582701355
								}
							]
						}
					]
				}
			],
			"sid": 843650143216285
		},
		{
			"eventType": "comment",
			"text": "\n\n",
			"background-color": [
				0.9686274509803922,
				0.7137254901960784,
				0.7137254901960784,
				1
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "signals",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 933914860961007,
							"parameters": {
								"tag": "\"last_sleepy\""
							}
						}
					],
					"actions": [
						{
							"customAction": "emanantaOut",
							"objectClass": "Bit",
							"customActionObjectClass": "person",
							"sid": 147662597043591
						}
					],
					"sid": 242124461354330
				},
				{
					"eventType": "comment",
					"text": ""
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-signal",
							"objectClass": "System",
							"sid": 563652116822034,
							"parameters": {
								"tag": "\"last_flower\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "shad",
							"sid": 680822391585081,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "\"Bit\""
							}
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "shad",
							"sid": 225772806596853,
							"parameters": {
								"instance-variable": "opas",
								"value": "aBook.heroShadOp"
							}
						}
					],
					"sid": 896411833200590
				},
				{
					"eventType": "comment",
					"text": "\n\n\n\n сигнал смены анимации\n",
					"background-color": [
						0.9607843137254902,
						0.6980392156862745,
						0.6980392156862745,
						1
					]
				},
				{
					"eventType": "variable",
					"name": "heroAnim",
					"type": "string",
					"initialValue": "",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 962476790637140
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-tick",
							"objectClass": "System",
							"sid": 563182393689455
						}
					],
					"actions": [
						{
							"callFunction": "heroAnimCompare",
							"sid": 979586044946200,
							"parameters": [
								"heroAnim"
							]
						},
						{
							"callFunction": "cursorOverCheck",
							"sid": 618687968081067
						}
					],
					"sid": 520672569966426
				},
				{
					"eventType": "comment",
					"text": "",
					"background-color": [
						0.9607843137254902,
						0.6980392156862745,
						0.6980392156862745,
						1
					]
				},
				{
					"functionName": "heroAnimCompare",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "lastAnim",
							"type": "string",
							"initialValue": "",
							"comment": "",
							"sid": 979568414077152
						}
					],
					"eventType": "function-block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "person",
							"sid": 102025040132509,
							"parameters": {
								"instance-variable": "name",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "compare-eventvar",
							"objectClass": "System",
							"sid": 183748200483934,
							"parameters": {
								"variable": "lastAnim",
								"comparison": 1,
								"value": "person.AnimationName"
							}
						}
					],
					"actions": [
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 499112895465080,
							"parameters": {
								"tag": "\"last_\"&lastAnim"
							}
						},
						{
							"id": "signal",
							"objectClass": "System",
							"sid": 483798121675307,
							"parameters": {
								"tag": "\"start_\"&person.AnimationName"
							}
						},
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 316193134717190,
							"parameters": {
								"variable": "heroAnim",
								"value": "person.AnimationName"
							}
						}
					],
					"sid": 929776081512710
				},
				{
					"eventType": "comment",
					"text": "",
					"background-color": [
						0.9607843137254902,
						0.6980392156862745,
						0.6980392156862745,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-animation-finished",
							"objectClass": "person",
							"sid": 998152377470342
						}
					],
					"actions": [],
					"sid": 431172748662018,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 934550392386467,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 505923555289947,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "aBook.hero"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 637693304011096,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"intercom\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "person",
									"sid": 538044254980759,
									"parameters": {
										"instance-variable": "name",
										"comparison": 0,
										"value": "\"interchar\""
									}
								}
							],
							"actions": [
								{
									"id": "signal",
									"objectClass": "System",
									"sid": 157593835913963,
									"parameters": {
										"tag": "person.AnimationName&person.name&\"End\""
									}
								}
							],
							"sid": 505118577436326,
							"isOrBlock": true
						}
					]
				},
				{
					"eventType": "comment",
					"text": "",
					"background-color": [
						0.9686274509803922,
						0.7725490196078432,
						0.5529411764705883,
						1
					]
				},
				{
					"functionName": "cursorOverCheck",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 799901993225327,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aTools",
									"sid": 638899766282858,
									"parameters": {
										"instance-variable": "cursorUID",
										"comparison": 1,
										"value": "cursor.overUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 389052004442545,
									"parameters": {
										"instance-variable": "overUID",
										"value": "aTools.cursorUID"
									}
								}
							],
							"sid": 234089070770172,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "point",
											"sid": 603472143479858,
											"parameters": {
												"unique-id": "aTools.cursorUID"
											}
										}
									],
									"actions": [],
									"sid": 556475071101164,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "point",
													"sid": 150062621058046,
													"parameters": {
														"instance-variable": "secret",
														"comparison": 3,
														"value": "0"
													}
												},
												{
													"id": "is-animation-playing",
													"objectClass": "cursor",
													"sid": 504553604214961,
													"parameters": {
														"animation": "point.cursor"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "set-animation",
													"objectClass": "cursor",
													"sid": 394091849765011,
													"parameters": {
														"animation": "point.cursor",
														"from": "beginning"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 468496347377036,
													"parameters": {
														"instance-variable": "canimation",
														"value": "point.cursor"
													}
												}
											],
											"sid": 648795124486793
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "point",
													"sid": 717785530206003,
													"parameters": {
														"instance-variable": "secret",
														"comparison": 4,
														"value": "0"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "cursor",
													"sid": 959727130366334,
													"parameters": {
														"instance-variable": "canimation",
														"comparison": 1,
														"value": "\"secret\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 670809485974199,
													"parameters": {
														"instance-variable": "canimation",
														"value": "\"secret\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 490613753390017,
													"parameters": {
														"instance-variable": "animFrame",
														"value": "0"
													}
												},
												{
													"id": "monitorstr1",
													"objectClass": "vm",
													"sid": 577621901182238,
													"parameters": {
														"tag0": "\"cursor\"",
														"string1": "cursor.canimation"
													}
												},
												{
													"id": "set-mirrored",
													"objectClass": "cursor",
													"sid": 990930302160482,
													"disabled": true,
													"parameters": {
														"state": "not-mirrored"
													}
												}
											],
											"sid": 600444668898191
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 625444672973133
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "map",
											"sid": 911254944316013,
											"parameters": {
												"unique-id": "aTools.cursorUID"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "aTools",
											"sid": 583295271731939,
											"parameters": {
												"instance-variable": "mouseState",
												"comparison": 0,
												"value": "\"cursor\""
											}
										}
									],
									"actions": [],
									"sid": 515539152046385,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "map",
													"sid": 202324966467278,
													"parameters": {
														"instance-variable": "secret",
														"comparison": 4,
														"value": "0"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "cursor",
													"sid": 263406921519003,
													"parameters": {
														"instance-variable": "canimation",
														"comparison": 1,
														"value": "\"secret\""
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 758853477444578,
													"parameters": {
														"instance-variable": "canimation",
														"value": "\"secret\""
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 509048683402763,
													"parameters": {
														"instance-variable": "animFrame",
														"value": "0"
													}
												},
												{
													"id": "monitorstr1",
													"objectClass": "vm",
													"sid": 576352119770692,
													"parameters": {
														"tag0": "\"cursor\"",
														"string1": "cursor.canimation"
													}
												},
												{
													"id": "set-mirrored",
													"objectClass": "cursor",
													"sid": 143224433348684,
													"disabled": true,
													"parameters": {
														"state": "not-mirrored"
													}
												}
											],
											"sid": 529229411949838
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "map",
													"sid": 735994898391456,
													"parameters": {
														"instance-variable": "secret",
														"comparison": 3,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-instvar-value",
													"objectClass": "cursor",
													"sid": 444402956507875,
													"parameters": {
														"instance-variable": "canimation",
														"value": "map.cursor&aTools.cursorLMark"
													}
												}
											],
											"sid": 126683727488894,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "cursor",
															"sid": 319750069586068,
															"parameters": {
																"instance-variable": "canimation",
																"comparison": 1,
																"value": "map.cursor"
															}
														}
													],
													"actions": [
														{
															"id": "set-instvar-value",
															"objectClass": "cursor",
															"sid": 550035366008229,
															"parameters": {
																"instance-variable": "animFrame",
																"value": "0"
															}
														},
														{
															"id": "monitorstr1",
															"objectClass": "vm",
															"sid": 793067594853249,
															"parameters": {
																"tag0": "\"cursor\"",
																"string1": "cursor.canimation"
															}
														},
														{
															"id": "set-mirrored",
															"objectClass": "cursor",
															"sid": 609937983374602,
															"disabled": true,
															"parameters": {
																"state": "not-mirrored"
															}
														}
													],
													"sid": 484187039072095
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 274437187952607
										},
										{
											"id": "pick-by-unique-id",
											"objectClass": "map",
											"sid": 999868878550170,
											"parameters": {
												"unique-id": "zoneStop.UID"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "cursor",
											"sid": 598178604282084,
											"parameters": {
												"instance-variable": "canimation",
												"comparison": 1,
												"value": "Self.animOld"
											}
										},
										{
											"id": "is-overlapping-another-object",
											"objectClass": "cursor",
											"sid": 275485742349077,
											"parameters": {
												"object": "zoneStop"
											}
										},
										{
											"id": "cursor-is-over-object",
											"objectClass": "Mouse",
											"sid": 128101416639609,
											"disabled": true,
											"parameters": {
												"object": "zoneStop"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 111202626215586,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"lookLoop\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 514881037429389,
											"parameters": {
												"instance-variable": "animFrame",
												"value": "0"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 973818443246873,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 515740446942047,
											"parameters": {
												"instance-variable": "animOld",
												"value": "\"lookLoop\""
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "cursor",
											"sid": 535339030186808,
											"disabled": true,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 936606673175842
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 503101181975332
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 548719464551040,
											"parameters": {
												"instance-variable": "canimation",
												"value": "\"sleep\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "cursor",
											"sid": 516592383717244,
											"parameters": {
												"instance-variable": "animFrame",
												"value": "0"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 835397614236909,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "cursor",
											"sid": 676675801118500,
											"disabled": true,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 398225617725889,
									"disabled": true
								}
							]
						}
					]
				},
				{
					"eventType": "comment",
					"text": "\n\n\n\n\n\n   анимация курсора",
					"background-color": [
						0.9686274509803922,
						0.7725490196078432,
						0.5529411764705883,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "help",
							"sid": 718736988043401,
							"parameters": {
								"text": "cursor.canimation"
							}
						},
						{
							"id": "set-text",
							"objectClass": "help",
							"sid": 911509840921364,
							"parameters": {
								"text": "cursor.canimation"
							}
						}
					],
					"sid": 198662984969417,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "cursor",
							"sid": 904710789199360,
							"parameters": {
								"instance-variable": "canimation",
								"comparison": 1,
								"value": "Self.animOld"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aGame",
							"sid": 409598900688355,
							"parameters": {
								"instance-variable": "targetMod"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "cursor",
							"sid": 144979453819778,
							"parameters": {
								"animation": "Self.canimation",
								"from": "current-frame"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "cursor",
							"sid": 729820041311516,
							"parameters": {
								"frame-number": "Self.animFrame"
							}
						},
						{
							"id": "start-animation",
							"objectClass": "cursor",
							"sid": 443724487575333,
							"parameters": {
								"from": "current-frame"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "cursor",
							"sid": 926798297591192,
							"parameters": {
								"instance-variable": "animOld",
								"value": "Self.canimation"
							}
						}
					],
					"sid": 230779399048220,
					"disabled": true
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onvaluechange0",
							"objectClass": "vm",
							"sid": 458414882369302,
							"parameters": {
								"tag0": "\"cursor\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "cursor",
							"sid": 259758609144725,
							"disabled": true,
							"parameters": {
								"instance-variable": "state",
								"comparison": 0,
								"value": "\"move\""
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aGame",
							"sid": 897117639507053,
							"parameters": {
								"instance-variable": "targetMod"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "append-text",
							"objectClass": "help",
							"sid": 378775933442794,
							"disabled": true,
							"parameters": {
								"text": "\"A\""
							}
						},
						{
							"id": "set-animation",
							"objectClass": "cursor",
							"sid": 699109423071305,
							"parameters": {
								"animation": "Self.canimation",
								"from": "current-frame"
							}
						},
						{
							"id": "set-animation-frame",
							"objectClass": "cursor",
							"sid": 372520597152941,
							"parameters": {
								"frame-number": "Self.animFrame"
							}
						},
						{
							"id": "start-animation",
							"objectClass": "cursor",
							"sid": 550437943238544,
							"parameters": {
								"from": "current-frame"
							}
						},
						{
							"id": "append-text",
							"objectClass": "help",
							"sid": 442861643490015,
							"disabled": true,
							"parameters": {
								"text": "cursor.canimation"
							}
						}
					],
					"sid": 913526274227510,
					"children": [
						{
							"eventType": "comment",
							"text": "  глаза курсора над секретными объектами"
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "cursor",
									"sid": 537625403210404,
									"parameters": {
										"instance-variable": "canimation",
										"comparison": 0,
										"value": "\"secret\""
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "camera",
									"sid": 915454459949571,
									"parameters": {
										"instance-variable": "index",
										"comparison": 0,
										"value": "aTools.camindex"
									}
								},
								{
									"id": "compare-two-values",
									"objectClass": "System",
									"sid": 374685964374884,
									"parameters": {
										"first-value": "cursor.LayerName",
										"comparison": 1,
										"second-value": "\"shad\""
									}
								}
							],
							"actions": [
								{
									"id": "move-to-object",
									"objectClass": "cursorEyes",
									"sid": 125572727311128,
									"parameters": {
										"where": "in-front",
										"object": "cursor"
									}
								},
								{
									"id": "set-position",
									"objectClass": "cursorEyes",
									"sid": 754529281793235,
									"parameters": {
										"x": "cursor.ImagePointX(1)+random(3,-3)",
										"y": "cursor.ImagePointY(1)+random(3,-3)"
									}
								},
								{
									"id": "pin-to-object-properties",
									"objectClass": "cursorEyes",
									"sid": 880825170156984,
									"behaviorType": "Pin",
									"parameters": {
										"pin-to": "cursor",
										"x": true,
										"y": true,
										"angle": false,
										"width-type": "no",
										"height-type": "no",
										"z": false
									}
								},
								{
									"id": "set-scale",
									"objectClass": "cursorEyes",
									"sid": 922381488071137,
									"disabled": true,
									"parameters": {
										"scale": "cursor.sizeCoeff*camera.heroScaleCoeff*zoom"
									}
								},
								{
									"id": "set-scale",
									"objectClass": "cursorEyes",
									"sid": 220950586906767,
									"parameters": {
										"scale": "cursor.totalScale*0.87"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "cursorEyes",
									"sid": 431506266015302,
									"parameters": {
										"animation": "choose(\"blink\",\"blink\")",
										"from": "beginning"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "cursorEyes",
									"sid": 333810143449699,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "cursorEyes",
									"sid": 486314119376139,
									"parameters": {
										"animation": "choose(\"blink\",\"blink\")",
										"from": "beginning"
									}
								},
								{
									"id": "callselffunction0",
									"objectClass": "cursor",
									"sid": 717808658807200,
									"disabled": true,
									"behaviorType": "sf",
									"parameters": {
										"function_name:0": "\"eyes\""
									}
								}
							],
							"sid": 199223884111436
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "cursor",
									"sid": 181932598599926,
									"disabled": true,
									"parameters": {
										"instance-variable": "animOld",
										"comparison": 0,
										"value": "\"secret\""
									}
								},
								{
									"id": "is-animation-playing",
									"objectClass": "cursor",
									"sid": 290013500055808,
									"parameters": {
										"animation": "\"secret\""
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "cursorEyes",
									"sid": 533275318170926,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "unpin",
									"objectClass": "cursorEyes",
									"sid": 819444973173247,
									"behaviorType": "Pin"
								}
							],
							"sid": 983111307048043
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 371457427885978,
									"parameters": {
										"instance-variable": "animOld",
										"value": "Self.canimation"
									}
								}
							],
							"sid": 334104877644670
						}
					]
				},
				{
					"eventType": "comment",
					"text": "",
					"background-color": [
						0.9686274509803922,
						0.7725490196078432,
						0.5529411764705883,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-animation-finished",
							"objectClass": "cursor",
							"sid": 883761424933403,
							"parameters": {
								"animation": "\"click\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "aTools",
							"sid": 310335630945374,
							"parameters": {
								"instance-variable": "cursorUID",
								"comparison": 0,
								"value": "Self.oldUID"
							}
						}
					],
					"actions": [],
					"sid": 793124668543868,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "point",
									"sid": 871055879917395,
									"parameters": {
										"unique-id": "aTools.cursorUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 780033076421509,
									"parameters": {
										"animation": "\"\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 617817622327970,
									"parameters": {
										"instance-variable": "canimation",
										"value": "point.secret>0? \"secret\": point.cursor"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 839278331890632,
									"parameters": {
										"instance-variable": "animFrame",
										"value": "0"
									}
								},
								{
									"id": "monitorstr1",
									"objectClass": "vm",
									"sid": 266195123797973,
									"parameters": {
										"tag0": "\"cursor\"",
										"string1": "cursor.canimation"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "cursor",
									"sid": 782072937447503,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 951318537455761,
							"isOrBlock": true
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "map",
									"sid": 131381360592966,
									"parameters": {
										"unique-id": "aTools.cursorUID"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "cursor",
									"sid": 762912655320238,
									"parameters": {
										"animation": "\"\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 835659699651889,
									"parameters": {
										"instance-variable": "canimation",
										"value": "map.secret>0? \"secret\": map.cursor"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "cursor",
									"sid": 400303288684096,
									"parameters": {
										"instance-variable": "animFrame",
										"value": "0"
									}
								},
								{
									"id": "monitorstr1",
									"objectClass": "vm",
									"sid": 529445370744426,
									"parameters": {
										"tag0": "\"cursor\"",
										"string1": "cursor.canimation"
									}
								},
								{
									"id": "set-mirrored",
									"objectClass": "cursor",
									"sid": 666196050883479,
									"parameters": {
										"state": "not-mirrored"
									}
								}
							],
							"sid": 896655756300203
						}
					]
				},
				{
					"eventType": "comment",
					"text": "",
					"background-color": [
						0.9686274509803922,
						0.7725490196078432,
						0.5529411764705883,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 747276079598094,
							"parameters": {
								"interval-seconds": "1.0"
							}
						},
						{
							"id": "is-visible",
							"objectClass": "cursorEyes",
							"sid": 234880266142583
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 254274508786821,
							"parameters": {
								"first-value": "cursor.LayerName",
								"comparison": 1,
								"second-value": "\"shad\""
							}
						}
					],
					"actions": [
						{
							"id": "unpin",
							"objectClass": "cursorEyes",
							"sid": 614364595816722,
							"behaviorType": "Pin"
						},
						{
							"id": "move-to-object",
							"objectClass": "cursorEyes",
							"sid": 575333400073298,
							"parameters": {
								"where": "in-front",
								"object": "cursor"
							}
						},
						{
							"id": "set-position",
							"objectClass": "cursorEyes",
							"sid": 624113323681656,
							"parameters": {
								"x": "cursor.ImagePointX(1)+random(3,-3)",
								"y": "cursor.ImagePointY(1)+random(3,-3)"
							}
						},
						{
							"id": "pin-to-object-distance",
							"objectClass": "cursorEyes",
							"sid": 211190073569114,
							"behaviorType": "Pin",
							"parameters": {
								"pin-to": "cursor",
								"mode": "bar-style"
							}
						},
						{
							"id": "set-scale",
							"objectClass": "cursorEyes",
							"sid": 597163948257588,
							"parameters": {
								"scale": "cursor.totalScale"
							}
						}
					],
					"sid": 480741761892909
				},
				{
					"eventType": "comment",
					"text": "\n\n\nкурсор ожидания",
					"background-color": [
						0.9686274509803922,
						0.7725490196078432,
						0.5529411764705883,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "aBook",
							"sid": 410922591348778,
							"parameters": {
								"instance-variable": "mod",
								"comparison": 0,
								"value": "\"noControl\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "hero",
							"sid": 409414616143782,
							"parameters": {
								"instance-variable": "heroName",
								"comparison": 0,
								"value": "aBook.hero"
							}
						},
						{
							"id": "is-boolean-instance-variable-set",
							"objectClass": "aGame",
							"sid": 379968880188957,
							"parameters": {
								"instance-variable": "targetMod"
							},
							"isInverted": true
						}
					],
					"actions": [],
					"sid": 757736645997747,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "cursor",
									"sid": 928528992869953,
									"disabled": true,
									"parameters": {
										"object": "hero"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 733011323388508,
									"parameters": {
										"object": "hero"
									},
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 175676042201807,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "cursor",
											"sid": 131585168959447,
											"parameters": {
												"animation": "\"lookLoop\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "cursor",
											"sid": 238557325401989,
											"parameters": {
												"animation": "\"lookLoop\"",
												"from": "current-frame"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 698997063997344,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 941583574167084
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 329290217477397
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 159885441647900,
									"parameters": {
										"object": "hero"
									}
								},
								{
									"id": "is-overlapping-another-object",
									"objectClass": "cursor",
									"sid": 907802751780490,
									"disabled": true,
									"parameters": {
										"object": "hero"
									}
								}
							],
							"actions": [],
							"sid": 310609263179600,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "cursor",
											"sid": 230712481609510,
											"parameters": {
												"animation": "\"active\""
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "cursor",
											"sid": 801179012490432,
											"parameters": {
												"animation": "\"active\"",
												"from": "current-frame"
											}
										},
										{
											"id": "monitorstr1",
											"objectClass": "vm",
											"sid": 107368439413626,
											"parameters": {
												"tag0": "\"cursor\"",
												"string1": "cursor.canimation"
											}
										}
									],
									"sid": 858853229026591
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "else",
							"objectClass": "System",
							"sid": 133730381068687
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "aBook",
							"sid": 169977583352589,
							"parameters": {
								"instance-variable": "mod",
								"comparison": 0,
								"value": "\"noMouse\""
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "cursor",
							"sid": 925603323681211,
							"parameters": {
								"animation": "\"wait\""
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"id": "set-animation",
							"objectClass": "cursor",
							"sid": 730495920389677,
							"parameters": {
								"animation": "\"wait\"",
								"from": "current-frame"
							}
						},
						{
							"id": "monitorstr1",
							"objectClass": "vm",
							"sid": 412478605421728,
							"parameters": {
								"tag0": "\"cursor\"",
								"string1": "cursor.canimation"
							}
						}
					],
					"sid": 761908450203126
				}
			],
			"sid": 699327444164304
		}
	],
	"sid": 587975950456228
}