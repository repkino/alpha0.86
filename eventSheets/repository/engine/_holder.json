{
	"name": "_holder",
	"events": [
		{
			"eventType": "comment",
			"text": "\n   инвентарь способностей\n",
			"background-color": [
				0.5647058823529412,
				0.7411764705882353,
				0.9764705882352941,
				1
			]
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "holder",
			"description": "",
			"isActiveOnStart": false,
			"children": [
				{
					"eventType": "comment",
					"text": "клик правой кнопкой по кокону способности вызывает холдер",
					"background-color": [
						0.5647058823529412,
						0.7411764705882353,
						0.9764705882352941,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onselffunction0",
							"objectClass": "cocobutton",
							"sid": 759782994203216,
							"behaviorType": "sfPoint",
							"parameters": {
								"function_name:0": "\"abilHolder\""
							}
						},
						{
							"id": "is-animation-playing",
							"objectClass": "cocobutton",
							"sid": 939673753215493,
							"parameters": {
								"animation": "\"off\""
							},
							"isInverted": true
						},
						{
							"id": "is-animation-playing",
							"objectClass": "cocobutton",
							"sid": 850340102714770,
							"parameters": {
								"animation": "\"up\""
							},
							"isInverted": true
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "rockAbil",
							"sid": 500231346703811,
							"parameters": {
								"instance-variable": "index",
								"comparison": 0,
								"value": "cocobutton.index"
							}
						}
					],
					"actions": [
						{
							"callFunction": "holderOpen",
							"sid": 414826943235930,
							"parameters": [
								"cocobutton.pName"
							]
						}
					],
					"sid": 750507760871780
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onselffunction0",
							"objectClass": "cocoTill",
							"sid": 585885909469200,
							"behaviorType": "sfPoint",
							"parameters": {
								"function_name:0": "\"abilHolder\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "cocobutton",
							"sid": 357121181550812,
							"parameters": {
								"instance-variable": "pName",
								"comparison": 0,
								"value": "cocoTill.pName"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "rockAbil",
							"sid": 156596179175742,
							"parameters": {
								"instance-variable": "index",
								"comparison": 0,
								"value": "cocobutton.index"
							}
						}
					],
					"actions": [
						{
							"callFunction": "holderOpen",
							"sid": 467199152684465,
							"parameters": [
								"cocobutton.pName"
							]
						}
					],
					"sid": 983273324283571
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onselffunction0",
							"objectClass": "cocoTop",
							"sid": 822384178997473,
							"behaviorType": "sfPoint",
							"parameters": {
								"function_name:0": "\"abilHolder\""
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "cocobutton",
							"sid": 935219473232548,
							"parameters": {
								"instance-variable": "pName",
								"comparison": 0,
								"value": "cocoTop.pName"
							}
						},
						{
							"id": "compare-instance-variable",
							"objectClass": "rockAbil",
							"sid": 488667211476577,
							"parameters": {
								"instance-variable": "index",
								"comparison": 0,
								"value": "cocobutton.index"
							}
						}
					],
					"actions": [
						{
							"callFunction": "holderOpen",
							"sid": 241889387440390,
							"parameters": [
								"cocobutton.pName"
							]
						}
					],
					"sid": 778073001360877
				},
				{
					"eventType": "comment",
					"text": "\n\n",
					"background-color": [
						0.5647058823529412,
						0.7411764705882353,
						0.9764705882352941,
						1
					]
				},
				{
					"eventType": "variable",
					"name": "hStartX",
					"type": "number",
					"initialValue": "0",
					"comment": "Динамическая точка старта меню",
					"isStatic": false,
					"isConstant": false,
					"sid": 750304943325548
				},
				{
					"eventType": "variable",
					"name": "hSegmentWidth",
					"type": "number",
					"initialValue": "60",
					"comment": "Ширина одной ячейки",
					"isStatic": false,
					"isConstant": true,
					"sid": 594477484286980
				},
				{
					"eventType": "comment",
					"text": "ЛОГИКА: Возвращает все элементы холдера в банк вне макета.",
					"background-color": [
						0.5137254901960784,
						0.8941176470588236,
						0.48627450980392156,
						1
					]
				},
				{
					"functionName": "holderClean",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "holder",
							"sid": 471313798153536,
							"parameters": {
								"x": "-2000",
								"y": "-2000"
							}
						},
						{
							"id": "set-position",
							"objectClass": "hBody",
							"sid": 967698958309393,
							"parameters": {
								"x": "-2000",
								"y": "-2000"
							}
						},
						{
							"id": "set-position",
							"objectClass": "hCap",
							"sid": 219850505945568,
							"parameters": {
								"x": "-2000",
								"y": "-2000"
							}
						},
						{
							"id": "set-position",
							"objectClass": "holdAbil",
							"sid": 835086087827002,
							"parameters": {
								"x": "-2000",
								"y": "-2000"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "aUI",
							"sid": 755130466384376,
							"parameters": {
								"instance-variable": "holder",
								"value": "\"zero\""
							}
						}
					],
					"sid": 425382879298070,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "quant",
									"sid": 588867631688178,
									"parameters": {
										"instance-variable": "holder"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "quant",
									"sid": 477689835678995
								}
							],
							"sid": 549400124615606
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Выбор способности и возврат в банк",
					"background-color": [
						0.5137254901960784,
						0.8941176470588236,
						0.48627450980392156,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "onselffunction0",
							"objectClass": "holdAbil",
							"sid": 116859028945493,
							"behaviorType": "sfPoint",
							"parameters": {
								"function_name:0": "\"holdAbil\""
							}
						}
					],
					"actions": [],
					"sid": 232400946898108,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "aUI",
									"sid": 923705582853232,
									"parameters": {
										"instance-variable": "holder",
										"comparison": 0,
										"value": "\"ball\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "aGame",
									"sid": 721038947053488,
									"parameters": {
										"instance-variable": "gunBit",
										"value": "holdAbil.hSign"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "aUI",
									"sid": 127886128892687,
									"parameters": {
										"instance-variable": "aBallName",
										"value": "holdAbil.hSign"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "snowgun",
									"sid": 699502602281389,
									"parameters": {
										"instance-variable": "abilName",
										"value": "holdAbil.hSign"
									}
								},
								{
									"id": "set-animation",
									"objectClass": "snowgun",
									"sid": 832532760065113,
									"parameters": {
										"animation": "Self.abilName",
										"from": "beginning"
									}
								},
								{
									"id": "set-scale",
									"objectClass": "snowgun",
									"sid": 823506625575473,
									"parameters": {
										"scale": "Self.abilName=\"target\"|Self.abilName=\"auto\"?0.4:0.65"
									}
								}
							],
							"sid": 761088534646474,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "holdAbil",
											"sid": 222548616734217,
											"parameters": {
												"instance-variable": "ball",
												"comparison": 4,
												"value": "1"
											}
										}
									],
									"actions": [
										{
											"type": "comment",
											"text": "число предметов",
											"background-color": [
												0.7450980392156863,
												0.9803921568627451,
												0.996078431372549,
												1
											]
										},
										{
											"id": "spawn-another-object",
											"objectClass": "snowgun",
											"sid": 433726304358559,
											"parameters": {
												"object": "quant",
												"layer": "\"ui\"",
												"image-point": "0",
												"create-hierarchy": false,
												"template-name": "\"\""
											}
										},
										{
											"id": "set-position",
											"objectClass": "quant",
											"sid": 687105263190178,
											"parameters": {
												"x": "snowgun.X+15",
												"y": "snowgun.Y+15"
											}
										},
										{
											"id": "set-text",
											"objectClass": "quant",
											"sid": 619683849865235,
											"parameters": {
												"text": "holdAbil.ball"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "quant",
											"sid": 725262665969129,
											"parameters": {
												"instance-variable": "hostUID",
												"value": "snowgun.UID"
											}
										},
										{
											"id": "set-boolean-instvar",
											"objectClass": "quant",
											"sid": 487679354991010,
											"parameters": {
												"instance-variable": "abil",
												"value": "true"
											}
										},
										{
											"id": "move-to-object",
											"objectClass": "quant",
											"sid": 827767601119678,
											"parameters": {
												"where": "in-front",
												"object": "snowgun"
											}
										},
										{
											"id": "pin-to-object-properties",
											"objectClass": "quant",
											"sid": 929875599593618,
											"behaviorType": "Pin",
											"parameters": {
												"pin-to": "snowgun",
												"x": true,
												"y": true,
												"angle": false,
												"width-type": "no",
												"height-type": "no",
												"z": false
											}
										}
									],
									"sid": 668613326599471
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "holderClean",
									"sid": 637989784227399
								},
								{
									"callFunction": "gamePause",
									"sid": 767450944981755,
									"parameters": [
										"\"play\""
									]
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 227328596663170,
									"parameters": {
										"group-name": "\"holder\"",
										"state": "deactivated"
									}
								},
								{
									"id": "stop-tweens",
									"objectClass": "veil",
									"sid": 139007926345365,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"vdd\""
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "veil",
									"sid": 536057107895911,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"vd\"",
										"property": "offsetOpacity",
										"end-value": "0",
										"time": "0.3",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 669602214413705
						}
					]
				},
				{
					"eventType": "comment",
					"text": "Закрытие при клике мимо (если холдер существует)",
					"background-color": [
						0.5137254901960784,
						0.8941176470588236,
						0.48627450980392156,
						1
					]
				},
				{
					"eventType": "comment",
					"text": "Закрытие кликом мимо (проверка через курсор)",
					"background-color": [
						0.5137254901960784,
						0.8941176470588236,
						0.48627450980392156,
						1
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-any-click",
							"objectClass": "Mouse",
							"sid": 475358874487256
						},
						{
							"id": "compare-two-values",
							"objectClass": "System",
							"sid": 527877529923393,
							"disabled": true,
							"parameters": {
								"first-value": "holder.Y",
								"comparison": 4,
								"second-value": "0"
							}
						},
						{
							"id": "is-on-screen",
							"objectClass": "holder",
							"sid": 217912627376594,
							"disabled": true
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "cursor",
							"sid": 181339067317704,
							"parameters": {
								"object": "holdAbil"
							},
							"isInverted": true
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "cursor",
							"sid": 252417609457118,
							"parameters": {
								"object": "hBody"
							},
							"isInverted": true
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "cursor",
							"sid": 654649644306187,
							"parameters": {
								"object": "holder"
							},
							"isInverted": true
						},
						{
							"id": "is-overlapping-another-object",
							"objectClass": "cursor",
							"sid": 344041434299456,
							"parameters": {
								"object": "hCap"
							},
							"isInverted": true
						}
					],
					"actions": [
						{
							"callFunction": "holderClean",
							"sid": 188391321542628
						},
						{
							"callFunction": "gamePause",
							"sid": 507064001375328,
							"parameters": [
								"\"play\""
							]
						},
						{
							"id": "set-group-active",
							"objectClass": "System",
							"sid": 561604892885617,
							"parameters": {
								"group-name": "\"holder\"",
								"state": "deactivated"
							}
						},
						{
							"id": "stop-tweens",
							"objectClass": "veil",
							"sid": 952492333685578,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"vdd\""
							}
						},
						{
							"id": "tween-one-property",
							"objectClass": "veil",
							"sid": 206871695518536,
							"behaviorType": "Tween",
							"parameters": {
								"tags": "\"vd\"",
								"property": "offsetOpacity",
								"end-value": "0",
								"time": "0.3",
								"ease": "easeinsine",
								"destroy-on-complete": "no",
								"loop": "no",
								"ping-pong": "no",
								"repeat-count": "1"
							}
						}
					],
					"sid": 881528995521019
				},
				{
					"eventType": "comment",
					"text": "\nоткрытие холдера",
					"background-color": [
						0.5137254901960784,
						0.8941176470588236,
						0.48627450980392156,
						1
					]
				},
				{
					"functionName": "holderOpen",
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionCopyPicked": false,
					"functionIsAsync": false,
					"functionParameters": [
						{
							"name": "abilName",
							"type": "string",
							"initialValue": "ball",
							"comment": "",
							"sid": 223945378280018
						}
					],
					"eventType": "function-block",
					"conditions": [],
					"actions": [
						{
							"type": "comment",
							"text": "ПОДГОТОВКА: Очистка старого состояния",
							"background-color": [
								0.33,
								0.73,
								0.48,
								1
							]
						},
						{
							"callFunction": "holderClean",
							"sid": 939771695533695
						}
					],
					"sid": 946819632675758,
					"children": [
						{
							"eventType": "comment",
							"text": "повторное нажатие той же способности закрывает холдер",
							"background-color": [
								0.5137254901960784,
								0.8941176470588236,
								0.48627450980392156,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 308864600456024,
									"parameters": {
										"variable": "abilName",
										"comparison": 0,
										"value": "holder.openAbil"
									}
								}
							],
							"actions": [
								{
									"callFunction": "gamePause",
									"sid": 520586618464241,
									"parameters": [
										"\"play\""
									]
								},
								{
									"id": "set-instvar-value",
									"objectClass": "holder",
									"sid": 948635244619035,
									"parameters": {
										"instance-variable": "openAbil",
										"value": "\"zero\""
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 909361079746212,
									"parameters": {
										"group-name": "\"holder\"",
										"state": "deactivated"
									}
								},
								{
									"id": "stop-tweens",
									"objectClass": "veil",
									"sid": 287871164987406,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"vdd\""
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "veil",
									"sid": 305587438697665,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"vd\"",
										"property": "offsetOpacity",
										"end-value": "0",
										"time": "0.3",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 360241020025076
						},
						{
							"eventType": "comment",
							"text": "первое открывает",
							"background-color": [
								0.5137254901960784,
								0.8941176470588236,
								0.48627450980392156,
								1
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 866371057450478
								}
							],
							"actions": [
								{
									"callFunction": "gamePause",
									"sid": 830703633385783,
									"parameters": [
										"\"menu\""
									]
								},
								{
									"id": "stop-tweens",
									"objectClass": "veil",
									"sid": 896361827233475,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"vd\""
									}
								},
								{
									"id": "set-size",
									"objectClass": "veil",
									"sid": 664405012525936,
									"parameters": {
										"width": "1290",
										"height": "730"
									}
								},
								{
									"id": "tween-one-property",
									"objectClass": "veil",
									"sid": 623591527855921,
									"behaviorType": "Tween",
									"parameters": {
										"tags": "\"vdd\"",
										"property": "offsetOpacity",
										"end-value": "60",
										"time": "0.1",
										"ease": "easeinsine",
										"destroy-on-complete": "no",
										"loop": "no",
										"ping-pong": "no",
										"repeat-count": "1"
									}
								}
							],
							"sid": 924360670168716,
							"children": [
								{
									"eventType": "comment",
									"text": "для способности BALL",
									"background-color": [
										0.5137254901960784,
										0.8941176470588236,
										0.48627450980392156,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 997889630265368,
											"parameters": {
												"variable": "abilName",
												"comparison": 0,
												"value": "\"ball\""
											}
										}
									],
									"actions": [
										{
											"id": "clear",
											"objectClass": "balls",
											"sid": 810624659066151
										}
									],
									"sid": 217842917431920,
									"children": [
										{
											"eventType": "comment",
											"text": "Фильтруем инвентарь. Если ball > 0, заносим значение в словарь.",
											"background-color": [
												0.67,
												0.98,
												0.79,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-ordered",
													"objectClass": "System",
													"sid": 306451821089210,
													"parameters": {
														"object": "itemInv",
														"expression": "itemInv.ball",
														"order": "ascending"
													}
												},
												{
													"id": "compare-instance-variable",
													"objectClass": "itemInv",
													"sid": 963811133318902,
													"parameters": {
														"instance-variable": "ball",
														"comparison": 4,
														"value": "0"
													}
												},
												{
													"id": "has-key",
													"objectClass": "balls",
													"sid": 138706968641360,
													"parameters": {
														"key": "itemInv.iSign"
													},
													"isInverted": true
												}
											],
											"actions": [
												{
													"id": "add-key",
													"objectClass": "balls",
													"sid": 824406394121164,
													"parameters": {
														"key": "itemInv.iSign",
														"value": "itemInv.iQuant"
													}
												}
											],
											"sid": 777861970885401
										},
										{
											"eventType": "comment",
											"text": "Вычисляем X старта для центрирования пенала",
											"background-color": [
												0.67,
												0.98,
												0.79,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 891710513923777,
													"parameters": {
														"variable": "hStartX",
														"value": "640 + (((1+balls.KeyCount) * hSegmentWidth) / 2)"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "holder",
													"sid": 239873117414646,
													"parameters": {
														"instance-variable": "openAbil",
														"value": "abilName"
													}
												},
												{
													"id": "set-position",
													"objectClass": "holder",
													"sid": 467468358209109,
													"parameters": {
														"x": "hstartx",
														"y": "360"
													}
												},
												{
													"id": "set-position",
													"objectClass": "hBody",
													"sid": 959310174438257,
													"parameters": {
														"x": "holder.x",
														"y": "holder.y"
													}
												},
												{
													"id": "set-width",
													"objectClass": "hBody",
													"sid": 795134681079755,
													"parameters": {
														"width": "(1+balls.KeyCount) * hsegmentwidth"
													}
												},
												{
													"id": "set-position",
													"objectClass": "hCap",
													"sid": 311950577437342,
													"parameters": {
														"x": "hBody.X - hBody.Width",
														"y": "360"
													}
												},
												{
													"id": "set-instvar-value",
													"objectClass": "aUI",
													"sid": 471839072553653,
													"parameters": {
														"instance-variable": "holder",
														"value": "abilName"
													}
												}
											],
											"sid": 319508591951338
										},
										{
											"eventType": "comment",
											"text": "Шаг 3: Расстановка иконок из банка",
											"background-color": [
												0.5137254901960784,
												0.8941176470588236,
												0.48627450980392156,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-key",
													"objectClass": "balls",
													"sid": 599287064896091
												}
											],
											"actions": [],
											"sid": 923366397111338,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-y",
															"objectClass": "holdAbil",
															"sid": 890656278496343,
															"parameters": {
																"comparison": 2,
																"y-co-ordinate": "0"
															}
														}
													],
													"actions": [],
													"sid": 483769924367960,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-random-instance",
																	"objectClass": "System",
																	"sid": 323785213707536,
																	"parameters": {
																		"object": "holdAbil"
																	}
																}
															],
															"actions": [
																{
																	"type": "comment",
																	"text": "Перемещаем иконку из банка на вычисленную позицию",
																	"background-color": [
																		0.67,
																		0.98,
																		0.79,
																		1
																	]
																},
																{
																	"id": "set-position",
																	"objectClass": "holdAbil",
																	"sid": 397325383769917,
																	"parameters": {
																		"x": "hStartX - 45 - (loopindex * hSegmentWidth) + (hSegmentWidth / 2)",
																		"y": "360"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "holdAbil",
																	"sid": 112465709098123,
																	"parameters": {
																		"animation": "balls.CurrentKey",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "holdAbil",
																	"sid": 794253829410161,
																	"parameters": {
																		"instance-variable": "hSign",
																		"value": "balls.CurrentKey"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "holdAbil",
																	"sid": 229810440665667,
																	"parameters": {
																		"instance-variable": "ball",
																		"value": "balls.Get(balls.CurrentKey)"
																	}
																}
															],
															"sid": 488976971918131,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-instance-variable",
																			"objectClass": "holdAbil",
																			"sid": 134011650185795,
																			"parameters": {
																				"instance-variable": "ball",
																				"comparison": 4,
																				"value": "1"
																			}
																		}
																	],
																	"actions": [
																		{
																			"type": "comment",
																			"text": "число предметов",
																			"background-color": [
																				0.7450980392156863,
																				0.9803921568627451,
																				0.996078431372549,
																				1
																			]
																		},
																		{
																			"id": "spawn-another-object",
																			"objectClass": "holdAbil",
																			"sid": 623144058949917,
																			"parameters": {
																				"object": "quant",
																				"layer": "\"ui\"",
																				"image-point": "0",
																				"create-hierarchy": false,
																				"template-name": "\"\""
																			}
																		},
																		{
																			"id": "set-position",
																			"objectClass": "quant",
																			"sid": 874907536236235,
																			"parameters": {
																				"x": "holdAbil.X+15",
																				"y": "holdAbil.Y+15"
																			}
																		},
																		{
																			"id": "set-text",
																			"objectClass": "quant",
																			"sid": 685578349597531,
																			"parameters": {
																				"text": "holdAbil.ball"
																			}
																		},
																		{
																			"id": "set-instvar-value",
																			"objectClass": "quant",
																			"sid": 871236950766321,
																			"parameters": {
																				"instance-variable": "hostUID",
																				"value": "holdAbil.UID"
																			}
																		},
																		{
																			"id": "set-boolean-instvar",
																			"objectClass": "quant",
																			"sid": 962719718450365,
																			"parameters": {
																				"instance-variable": "holder",
																				"value": "true"
																			}
																		},
																		{
																			"id": "move-to-object",
																			"objectClass": "quant",
																			"sid": 557456527470093,
																			"parameters": {
																				"where": "in-front",
																				"object": "holdAbil"
																			}
																		},
																		{
																			"id": "pin-to-object-properties",
																			"objectClass": "quant",
																			"sid": 418923706658562,
																			"disabled": true,
																			"behaviorType": "Pin",
																			"parameters": {
																				"pin-to": "holdAbil",
																				"x": true,
																				"y": true,
																				"angle": false,
																				"width-type": "no",
																				"height-type": "no",
																				"z": false
																			}
																		}
																	],
																	"sid": 266010779154882
																}
															]
														}
													]
												}
											]
										}
									]
								},
								{
									"eventType": "comment",
									"text": "ЛОГИКА FORMS: Сбор данных из dForms и расстановка иконок",
									"background-color": [
										0.33,
										0.73,
										0.48,
										1
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 439126732046261,
											"parameters": {
												"variable": "abilName",
												"comparison": 0,
												"value": "\"forms\""
											}
										}
									],
									"actions": [
										{
											"id": "clear",
											"objectClass": "forms",
											"sid": 369824948405162
										}
									],
									"sid": 144957039255760,
									"children": [
										{
											"eventType": "comment",
											"text": "ШАГ 1: Копируем изученные формы из dForms",
											"background-color": [
												0.67,
												0.98,
												0.79,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-key",
													"objectClass": "dForms",
													"sid": 496090530907940
												}
											],
											"actions": [
												{
													"id": "add-key",
													"objectClass": "forms",
													"sid": 946146419792429,
													"parameters": {
														"key": "dForms.CurrentKey",
														"value": "dForms.CurrentValue"
													}
												}
											],
											"sid": 542067777045799
										},
										{
											"eventType": "comment",
											"text": "ШАГ 2: Расчет позиции и перемещение базы",
											"background-color": [
												0.67,
												0.98,
												0.79,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 319641383504674,
													"parameters": {
														"variable": "hStartX",
														"value": "640 + (((1+forms.KeyCount) * hSegmentWidth) / 2)"
													}
												},
												{
													"id": "set-position",
													"objectClass": "holder",
													"sid": 670527353069629,
													"parameters": {
														"x": "hStartX",
														"y": "360"
													}
												},
												{
													"id": "set-position",
													"objectClass": "hBody",
													"sid": 183654027827276,
													"parameters": {
														"x": "holder.X",
														"y": "holder.Y"
													}
												},
												{
													"id": "set-width",
													"objectClass": "hBody",
													"sid": 582092362986321,
													"parameters": {
														"width": "(1+forms.KeyCount) * hSegmentWidth"
													}
												},
												{
													"id": "set-position",
													"objectClass": "hCap",
													"sid": 238050692314163,
													"parameters": {
														"x": "hBody.X - hBody.Width",
														"y": "360"
													}
												}
											],
											"sid": 511744074976295
										},
										{
											"eventType": "comment",
											"text": "ШАГ 3: Перемещение иконок форм из банка на экран",
											"background-color": [
												0.67,
												0.98,
												0.79,
												1
											]
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each-key",
													"objectClass": "forms",
													"sid": 704923795514700
												}
											],
											"actions": [],
											"sid": 156350030099545,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-y",
															"objectClass": "holdAbil",
															"sid": 254618106574986,
															"parameters": {
																"comparison": 2,
																"y-co-ordinate": "0"
															}
														},
														{
															"id": "pick-random-instance",
															"objectClass": "System",
															"sid": 162056565936809,
															"parameters": {
																"object": "holdAbil"
															}
														}
													],
													"actions": [
														{
															"id": "set-position",
															"objectClass": "holdAbil",
															"sid": 797510781750625,
															"parameters": {
																"x": "hStartX - 45 - (loopindex * hSegmentWidth) + (hSegmentWidth / 2)",
																"y": "360"
															}
														},
														{
															"id": "set-animation",
															"objectClass": "holdAbil",
															"sid": 550200842139618,
															"parameters": {
																"animation": "forms.CurrentKey",
																"from": "beginning"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "holdAbil",
															"sid": 944117463148214,
															"parameters": {
																"instance-variable": "hSign",
																"value": "forms.CurrentKey"
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "holdAbil",
															"sid": 448582979178785,
															"parameters": {
																"instance-variable": "formEnergy",
																"value": "forms.Get(forms.CurrentKey)"
															}
														}
													],
													"sid": 475281012655680,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 789837274823133,
																	"parameters": {
																		"first-value": "floor(aBit.energo / holdAbil.formEnergy)",
																		"comparison": 2,
																		"second-value": "20"
																	}
																}
															],
															"actions": [
																{
																	"id": "spawn-another-object",
																	"objectClass": "holdAbil",
																	"sid": 485920536521774,
																	"parameters": {
																		"object": "quant",
																		"layer": "\"ui\"",
																		"image-point": "0",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-text",
																	"objectClass": "quant",
																	"sid": 568766423468949,
																	"parameters": {
																		"text": "floor(aBit.energo / holdAbil.formEnergy)"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "quant",
																	"sid": 997155568001252,
																	"parameters": {
																		"instance-variable": "hostUID",
																		"value": "holdAbil.UID"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "quant",
																	"sid": 886204308636223,
																	"parameters": {
																		"instance-variable": "holder",
																		"value": "true"
																	}
																}
															],
															"sid": 864401055446665,
															"disabled": true
														}
													]
												}
											]
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 253788522998105
		}
	],
	"sid": 472327917008711
}